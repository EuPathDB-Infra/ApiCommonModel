<wdkModel>


  <!--===========================================================================-->
  <!-- Metrics   questions (public)  -->
  <!--===========================================================================-->

  <questionSet name="MetricsQuestions" displayName="Search for Metrics">


    <!-- ************************************************************ -->
    <!-- Gene Page Tables                            -->
    <!-- ************************************************************ -->
    <question name="GenePageTableMetrics"
      displayName="GenePageTable Metrics"
      shortDisplayName="GenePageTables"
      queryRef="MetricsId.GenePageTableMetrics"
      recordClassRef="MetricsRecordClasses.MetricsRecordClass"  >

      <attributesList
        summary="project_id,record_class,table_name,count,start_date,end_date"
        sorting="count desc,record_class asc,table_name asc,project_id asc"
      />

      <summary>
        Tools usage.
      </summary>

      <description>
        Tools usage  by users, and the mozilla counts (no bots).
      </description>

      <dynamicAttributes>

        <columnAttribute name="project_id" displayName="Project ID" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="record_class" displayName="Record class" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="table_name" displayName="Table name" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="count" displayName="# Hits" align="center">
          <reporter name="histogram" displayName="Histogram" scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
            <description>Display the histogram of the values of this attribute</description>
            <property name="type">int</property>
          </reporter>
        </columnAttribute>

        <columnAttribute name="start_date" displayName="Start Date"/>
        <columnAttribute name="end_date" displayName="End Date"/>

      </dynamicAttributes>

    </question>



    <!-- ************************************************************ -->
    <!-- Tools                            -->
    <!-- ************************************************************ -->
    <question name="ToolMetrics"
      displayName="Tool Metrics"
      shortDisplayName="Tools"
      queryRef="MetricsId.ToolMetrics"
      recordClassRef="MetricsRecordClasses.MetricsRecordClass"  >

      <attributesList
        summary="project_id,tool,count,mozilla_count,start_date,end_date"
        sorting="count desc,tool asc,project_id asc"
      />

      <summary>
        Tools usage.
      </summary>

      <description>
        Tools usage  by users, and the mozilla counts (no bots).
      </description>

      <dynamicAttributes>

        <columnAttribute name="project_id" displayName="Project ID" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="tool" displayName="Tool" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="count" displayName="# Hits" align="center">
          <reporter name="histogram" displayName="Histogram" scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
            <description>Display the histogram of the values of this attribute</description>
            <property name="type">int</property>
          </reporter>
        </columnAttribute>

        <columnAttribute name="mozilla_count" displayName="# NoBots Hits" align="center">
          <reporter name="histogram" displayName="Histogram" scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
            <description>Display the histogram of the values of this attribute</description>
            <property name="type">int</property>
          </reporter>
        </columnAttribute>

        <columnAttribute name="start_date" displayName="Start Date"/>
        <columnAttribute name="end_date" displayName="End Date"/>

      </dynamicAttributes>

    </question>


    <!-- ************************************************************ -->
    <!-- Searches: step count                            -->
    <!-- ************************************************************ -->
    <question name="SearchMetrics"
      displayName="Search Metrics"
      shortDisplayName="Searches"
      queryRef="MetricsId.SearchMetrics"
      recordClassRef="MetricsRecordClasses.MetricsRecordClass"  >

      <attributesList
        summary="project_id,search_name,steps_count,start_date,end_date"
        sorting="steps_count desc,search_name asc,project_id asc"
      />

      <summary>
        Searches and their step count.
      </summary>

      <description>
        Searches run by users, and their step count.
      </description>

      <dynamicAttributes>

        <columnAttribute name="project_id" displayName="Project ID" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="search_name" displayName="Search name" align="center">
          <reporter name="wordCloud" displayName="Word Cloud" scopes=""
                    implementation="org.eupathdb.common.model.report.EbrcWordCloudAttributeReporter">
            <description>
              <![CDATA[ Display the terms in the attribute as word clouds ]]>
            </description>
          </reporter>
        </columnAttribute>

        <columnAttribute name="steps_count" displayName="# Steps" align="center">
          <reporter name="histogram" displayName="Histogram" scopes=""
                    implementation="org.gusdb.wdk.model.report.reporter.HistogramAttributeReporter">
            <description>Display the histogram of the values of this attribute</description>
            <property name="type">int</property>
          </reporter>
        </columnAttribute>

        <columnAttribute name="start_date" displayName="Start Date"/>
        <columnAttribute name="end_date" displayName="End Date"/>

      </dynamicAttributes>

    </question>

  </questionSet>


</wdkModel>


<wdkModel>

  <questionSet name="IsolateQuestions"
               displayName="Search for Isolates" excludeProjects="HostDB">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Id -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByIsolateId" 
              searchCategory="Other Attributes"
              displayName="Isolate ID(s)"
              shortDisplayName="Isolate IDs"
              queryRef="IsolateIds.IsolateByIsolateId" 
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              noSummaryOnSingleRecord="true" excludeProjects="EuPathDB">

      <suggestion newBuild="23" includeProjects="TrichDB" />
             <summary>
               Find Isolates by ID.
             </summary>
             
             <description excludeProjects="ToxoDB,PlasmoDB">
               Find Isolates by ID. The IDs are usually the Genbank accession number. Either enter the 
               ID list manually, or upload a file that contains the list. IDs can be delimited by a comma, 
               a semi colon, or any white spaces. 
             </description>
            <description includeProjects="PlasmoDB">
               Find P. falciparum isolates by identification numbers (IDs). The IDs are usually the Genbank accession number. Either enter the 
               ID list manually, or upload a file that contains the list. IDs can be delimited by a comma, 
               a semi colon, or any white spaces.
             </description>
            <description includeProjects="ToxoDB">
             Find T. gondii isolates by identification numbers (IDs). The IDs are usually the Genbank 
             accession number. Either enter the ID list manually, or upload a file that contains the list.
             IDs can be delimited by a comma, a semi colon, or any white spaces.
            </description>


   </question>

 <question name="IsolateByIsolateId" 
              searchCategory="Other Attributes"
              displayName="Isolate ID(s)"
              shortDisplayName="Isolate IDs"
              queryRef="IsolateIds.IsolateByIsolateId" 
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              noSummaryOnSingleRecord="false" includeProjects="EuPathDB">

             <summary>
               Find Isolates by ID.
             </summary>
          <description>
             <![CDATA[
               Find Isolates by ID. Either enter the ID list manually, or upload a file that contains the list.  
               The IDs are usually the Genbank accession number. 
               IDs can be delimited by a comma, a semi colon, or any white spaces.
	       <BR>To find out which organisms have isolate data, see <a href="/a/showXmlDataContent.do?name=XmlQuestions.GenomeDataType">our data summary table</a>.
             ]]> 
             </description>


      </question>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- With Gene Overlap -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<!--
    <question name="IsolateWithGeneOverlap"
              searchCategory="Other Attributes"
              displayName="Extent of Gene Overlap"
              shortDisplayName="Gene Overlap"
              queryRef="IsolateIds.IsolateWithGeneOverlap"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              noSummaryOnSingleRecord="false" includeProjects="CryptoDB,EuPathDB">

      <attributesList includeProjects="CryptoDB,EuPathDB"
           summary="organism, product, gene, gene_product" />

      <summary>
         Find Isolates that overlap or not with a gene.
      </summary> 

      <description>
        Find Isolates that Overlap a Gene.
      </description> 


    </question>

-->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Taxon -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByTaxon"
              searchCategory="Other Attributes"
              shortDisplayName="Taxon"
              queryRef="IsolateIds.IsolateByTaxon"
              displayName="Parasite Taxon/Strain"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">

      <suggestion newBuild="23" includeProjects="TrichDB" />
        <summary>
          Find isolates from one or more parasite taxon.
        </summary> 
        <description> 
        <![CDATA[ 
          Find isolates from one or more parasite taxon.  
        ]]> 
       </description> 

    </question>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Specific Host -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByHost"
              searchCategory="Other Attributes"
              displayName="Host Taxon"
              shortDisplayName="Host Taxon"
              queryRef="IsolateIds.IsolateByHost"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">

      <suggestion newBuild="23" includeProjects="TrichDB" />
      <attributesList  summary="organism, strain, specific_host, isolation_source"/>
      <summary> 
        Find isolates by host taxon.
       </summary> 
      <description> 
      <![CDATA[ 
         Find isolates by host taxon.  
      ]]> 
      </description> 

    </question>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Isolation Source -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByIsolationSource"
              searchCategory="Other Attributes"
              displayName="Isolation Source"
              shortDisplayName="Isolate Src."
              queryRef="IsolateIds.IsolateByIsolationSource"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">

      <suggestion newBuild="23" includeProjects="TrichDB" />

      <attributesList  summary="organism, strain, isolation_source, specific_host"/>
        <summary> 
          Find isolates by isolation source.
        </summary> 
        <description> 
          <![CDATA[ 
          Find isolates by isolation source.  
        ]]> 
        </description> 

    </question>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Isolate by Product -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByProduct"
              searchCategory="Other Attributes"
              displayName="Locus Sequence Name"
              shortDisplayName="Locus Sequence Name"
              queryRef="IsolateIds.IsolateByProduct"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">

      <suggestion newBuild="23" includeProjects="TrichDB" />

      <attributesList summary="organism, strain, product, description, geographic_location" /> 
        <summary> 
This search allows you to identify isolates based on the name of the gene (product name) that was used during the genotyping process. To use this search start typing the name of a gene that was used in genotyping.
        </summary> 
       <description> 
       <![CDATA[ 
This search allows you to identify isolates based on the name of the gene (product name) that was used during the genotyping process. To use this search start typing the name of a gene that was used in genotyping. An auto complete feature will provide you with a list of options to choose from.
       ]]> 
       </description> 

     </question>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Isolate by Genotype # -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByGenotypeNumber"
              searchCategory="Other Attributes"
              displayName="RFLP Genotype Number"
              shortDisplayName="RFLP Genotype#"
              queryRef="IsolateIds.IsolateByGenotypeNumber"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              includeProjects="ToxoDB,EuPathDB">
            <attributesList summary="genotype_num, gene_type, organism, geographic_location, specific_host" /> 
          <summary>
              Find isolates by genotype number.
          </summary> 
          <description> 
            <![CDATA[ Find isolates by genotype number.  ]]> 
          </description> 
          

	<propertyList name="websiteProperties">
	    <value>hideOperation</value>
	    <value>hideAttrDescr</value>
        </propertyList>

	  <dynamicAttributes>
            <columnAttribute name="gene_type" displayName="Type"/>
            <columnAttribute name="genotype_num" displayName="Genotype #"/>
	  </dynamicAttributes>

    </question>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Isolate by RFLP Genotype # -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByRFLPGenotype"
              searchCategory="Other Attributes"
              displayName="RFLP Genotype"
              shortDisplayName="RFLP Genotype"
              queryRef="IsolateIds.IsolateByRFLPGenotype"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              includeProjects="ToxoDB,EuPathDB">
            <attributesList summary="gene_type, organism, geographic_location, specific_host" /> 
          <summary>
              Find isolates by RFLP genotype.
          </summary> 
          <description> 
            <![CDATA[ Find isolates by RFLP genotype (Chunlei Su).  You can view all RFLP Genotypes in tabular format <a href="showQuestion.do?questionFullName=IsolateQuestions.IsolateByGenotypeNumber">here</a>.  You can also view <a href="/Standards_gel_pics.pdf">RFLP images</a> in PDF format.]]> 
          </description> 
          
          
	  <dynamicAttributes>
            <columnAttribute name="gene_type" displayName="Type"/>
	  </dynamicAttributes>

    </question> 


    <question name="IsolateByStudy"
              searchCategory="Other Attributes"
              displayName="Study Name"
              shortDisplayName="Study Name"
              queryRef="IsolateIds.IsolateByStudy"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">

      <summary> 
        Find isolates by study name.
      </summary> 
    <description> 
      <![CDATA[ 
      Find isolates by study name.  
    ]]> 
    </description> 


     </question>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- Isolate by Geographic_Location -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolateByCountry"
              searchCategory="Other Attributes"
              displayName="Geographic Location"
              shortDisplayName="Geograph Loc"
              queryRef="IsolateIds.IsolateByCountry"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">


         <attributesList  summary="organism, strain, geographic_location,specific_host, isolation_source"/>

      <summary> 
      Find isolates by country and/or continent.
    </summary> 
    <description>
      <![CDATA[ 
      To identify isolates by geographic location, select either continent and/or country and isolate assay type.  Note that results are always the union of all selected countries and/or continents.  Multiple countries may be selected by clicking while holding down the shift or ctrl/command keys. 
    ]]> 
    </description> 

    </question>



    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- BLAST Similarity -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolatesBySimilarity"
              displayName="BLAST"
              shortDisplayName="BLAST"
              searchCategory="Similarity/Pattern"
              queryRef="IsolateIds.IsolatesBySimilarity"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              customJavascript="blast.js" >

      <suggestion newBuild="23" includeProjects="TrichDB" />

        <attributesList
         summary="primary_key,organism,score,evalue"
         sorting="score desc"
        /> 
        <summary> 
           Find Isolates that have BLAST similarity to your input sequence.
        </summary>

        <description includeProjects="PlasmoDB">
            <![CDATA[ 
      As of 3 Feb 2014, this search uses NCBI-BLAST to determine sequence similarity. 
			Prior versions of the search used WU-BLAST.
		  <a target="_blank" href="http://www.ncbi.nlm.nih.gov/blast/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs">NCBI-BLAST help.</a>
            ]]> 
         </description> 
         
        <description excludeProjects="PlasmoDB">
            <![CDATA[ 
      As of 3 Feb 2014, this search uses NCBI-BLAST to determine sequence similarity. 
			Prior versions of the search used WU-BLAST.
		  <a target="_blank" href="http://www.ncbi.nlm.nih.gov/blast/Blast.cgi?CMD=Web&PAGE_TYPE=BlastDocs">NCBI-BLAST help.</a>
            ]]> 
         </description> 
        
         <summaryView name="blast-view" display="BLAST" default="true"
                      jsp="/wdkCustomization/jsp/results/blast-view.jsp"
                      handlerClass="org.eupathdb.common.model.view.BlastSummaryViewHandler" />
 
         <dynamicAttributes> 
             <columnAttribute name="evalue_mant" internal="true" inReportMaker="false"/>
             <columnAttribute name="evalue_exp" internal="true" inReportMaker="false"/> 
             <columnAttribute name="score" displayName="Score" />
             <columnAttribute name="summary" displayName="Summary" internal="true" inReportMaker="false"/>
             <columnAttribute name="alignment" displayName="Alignment" internal="true" inReportMaker="false"/>
             <textAttribute name="evalue" displayName="E-Value">
                <text>
                   <![CDATA[ $$evalue_mant$$E$$evalue_exp$$ ]]>
                </text>
             </textAttribute>
         
         </dynamicAttributes> 
         
	 <propertyList name="websiteProperties">
            <value>hideTitle</value>
        </propertyList>

      </question> 


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Text search -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="IsolatesByTextSearch"
         displayName="Text (search product name, notes, submitter etc.)"
         shortDisplayName="Text"
         searchCategory="Other Attributes"
         queryRef="IsolateIds.IsolatesByTextSearch"
         recordClassRef="IsolateRecordClasses.IsolateRecordClass" >


      <suggestion newBuild="23" includeProjects="TrichDB" />

        <attributesList 
           summary="organism, strain, geographic_location, fields_matched, max_score"
         sorting="max_score desc,strain asc"
            
         /> 
        <summary>
             Find isolates with a text search against their reference or gene info.
         </summary>
         <description>
           <![CDATA[
             Find isolates by searching text annotations.  The search compares your term against the text in the fields you specify, returning isolates that have a match. Remember to select your species/organism of interest (more than one species may be selected).  
<p>The search is similar to Google: if you enter multiple words, isolates that match more of those words will have a better score than those that match fewer of the words.  If the words are found close together, that also improves the score. You may use '*' as a wild card character.
<p>
<i>Note about non-relevant results</i>:  Depending on how you configure it, this text search may return "non-relevant" isolates (false positives).  The search mechanically matches the term you supply against the fields described in the Fields parameter.  The presence of your term in that field does not necessarily mean that the term <i>actually describes the isolate</i>.  The term may be mentioned in that field for less relevant reasons.  To work around this, please choose the Fields you want to search carefully, and then, before drawing any conclusions, review the reference to your term in all matched fields in the isolate page to confirm the meaning of its mention.
          ]]>
         </description>
 <dynamicAttributes>
            <columnAttribute name="fields_matched"
                       displayName="Found in" align="center"/>
            <columnAttribute name="max_score"
                       displayName="Score" align="center"/>
        </dynamicAttributes>
    </question>


    <question name="IsolatesByWeightFilter"
              shortDisplayName="Weight"
              displayName="Filter by Weight"
              queryRef="IsolateIds.ByWeightFilter"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">
        <attributesList
           summary="wdk_weight"
        />
        <description>
           <![CDATA[
            Filter away results that have a weight outside the specified range.  
            (This transform is only useful if the input result sets have used weights)
          ]]>
        </description>
    </question>

  </questionSet>


  <!--===========================================================================-->
  <!--===========================================================================-->
  <!-- Isolate Data Dump questions (internal)  -->
  <!--===========================================================================-->
  <!--===========================================================================-->

  <questionSet name="IsolateDumpQuestions" excludeProjects="EuPathDB,TriTrypDB,GiardiaDB,TrichDB,AmoebaDB,FungiDB,HostDB,SchistoDB,InitDB"
             displayName="Isolate Data Dump Questions"
             internal="true">

  <!--===========================================================================-->
  <!-- question that retrieves all isolates by organism  -->
  <!--===========================================================================-->
    <question name="IsolateDumpQuestion" excludeProjects="EuPathDB"
         displayName="Find isolates to dump"
              shortDisplayName="Isolates dmp"
              queryRef="IsolateIds.IsolateDump"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass">
        <description>Find all isolates by organism</description>
    </question>

  </questionSet>

  <!--===========================================================================-->
  <!--===========================================================================-->
  <!-- Gene ID questions (internal)  -->
  <!--===========================================================================-->
  <!--===========================================================================-->

  <questionSet name="IsolateInternalQuestions"
               displayName="Internal Questions"
               internal="true">

    <question name="IsolatesByRFLP"
                  displayName="Reference RFLP Gel Images"
                  shortDisplayName="RFLP Images"
                  includeProjects="EuPathDB,CryptoDB"
                  queryRef="IsolateIds.DontCare"
                  recordClassRef="IsolateRecordClasses.IsolateRecordClass"> 
        <summary includeProjects="CryptoDB"> 
          <![CDATA[ 
            Source Xiao, Alderisio and Singh 2006. Awwwa Rsearch Foundation. Reprint with permission.
            ]]>
        </summary> 


	<propertyList name="websiteProperties">
            <value>hideOperation</value>
	    <value>hideAttrDescr</value>
        </propertyList>

      </question> 

<!--
    <question name="IsolatesByClustering"
                  displayName="Isolates Clustering"
                  shortDisplayName="Isolates Clustering"
                  includeProjects="EuPathDB,PlasmoDB"
                  queryRef="IsolateIds.DontCare"
                  recordClassRef="IsolateRecordClasses.IsolateRecordClass"> 
        <summary includeProjects="PlasmoDB"> 
          <![CDATA[ 
  This clustering is provided as a visualization tool and is not intended to imply true phylogenetic relationships.
            ]]>
        </summary> 


	<propertyList name="websiteProperties">
            <value>hideOperation</value>
	    <value>hideAttrDescr</value>
        </propertyList>

      </question> 
-->


  </questionSet> 


</wdkModel>

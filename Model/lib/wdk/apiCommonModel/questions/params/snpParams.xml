<wdkModel>
  <paramSet name="snpParams" includeProjects="ToxoDB,PlasmoDB,EuPathDB,CryptoDB,AmoebaDB,TriTrypDB,FungiDB">

        <datasetParam name="snp_id"
                      recordClassRef="SnpRecordClasses.SnpRecordClass"
                     prompt="SNP ID input set">
            <help>Input a comma delimited set of SNP ids, or upload a file</help>

            <suggest  includeProjects="PlasmoDB"
               default="CombinedSNP.MAL10.6541"/>


            <suggest  includeProjects="TriTrypDB"
               default="NGS_SNP.Tcruzi_100.216"/>

            <suggest includeProjects="ToxoDB"
                default="NGS_SNP.tgme49_asmbl.1.1060"/>
  <suggest includeProjects="AmoebaDB"
                default="NGS_SNP.DS571148.109776"/>
            <suggest includeProjects="CryptoDB"
                default="chr3-2_66329"/>
 <suggest  includeProjects="EuPathDB" 
               default="CombinedSNP.MAL10.6541,NGS_SNP.tgme49_asmbl.1.1060,chr3-2_66329"/>

	</datasetParam>
<!--
        <stringParam name="snp_id"  includeProjects="EuPathDB"
                     prompt="SNP ID"
                     substitute="yes">
                     <help>Enter a SNP ID</help>
            <suggest 
               default="CombinedSNP.MAL10.6541"/>
        </stringParam>
-->

    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- alleles -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <stringParam name="MinPercentMinorAlleles"
		 prompt="Minor allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of minor alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  Use 0 to find all SNPs within this group of isolates.  A 'minor allele' is any allele that is not the major allele.</help>
      <suggest default="0"/>
      <regex>\d\d?</regex>
    </stringParam>

    <stringParam name="MinPercentMajorAlleles"
		 prompt="Major allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of major alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  </help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentMajorAllelesTwo"
		 prompt="Major allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of major alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  </help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentIsolateCalls"
		 prompt="Percent isolates with base call &gt;= "
		 number="true">
      <help>Only consider SNPs where the number of selected isolates with above-threshold calls (see the Read frequency threshold parameter) is greater than or equal to this percentage</help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentIsolateCallsTwo"
		 prompt="Min percent isolates with calls &gt;= "
		 number="true">
      <help>Only return SNPs where the number of isolates with above-threshold calls (see the Read frequency threshold parameter) is greater than or equal to this percentage</help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <enumParam name="ReadFrequencyPercent"
               prompt="Read frequency threshold" quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <help>
	Include an allele for an isolate if the percent of aligned reads at this SNP location with this allele is greater than this value.  In a perfect world with a haploid organism 100% of reads should support all SNP calls.  For diploid or polyploid organisms, the read frequency threshold to identify heterozygous SNPs would be 50% or less. 
      </help>
      <enumList>   
        <enumValue default="true">
          <term>80%</term>
          <internal>80</internal>
        </enumValue>
        <enumValue>
          <term>60%</term>
          <internal>60</internal>
        </enumValue>
        <enumValue>
          <term>40%</term>
          <internal>40</internal>
        </enumValue>
        <enumValue>
          <term>20%</term>
          <internal>20</internal>
        </enumValue>
      </enumList>
    </enumParam>

    <enumParam name="ReadFrequencyPercentTwo"
               prompt="Read frequency threshold" quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <help>
	Exclude an allele for an isolate at a SNP location if the number of reads with that allele are less than this percent of all the reads for that isolate at that location.
      </help>
      <enumList>   
        <enumValue default="true">
          <term>80%</term>
          <internal>80</internal>
        </enumValue>
        <enumValue>
          <term>60%</term>
          <internal>60</internal>
        </enumValue>
        <enumValue>
          <term>40%</term>
          <internal>40</internal>
        </enumValue>
        <enumValue>
          <term>20%</term>
          <internal>20</internal>
        </enumValue>
      </enumList>
    </enumParam>

    <enumParam name="WebServicesPath"
               prompt="wsPath" quote="false" visible="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <enumList>   
        <enumValue default="true">
          <term>dflt</term>
          <internal>@WEBSERVICEMIRROR@/PROJECT_GOES_HERE/build-%%buildNumber%%</internal>
        </enumValue>
      </enumList>
    </enumParam>





    <!-- ===================================================================== -->
    <!-- ===================================================================== -->
    <!-- ======= PARAMS BELOW HERE MIGHT NEED RETIRING.  PLEASE REVIEW ======= -->
    <!-- ===================================================================== -->
    <!-- ===================================================================== -->


        <stringParam name="isolate_id" prompt="Isolate ID" number="false" includeProjects="PlasmoDB">
           <help>Enter an Isolate ID. </help>
        </stringParam>

      <stringParam name="minor_allele_max"
                     prompt="Frequency of minor allele &lt;= "
                     number="true">
            <help>Upper Bound on the frequency of strains that have the minor allele</help>
            <suggest default=".5"/>
            <regex>\d?(\.\d+)?</regex>
        </stringParam>

      <stringParam name="minor_allele_min"
                     prompt="Frequency of minor allele >= "
                     number="true">
            <help>Lower Bound on the frequency of strains that have the minor allele</help>
            <suggest default=".2"/>
            <regex>\d?(\.\d+)?</regex>
        </stringParam>

      <stringParam name="major_allele_max"
                     prompt="Frequency of major allele &lt;= "
                     number="true">
            <help>Upper Bound on the frequency of strains that have the major allele</help>
            <suggest default="1"/>
            <regex>\d?(\.\d+)?</regex>
        </stringParam>

      <stringParam name="major_allele_min"
                     prompt="Frequency of major allele >= "
                     number="true">
            <help>Lower Bound on the frequency strains that have the major allele</help>
            <suggest default=".5"/>
            <regex>\d?(\.\d+)?</regex>
        </stringParam>

      <stringParam name="min_strain_count"
                     prompt="Number of strains >= "
                     number="true">
            <help>Minimum number of strains for which there is a sequence call at this position</help>
            <suggest default="5"/>
            <regex>\d+</regex>
        </stringParam>

       <stringParam name="set_a_count"
                     prompt="Minimum number of isolates in Set A with same allele >= "
                     number="true">
            <help>Lower Bound on the number of isolates in set A that have the same allele at any SNP position.  Note: for the highest confidence SNPs, this number should be equal to the number of isolate identifiers in set A.</help>
            <suggest includeProjects="EuPathDB,PlasmoDB" default="8"/>
            <regex>\d+</regex>
        </stringParam>

       <stringParam name="set_b_count"
                     prompt="Minimum number of isolates in Set B with same allele >= "
                     number="true">
            <help>Lower Bound on the number of isolates in set B that have the same allele at any SNP position.  Note: for the highest confidence SNPs, this number should be equal to the number of isolate identifiers in set B.</help>
            <suggest includeProjects="EuPathDB,PlasmoDB" default="12"/>
            <regex>\d+</regex>
        </stringParam>

       <stringParam name="set_a_percent"
                     prompt="Minimum percentage of isolates in Set A with same allele >= "
                     number="true">
            <help>Lower Bound on the percentage of isolates in set A that have the same allele at any SNP position.  Note: for the highest confidence SNPs, this percentage should be 100.</help>
            <suggest includeProjects="EuPathDB,PlasmoDB" default="100"/>
            <regex>\d+(\.\d+)?</regex>
        </stringParam>

       <stringParam name="set_b_percent"
                     prompt="Minimum percentage of isolates in Set B with same allele >= "
                     number="true">
            <help>Lower Bound on the percentage of isolates in set B that have the same allele at any SNP position.  Note: for the highest confidence SNPs, this percentage should be 100.</help>
            <suggest includeProjects="EuPathDB,PlasmoDB" default="100"/>
            <regex>\d+(\.\d+)?</regex>
        </stringParam>

        <datasetParam name="isolate_set_a"
                      recordClassRef="IsolateRecordClasses.IsolateRecordClass"
                      prompt="Set A isolate identifiers" excludeProjects="AmoebaDB,TriTrypDB,FungiDB">
            <help>input a comma delimited set of isolate ids, or upload a file.</help>
           <suggest includeProjects="PlasmoDB,EuPathDB"
              default="CP3.485823,CP3.485864,CP3.485865,CP3.485866,,CP3.485867,CP3.485868,CP3.485869,CP3.485870"/>
        </datasetParam>

        <datasetParam name="isolate_set_b"
                      recordClassRef="IsolateRecordClasses.IsolateRecordClass"
                      prompt="Set B isolate identifiers" excludeProjects="AmoebaDB,TriTrypDB,FungiDB">
            <help>input a comma delimited set of isolate ids, or upload a file.</help>
           <suggest includeProjects="PlasmoDB,EuPathDB"
              default="CP3.485811,CP3.485877,CP3.485879,CP3.485880,CP3.485882,CP3.485883,CP3.485884,CP3.485886,CP3.485887,CP3.485888,CP3.485890,CP3.485891"/>
        </datasetParam>




        <flatVocabParam name="hts_isolate_set_a"  
                       queryRef="SharedVQ.strainByOntologyType" 
                       prompt="Reference" 
                       multiPick="true" 
                       displayType="treeBox"
                       dependedParamRef="organismParams.organism,sharedParams.ontology_type" 
                       includeProjects="AmoebaDB,PlasmoDB,TriTrypDB,ToxoDB,EuPathDB"> 
        <help> 
               Choose comparators from the list of strains.  
        </help> 
        </flatVocabParam> 

        <flatVocabParam name="hts_isolate_set_b"  
                       queryRef="SharedVQ.strainByOntologyType" 
                       prompt="Comparator" 
                       multiPick="true" 
                       displayType="treeBox"
                       dependedParamRef="organismParams.organism,sharedParams.ontology_type" 
                       includeProjects="AmoebaDB,PlasmoDB,TriTrypDB,ToxoDB,EuPathDB"> 
        <help> 
               Choose comparators from the list of strains.  
        </help> 
        </flatVocabParam> 


        
        
    <answerParam name="snp_result"
                  prompt="Input Result Set"
                  readonly="true"
                  visible="false">
        <recordClass ref="SnpRecordClasses.SnpRecordClass" />
    </answerParam>

  </paramSet>
</wdkModel>


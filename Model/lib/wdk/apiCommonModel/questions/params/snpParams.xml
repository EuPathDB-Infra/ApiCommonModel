<wdkModel>
  <paramSet name="snpParams" includeProjects="ToxoDB,PlasmoDB,EuPathDB,CryptoDB,AmoebaDB,TriTrypDB">

    <datasetParam name="ngs_snp_id" recordClassRef="SnpRecordClasses.SnpRecordClass" prompt="SNP ID input set">
      <help>Input a comma delimited set of SNP ids, or upload a file</help>
      <suggest  includeProjects="PlasmoDB" default="NGS_SNP.Pf3D7_11_v3.1293957"/>
      <suggest  includeProjects="TriTrypDB" default="NGS_SNP.11L3_v3.321"/>
      <suggest includeProjects="ToxoDB" default="NGS_SNP.tgme49_asmbl.1.1060"/>
      <suggest includeProjects="AmoebaDB" default="NGS_SNP.DS571148.109776"/>
      <suggest includeProjects="CryptoDB" default="NGS_SNP.CM000429.7460"/>
      <suggest  includeProjects="EuPathDB" default="CombinedSNP.MAL10.6541,NGS_SNP.tgme49_asmbl.1.1060,chr3-2_66329"/> 
	  </datasetParam>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- alleles -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <stringParam name="MinPercentMinorAlleles"
		 prompt="Minor allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of minor alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  Use 0 to find all SNPs within this group of isolates.  A 'minor allele' is any allele that is not the major allele.</help>
      <suggest default="0"/>
      <regex>\d\d?</regex>
    </stringParam>

    <stringParam name="MinPercentMajorAlleles"
		 prompt="Major allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of major alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  </help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentMajorAllelesTwo"
		 prompt="Major allele frequency &gt;= "
		 number="true">
      <help>Return SNPs where the percent of major alleles at this location (for the specified isolates at the specified read frequency) is greater than or equal to this value.  </help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentIsolateCalls"
		 prompt="Percent isolates with base call &gt;= "
		 number="true">
      <help>Only consider SNPs where the number of selected isolates with above-threshold calls (see the Read frequency threshold parameter) is greater than or equal to this percentage</help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <stringParam name="MinPercentIsolateCallsTwo"
		 prompt="Min percent isolates with calls &gt;= "
		 number="true">
      <help>Only return SNPs where the number of isolates with above-threshold calls (see the Read frequency threshold parameter) is greater than or equal to this percentage</help>
      <suggest default="80"/>
      <regex>\d\d?|100</regex>
    </stringParam>

    <enumParam name="ReadFrequencyPercent"
               prompt="Read frequency threshold" quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <help>
	Include an allele for an isolate if the percent of aligned reads at this SNP location with this allele is greater than this value.  In a perfect world with a haploid organism 100% of reads should support all SNP calls.  For diploid or polyploid organisms, the read frequency threshold to identify heterozygous SNPs would be 50% or less. 
      </help>
      <enumList>   
        <enumValue default="true">
          <term>80%</term>
          <internal>80</internal>
        </enumValue>
        <enumValue>
          <term>60%</term>
          <internal>60</internal>
        </enumValue>
        <enumValue>
          <term>40%</term>
          <internal>40</internal>
        </enumValue>
        <enumValue>
          <term>20%</term>
          <internal>20</internal>
        </enumValue>
      </enumList>
    </enumParam>

    <enumParam name="ReadFrequencyPercentTwo"
               prompt="Read frequency threshold" quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <help>
	Exclude an allele for an isolate at a SNP location if the number of reads with that allele are less than this percent of all the reads for that isolate at that location.
      </help>
      <enumList>   
        <enumValue default="true">
          <term>80%</term>
          <internal>80</internal>
        </enumValue>
        <enumValue>
          <term>60%</term>
          <internal>60</internal>
        </enumValue>
        <enumValue>
          <term>40%</term>
          <internal>40</internal>
        </enumValue>
        <enumValue>
          <term>20%</term>
          <internal>20</internal>
        </enumValue>
      </enumList>
    </enumParam>

    <enumParam name="WebServicesPath"
               prompt="wsPath" quote="false" visible="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <enumList>   
        <enumValue default="true">
          <term>dflt</term>
          <internal>@WEBSERVICEMIRROR@/PROJECT_GOES_HERE/build-%%buildNumber%%</internal>
        </enumValue>
      </enumList>
    </enumParam>





    <!-- ===================================================================== -->
    <!-- ===================================================================== -->
    <!-- ======= PARAMS BELOW HERE MIGHT NEED RETIRING.  PLEASE REVIEW ======= -->
    <!-- ===================================================================== -->
    <!-- ===================================================================== -->

        <answerParam name="snp_result"
                prompt="Input Result Set"
                readonly="true"
                visible="false">
        <recordClass ref="SnpRecordClasses.SnpRecordClass" />
        </answerParam>

  </paramSet>

</wdkModel>


<wdkModel>
  
  <paramSet name="genomicSimilarityParams">

       <flatVocabParam name="motif_organism"
                      queryRef="SimilarityVQ.GenomicMotifFiles"
                      displayType="checkBox"  
                      prompt="Organism"
                      multiPick="true">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <noTranslation value="false" excludeProjects="EuPathDB" />

         <help>
             Choose one or more organisms to search with the given motif
         </help>
       </flatVocabParam>

  </paramSet>

  <paramSet name="orfSimilarityParams">

       <flatVocabParam name="motif_organism"
                      queryRef="SimilarityVQ.OrfMotifFiles"
                      displayType="checkBox"  
                      prompt="Organism"
                      multiPick="true">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <noTranslation value="false" excludeProjects="EuPathDB" />

         <help>
             Choose one or more organisms to search with the given motif
         </help>
       </flatVocabParam>


  </paramSet>
  

  <paramSet name="geneSimilarityParams">
  

       <flatVocabParam name="motif_organism"
                      queryRef="SimilarityVQ.AnnotatedProteinMotifFiles"
                      displayType="checkBox" 
                      prompt="Organism"
                      multiPick="true">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <noTranslation value="false" excludeProjects="EuPathDB" />

         <help>
             Choose one or more organisms to search with the given motif
         </help>
       </flatVocabParam>
     
  </paramSet>

  <querySet name="SimilarityVQ" queryType="vocab">


        <sqlQuery name="OrfMotifFiles">
            <column name="internal" />
            <column name="term" />
            <sql>
                <![CDATA[ 
                select abbrev.organism as term, abbrev.abbreviation || 'ORFs'  || '_' || orgs.project_id || '.fasta' as internal
                From apidb.organismabbreviationws abbrev, 
                     (select distinct organism, project_id
                      from apidb.sequenceattributes
  UNION
  -- GiardiaDB uses species for everything  
  select distinct species, project_id
  from apidb.geneattributes
  where project_id = 'GiardiaDB'
  UNION
    -- ToxoDB Apicoplast for GENES and GENOMES
  select 'Toxoplasma gondii apicoplast' as organism, 'ToxoDB' as project_id
  from dual
  UNION
  -- Mitochondrial GENES and GENOME
  select distinct organism || ' mitochondrial', project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0000819'
  UNION
  -- Plastid GENES and GENOME
  select distinct organism || ' plastid' as organism, project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0001259'
  UNION
   -- CryptoDB has ESTORFs
  select 'Cryptosporidium parvum EST' as organism,  'CryptoDB' as project_id from dual
  UNION 
  select 'Cryptosporidium muris EST' as organism,  'CryptoDB' as project_id from dual
                      ) orgs
               where orgs.organism = abbrev.organism
               and (orgs.project_id = '@PROJECT_ID@' OR 'EuPathDB' = '@PROJECT_ID@')
                ]]>
            </sql>
        </sqlQuery>

        <sqlQuery name="GenomicMotifFiles">
            <column name="internal" />
            <column name="term" />
            <sql>
                <![CDATA[ 
                select abbrev.organism as term, abbrev.abbreviation || 'Genomic'  || '_' || orgs.project_id || '.fasta' as internal
                From apidb.organismabbreviationws abbrev, 
                     (select distinct organism, project_id
                      from apidb.sequenceattributes
  UNION
  -- GiardiaDB uses species for everything  
  select distinct species, project_id
  from apidb.geneattributes
  where project_id = 'GiardiaDB'
  UNION
    -- ToxoDB Apicoplast for GENES and GENOMES
  select 'Toxoplasma gondii apicoplast' as organism, 'ToxoDB' as project_id
  from dual
  UNION
  -- Mitochondrial GENES and GENOME
  select distinct organism || ' mitochondrial', project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0000819'
  UNION
  -- Plastid GENES and GENOME
  select distinct organism || ' plastid' as organism, project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0001259'
  UNION
   -- CryptoDB has ESTORFs
  select 'Cryptosporidium parvum EST' as organism,  'CryptoDB' as project_id from dual
  UNION 
  select 'Cryptosporidium muris EST' as organism,  'CryptoDB' as project_id from dual
                      ) orgs
               where orgs.organism = abbrev.organism
               and (orgs.project_id = '@PROJECT_ID@' OR 'EuPathDB' = '@PROJECT_ID@')
                ]]>
            </sql>
        </sqlQuery>

        <sqlQuery name="AnnotatedProteinMotifFiles">
            <column name="internal" />
            <column name="term" />
            <sql>
                <![CDATA[ 
                select abbrev.organism as term, abbrev.abbreviation || 'AnnotatedProteins'  || '_' || orgs.project_id || '.fasta' as internal
                From apidb.organismabbreviationws abbrev, 
                     (select distinct organism, project_id
                      from apidb.geneattributes
  UNION
  -- TrichDB Repeat Genes
  select distinct organism || ' (Repeated Genes)', project_id
  from apidb.geneattributes
  where project_id = 'TrichDB'
  UNION
  -- GiardiaDB uses species for everything  
  select distinct species, project_id
  from apidb.geneattributes
  where project_id = 'GiardiaDB'
  UNION
  -- GiardiaDB Deprecated Genes
  select 'Giardia Assemblage A isolate WB (deprecated)' as organism, 'GiardiaDB' as project_id
  from dual
  UNION
    -- ToxoDB Apicoplast for GENES and GENOMES
  select 'Toxoplasma gondii apicoplast' as organism, 'ToxoDB' as project_id
  from dual
  UNION  
  -- Mitochondrial GENES
  select distinct organism || ' mitochondrial', project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0000819'
  UNION
  -- Plastid GENES
  select distinct organism || ' plastid' as organism, project_id
  from apidb.sequenceattributes
  where so_id = 'SO:0001259'
  UNION
   -- CryptoDB has ESTORFs
  select 'Cryptosporidium parvum EST' as organism,  'CryptoDB' as project_id from dual
  UNION 
  select 'Cryptosporidium muris EST' as organism,  'CryptoDB' as project_id from dual
                      ) orgs
               where orgs.organism = abbrev.organism
               and (orgs.project_id = '@PROJECT_ID@' OR 'EuPathDB' = '@PROJECT_ID@')
                ]]>
            </sql>
        </sqlQuery>
       
       
 </querySet>


</wdkModel>


<wdkModel>

  <paramSet name="dataSourceParams">
        <stringParam name="reference_name"
                     prompt="Reference name"
                     number="false">
            <help>The internal full name of a WDK question</help>
        </stringParam>

        <stringParam name="question_name"
                     prompt="Question name"
                     number="false">
            <help>The internal full name of a WDK question</help>
        </stringParam>

        <stringParam name="record_class"
                     prompt="Record class"
                     number="false">
            <help>The internal full name of a WDK record</help>
        </stringParam>

        <stringParam name="organism"
                     prompt="Organism"
                     number="false">
            <help>The organsim name, in the form used in the resources xml files </help>
        </stringParam>
        
        <flatVocabParam name="data_source_name"
                     queryRef="dataSourceVQ.dateSourceNames"
                     prompt="Data source name"
                     multiPick="true">
                     <help>
                     The comma delimited list of data source names
                     </help>    
        </flatVocabParam>

  </paramSet>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!--  Vocab queries-->  
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

 <querySet name="dataSourceVQ" queryType="vocab">
   <sqlQuery name="dateSourceNames" excludeProjects="EuPathDB">
            <column name="internal"/>
            <column name="term"/>
            <sql>
         <![CDATA[
            SELECT DISTINCT ds.name as term, ds.name as internal
            FROM   ApiDB.DataSource ds, core.projectinfo p
            WHERE ds.row_project_id = p.project_id
              and p.name = '@PROJECT_ID@'
         ]]>
            </sql>
   </sqlQuery>

   <processQuery name="dateSourceNames" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <wsColumn name="internal" width="200"/>
            <wsColumn name="term" width="200"/>
   </processQuery>
  </querySet>    

</wdkModel>

<wdkModel>
    
   <!-- notes

      - need to review mass spec params (for possible redundancy)

   -->

    <paramSet name="sharedParams">
        
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Gene IDs -->  
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <datasetParam name="ds_gene_ids"
                      recordClassRef="GeneRecordClasses.GeneRecordClass"
                     prompt="Gene ID input set">
            <help>input a comma delimited set of gene ids, or upload a file</help>
           <suggest includeProjects="INIT"
		    sample="FILL"
                    default="FILL"/>
           <suggest includeProjects="PiroplasmaDB"
		    sample="TA14985, BBOV_IV000910"
                    default="TA14985"/>
           <suggest includeProjects="PlasmoDB"
		    sample="PF11_0344, PY01656, Pv092275"
                    default="PF11_0344"/>
           <suggest includeProjects="CryptoDB"
		    sample="cgd7_230"
                    default="cgd7_230"/>
           <suggest includeProjects="ToxoDB"
		    sample="TGME49_039250, NCLIV_000080"
                    default="TGME49_039250, NCLIV_000080"/>
           <suggest includeProjects="GiardiaDB"
		    sample="GL50803_102438, GL50803_5213, GL50803_6262"
		    default="GL50803_102438, GL50803_5213"/>
	   <suggest includeProjects="TrichDB"
		    sample="TVAG_386080, TVAG_486660"
                    default="TVAG_386080"/>
	   <suggest includeProjects="TriTrypDB"
		    sample="Tb927.8.620, Tb11.03.0160, Tb09.v4.0039"
                    default="Tb927.8.620, Tb11.03.0160, Tb09.v4.0039"/>
           <suggest includeProjects="AmoebaDB"
		    sample="EDI_244000, EIN_020510, EHI_046600"
                    default="EDI_244000"/>
           <suggest includeProjects="MicrosporidiaDB"
		    sample="ECU03_0820i, Ein03_0360, EBI_22793"
                    default="ECU03_0820i"/>
           <suggest includeProjects="EuPathDB"
		    sample="PF11_0344, cgd7_230, TGME49_039250"
                    default="PF11_0344, cgd7_230, TGME49_039250"/>
        </datasetParam>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Signature -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

       <stringParam name="signature" 
                                 includeProjects="EuPathDB"
                                 prompt="User Signature"
                                 visible="false" number="false">
             <help>
                  Used to pass the Users Signature to the component sites
             </help>
       </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!-- best alignment only  -->
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <enumParam name="best_alignment_only"
                      prompt="Best alignments only"
                      multiPick="false"
                      quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Select yes to return only those EST alignments that are the best alignment for the EST.  Many of the ESTs align at multiple positions in the genome.  Selecting yes will consider only those alignments that are the best for each EST
       </help>
       <enumList>   
         <enumValue>
           <term>Yes</term>
           <internal>1</internal>
         </enumValue>
         <enumValue>
           <term>No</term>
           <internal>0,1</internal>
         </enumValue>
       </enumList>   
     </enumParam>

         <stringParam name="max_number_best_alignments"
                      prompt="Maximum number of best alignments"
                      number="true">
             <help>
               EST sequences can have two (or more) best alignments that have the same percent identity, length and score.  This parameter allows you to specify the maximum number of these best alignments that will be considered for any EST to be included in the query.  For example, if you specify 1 then all the ESTs that do not have a unique best alignment will be ignored in the query.
             </help>           
             <suggest default="1"
                allowEmpty="true" emptyValue="1000" />
           <regex>\d+</regex>
         </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!-- high confidence est only  -->
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <enumParam name="high_confidence_only"
                      prompt="Consistent alignments only"
                      multiPick="false"
                      quote="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Select yes to return only those EST alignments that are consistent.  We define define consistent as having >= 95% identity (the majority have >= 99%) and aligning the EST sequence in a manner that is consistent with a gene model.  Ie, there can be gaps (representing introns) in the target genomic sequence but not in the EST query.
       </help>
       <enumList>   
         <enumValue>
           <term>No</term>
           <internal>0,1</internal>
         </enumValue>
         <enumValue>
           <term>Yes</term>
           <internal>1</internal>
         </enumValue>
       </enumList>   
     </enumParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

         <stringParam name="min_percent_identity"
                      prompt="Percent identity >="
                      number="true">
             <help>You can specify a minimum percent identity of the alignment between the EST and genomic DNA.  We only store alignments with >= 90% identity</help>           
             <suggest default="90"/>
           <regex>\d+(\.\d+)?</regex>
         </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <stringParam name="min_percent_est_aligned"
                      prompt="Percent of EST bases aligned >="
                      number="true">
             <help>Enter the minimum percentage of bases in the EST sequence that are aligned to genomic DNA in this alignment.</help>
             <suggest default="20"
                           />
           <regex>\d+(\.\d+)?</regex>
         </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

         <stringParam name="bp_overlap_gte"
                      prompt="Base Overlap &gt;="
                      number="true">
             <help>Overlap of expressed sequence tag (EST) alignments with annotated genes is a useful approach to verify gene predictions. In general, the specificity of this evidence is proportional to the overlap length.</help>
             <suggest sample="(Example: 100)"
                      default="100"/>
           <regex>\d+</regex>
         </stringParam>

         <stringParam name="stoxopforganism"
               prompt="Organism"
               visible="false"
               default="Plasmo falciparum"
               number="false">
             <help>You can select one or more organisms by checking the box next to the one(s) that you wish to use.</help>
             <suggest sample="(Example: 100)"
                      default="100"/>
           <regex>\d+</regex>
         </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!-- Universal, genomic and ORF BLAST -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

<!--
 <flatVocabParam name="BlastAlgorithm2"
                 prompt="BLAST Program"
                 displayType="radioBox"
                 multiPick="false"
                 default="blastn" 
                 queryRef="SharedVQ.BlastAlgorithm"
                 dependedParamRef="sharedParams.BlastDatabaseType">
             <help>
                <![CDATA[
            The Blast Program that will be executed: &#60;b&#62; blastp &#60;/b&#62;  compares an aminoacid query sequence against a protein sequence database;  &#60;b&#62; blastn  &#60;/b&#62; compares a nucleotide query sequence against a nucleotide sequence database; &#60;b&#62; blastx  &#60;/b&#62; compares the six-frame conceptual translation products of a nucleotide query sequence (both strands) against a protein sequence database;  &#60;b&#62;tblastn  &#60;/b&#62; compares a protein query sequence against a nucleotide sequence database dynamically translated in all six reading frames (both strands);  &#60;b&#62;tblastx  &#60;/b&#62;  compares the six-frame translations of a nucleotide query sequence against the six-frame translations of a nucleotide sequence database.
                ]]>
              </help>
     </flatVocabParam>

-->

       <flatVocabParam name="BlastDatabaseOrganism" excludeProjects="EuPathDB"
                     queryRef="SharedVQ.BlastOrganismFiles"
                     prompt="Target Organism"
                     displayType="treeBox" 
                     multiPick="true"
                     suppressNode="true"
                     dependedParamRef="sharedParams.BlastDatabaseType"
                     >
          <noTranslation value="false" excludeProjects="EuPathDB" />
          <help>
               Organism(s) from which the sequences in the BLAST database originated
          </help>
          <suggest includeProjects="ToxoDB"
                   default="Toxoplasma gondii ME49"/>
        </flatVocabParam>

       <flatVocabParam name="BlastDatabaseOrganism" includeProjects="EuPathDB"
                     queryRef="SharedVQ.BlastOrganismFiles"
                     prompt="Target Organism"
                     displayType="treeBox" 
                     multiPick="true"
                     suppressNode="false"
                     dependedParamRef="sharedParams.BlastDatabaseType"
                     >
          <help>
               Organism(s) from which the sequences in the BLAST database originated
          </help>
        </flatVocabParam>




  <enumParam name="BlastAlgorithm"
             prompt="BLAST Program"
             displayType="radioBox"
             multiPick="false">

      <help>
            The Blast Program that will be executed: &#60;b&#62; blastp &#60;/b&#62;  compares an aminoacid query sequence against a protein sequence database;  &#60;b&#62; blastn  &#60;/b&#62; compares a nucleotide query sequence against a nucleotide sequence database; &#60;b&#62; blastx  &#60;/b&#62; compares the six-frame conceptual translation products of a nucleotide query sequence (both strands) against a protein sequence database;  &#60;b&#62;tblastn  &#60;/b&#62; compares a protein query sequence against a nucleotide sequence database dynamically translated in all six reading frames (both strands);  &#60;b&#62;tblastx  &#60;/b&#62;  compares the six-frame translations of a nucleotide query sequence against the six-frame translations of a nucleotide sequence database.
      </help>
      <enumList>  
         <enumValue>
           <term>blastn</term>
           <internal>blastn</internal>
         </enumValue>   
         <enumValue>
           <term>blastp</term>
           <internal>blastp</internal>
         </enumValue>   
         <enumValue>
           <term>blastx</term>
           <internal>blastx</internal>
         </enumValue>   
         <enumValue>
           <term>tblastn</term>
           <internal>tblastn</internal>
         </enumValue>   
         <enumValue>
           <term>tblastx</term>
           <internal>tblastx</internal>
         </enumValue>
      </enumList>
   </enumParam>



   <enumParam name="BlastDatabaseType"
                      prompt="Target Data Type"
                      displayType="radioBox"
                      quote="false"
                      multiPick="false">
       <help>
              Select the data type that you want to blast against.
       </help>
       <enumList>   
    <!--     <enumValue>
           <term> Choose one</term>
           <internal>Choose one</internal>
         </enumValue>-->
         <enumValue>
           <term>Transcripts</term>
           <internal>Transcripts</internal>
         </enumValue>
    <!--     <enumValue>
           <term>Translated Transcripts</term>
           <internal>Transcripts Translated</internal>
         </enumValue> -->
         <enumValue>
           <term>Proteins</term>
           <internal>Proteins</internal>
         </enumValue>
         <enumValue>
           <term>Genome</term>
           <internal>Genomics</internal>
         </enumValue>
        <enumValue includeProjects="MicrosporidiaDB,EuPathDB">
           <term>Genome Survey Sequences</term>
           <internal>GSS</internal>
         </enumValue> 
 <!--        <enumValue>
           <term>Translated Genome</term>
           <internal>genomic Translated</internal>
         </enumValue> -->
         <enumValue excludeProjects="FungiDB">
           <term>EST</term>
           <internal>EST</internal> 
         </enumValue>
         <enumValue>
           <term>ORF</term>
           <internal>ORF</internal>
         </enumValue>

<!--
         <enumValue includeProjects="ToxoDB,EuPathDB,PlasmoDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB">
           <term>Assemblies</term>
           <internal>Assemblies</internal>
         </enumValue> 
-->
         <enumValue includeProjects="CryptoDB,PlasmoDB,ToxoDB,EuPathDB,GiardiaDB">
           <term>Isolates</term>
           <internal>Isolates</internal>
          </enumValue> 
 <!--        <enumValue>
           <term>Translated EST</term>
           <internal>EST Translated</internal>
         </enumValue>-->

       </enumList>   
     </enumParam>


         <stringParam name="BlastQuerySequence"
                      prompt="Input Sequence"
                      length="31000"
                      number="false"
          >
             <noTranslation value="true"  />
             <help>BLAST Input Sequence (upto 31K bps)</help>
             <suggest sample=""/>
         </stringParam>

     <enumParam name="-filter"
                     id="-filter"
                     prompt="Low complexity filter">

       <help>
              If this filter is set to yes, you will omit results which contain repetitive and low complexity sequence. 
       </help>
       <enumList>   
         <enumValue default="true">
           <term>yes</term>
           <internal>yes</internal>
         </enumValue>
         <enumValue>
           <term>no</term>
           <internal>no</internal>
         </enumValue>
       </enumList>   
     </enumParam>

         <stringParam name="-e"
                      prompt="Expectation value" number="true">
             <help>Expected number of hits with at least this score. The lower the e- value the more significant the hit.</help>
             <suggest default="10"
                      sample="1e-10"/>
         </stringParam>

         <stringParam name="-v"
                      prompt="Maximum descriptions (V)" number="true">
             <help>Number of one-line descriptions to show</help>
             <suggest default="50"/>
           <regex>\d+</regex>
         </stringParam>

         <stringParam name="-b"
                      prompt="Maximum alignments (B)" number="true">
             <help>Number of alignments to show</help>
             <suggest default="50"/>
           <regex>\d+</regex>
         </stringParam>


  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <enumParam name="chromosome_telomere"
                      prompt="Chromosome"
                      multiPick="true" 
                      includeProjects="PlasmoDB,EuPathDB">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <enumList>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 1</term>
           <internal>Pf3D7_01</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 2</term>
           <internal>Pf3D7_02</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 3</term>
           <internal>Pf3D7_03</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 4</term>
           <internal>Pf3D7_04</internal>
         </enumValue>
        <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 5</term>
           <internal>Pf3D7_05</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 6</term>
           <internal>Pf3D7_06</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 7</term>
           <internal>Pf3D7_07</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 8</term>
           <internal>Pf3D7_08</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 9</term>
           <internal>Pf3D7_09</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 10</term>
           <internal>Pf3D7_10</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 11</term>
           <internal>Pf3D7_11</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 12</term>
           <internal>Pf3D7_12</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 13</term>
           <internal>Pf3D7_13</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 14</term>
           <internal>Pf3D7_14</internal>
         </enumValue>
      </enumList>
     </enumParam>



   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <enumParam name="chromosome"
                      prompt="Chromosome"
                      multiPick="true" 
                      includeProjects="PlasmoDB,ToxoDB,EuPathDB">
       <enumList>   
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 1</term>
           <internal>Pf3D7_01</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 2</term>
           <internal>Pf3D7_02</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 3</term>
           <internal>Pf3D7_03</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 4</term>
           <internal>Pf3D7_04</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 5</term>
           <internal>Pf3D7_05</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 6</term>
           <internal>Pf3D7_06</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 7</term>
           <internal>Pf3D7_07</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 8</term>
           <internal>Pf3D7_08</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 9</term>
           <internal>Pf3D7_09</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 10</term>
           <internal>Pf3D7_10</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 11</term>
           <internal>Pf3D7_11</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 12</term>
           <internal>Pf3D7_12</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 13</term>
           <internal>Pf3D7_13</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 14</term>
           <internal>Pf3D7_14</internal>
         </enumValue>


         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome Ia</term>
           <internal>TGME49_chrIa</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome Ib</term>
           <internal>TGME49_chrIb</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome II</term>
           <internal>TGME49_chrII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome III</term>
           <internal>TGME49_chrIII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome IV</term>
           <internal>TGME49_chrIV</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome V</term>
           <internal>TGME49_chrV</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VI</term>
           <internal>TGME49_chrVI</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VIIa</term>
           <internal>TGME49_chrVIIa</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VIIb</term>
           <internal>TGME49_chrVIIb</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VIII</term>
           <internal>TGME49_chrVIII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome IX</term>
           <internal>TGME49_chrIX</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome X</term>
           <internal>TGME49_chrX</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome XI</term>
           <internal>TGME49_chrXI</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome XII</term>
           <internal>TGME49_chrXII</internal>
         </enumValue>
       </enumList>   
     </enumParam>


   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!--  -->  
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <enumParam name="centromere_chromosome"
                      prompt="Chromosome"
                      multiPick="true" 
                      includeProjects="ToxoDB,EuPathDB,PlasmoDB">

       <enumList>   
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 1</term>
           <internal>Pf3D7_01</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 2</term>
           <internal>Pf3D7_02</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 3</term>
           <internal>Pf3D7_03</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 4</term>
           <internal>Pf3D7_04</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 5</term>
           <internal>Pf3D7_05</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 6</term>
           <internal>Pf3D7_06</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 7</term>
           <internal>Pf3D7_07</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 8</term>
           <internal>Pf3D7_08</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 9</term>
           <internal>Pf3D7_09</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 10</term>
           <internal>Pf3D7_10</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 11</term>
           <internal>Pf3D7_11</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 12</term>
           <internal>Pf3D7_12</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 13</term>
           <internal>Pf3D7_13</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 14</term>
           <internal>Pf3D7_14</internal>
         </enumValue>

         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome Ia</term>
           <internal>TGME49_chrIa</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome Ib</term>
           <internal>TGME49_chrIb</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome II</term>
           <internal>TGME49_chrII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome III</term>
           <internal>TGME49_chrIII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome V</term>
           <internal>TGME49_chrV</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VI</term>
           <internal>TGME49_chrVI</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VIIb</term>
           <internal>TGME49_chrVIIb</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome VIII</term>
           <internal>TGME49_chrVIII</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome IX</term>
           <internal>TGME49_chrIX</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome X</term>
           <internal>TGME49_chrX</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome XI</term>
           <internal>TGME49_chrXI</internal>
         </enumValue>
         <enumValue includeProjects="ToxoDB,EuPathDB">
           <term>T. gondii ME49 chromosome XII</term>
           <internal>TGME49_chrXII</internal>
         </enumValue>
       </enumList>   
     </enumParam>


<!--  added for sagetags by location in portal -->

<enumParam name="chromosomeOptional2" includeProjects="PlasmoDB,ToxoDB,GiardiaDB,EuPathDB" 
                      prompt="Chromosome"
                      multiPick="true" >
      
       <enumList>   
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 1</term>
           <internal>Pf3D7_01</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 2</term>
           <internal>Pf3D7_02</internal>
        </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 3</term>
           <internal>Pf3D7_03</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 4</term>
           <internal>Pf3D7_04</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 5</term>
           <internal>Pf3D7_05</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 6</term>
           <internal>Pf3D7_06</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 7</term>
           <internal>Pf3D7_07</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 8</term>
           <internal>Pf3D7_08</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 9</term>
           <internal>Pf3D7_09</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 10</term>
           <internal>Pf3D7_10</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 11</term>
           <internal>Pf3D7_11</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 12</term>
           <internal>Pf3D7_12</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 13</term>
           <internal>Pf3D7_13</internal>
         </enumValue>
         <enumValue includeProjects="PlasmoDB,EuPathDB">
           <term>P.f. chromosome 14</term>
           <internal>Pf3D7_14</internal>
         </enumValue>

         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>Select:</term>
           <internal>Select:</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>Ia</term>
           <internal>Ia</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>Ib</term>
           <internal>Ib</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>II</term>
           <internal>II</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>III</term>
           <internal>III</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>IV</term>
           <internal>IV</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>V</term>
           <internal>V</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>VI</term>
           <internal>VI</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>VIIa</term>
           <internal>VIIa</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>VIIb</term>
           <internal>VIIb</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>VIII</term>
           <internal>VIII</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>IX</term>
           <internal>IX</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>X</term>
           <internal>X</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>XI</term>
           <internal>XI</internal>
         </enumValue>
         <enumValue  includeProjects="ToxoDB,EuPathDB">
           <term>XII</term>
           <internal>XII</internal>
         </enumValue>
         <enumValue  includeProjects="GiardiaDB,EuPathDB">
           <term>1</term>
           <internal>1</internal>
         </enumValue>
         <enumValue  includeProjects="GiardiaDB,EuPathDB">
           <term>2</term>
           <internal>2</internal>
         </enumValue>
         <enumValue  includeProjects="GiardiaDB,EuPathDB">
           <term>3</term>
           <internal>3</internal>
         </enumValue>
         <enumValue  includeProjects="GiardiaDB,EuPathDB">
           <term>4</term>
           <internal>4</internal>
         </enumValue>
         <enumValue  includeProjects="GiardiaDB,EuPathDB">
           <term>5</term>
           <internal>5</internal>
         </enumValue>
       </enumList>


  
     </enumParam>





<!-- the only difference between these two is the quote = true on component sites   -->
 <flatVocabParam name="chromosomeOptional" includeProjects="EuPathDB"
                     prompt="Chromosome"
                     queryRef="SharedVQ.ChromosomeOrderNum"
                     multiPick="false" 
                     dependedParamRef="organismParams.organism">
             <help>
                <![CDATA[
                Select chromosome for a selected organism or enter genomic sequence ID. If you provide both you will get both.
                ]]>
              </help>
     </flatVocabParam>
 
     <flatVocabParam name="chromosomeOptional" includeProjects="TriTrypDB,MicrosporidiaDB,CryptoDB,PlasmoDB,ToxoDB,PiroplasmaDB,GiardiaDB,FungiDB"
                     prompt="Chromosome"
                     queryRef="SharedVQ.ChromosomeOrderNum"
                     multiPick="false"
                     default="Choose chromosome" 
                     quote="true"
                     dependedParamRef="organismParams.organism">
             <help>
                <![CDATA[
                Select chromosome.
                ]]>
              </help>
     </flatVocabParam>

<flatVocabParam name="chromosomeOptionalSnps" includeProjects="EuPathDB"
                     prompt="Chromosome"
                     queryRef="SharedVQ.ChromosomeOrderNumSNPs"
                     multiPick="true"
                     displayType="checkBox"
                     dependedParamRef="organismParams.organism">
             <help>
                <![CDATA[
                Select chromosome for a selected organism or enter genomic sequence ID. If you provide both you will get both.
                ]]>
              </help>
              <suggest selectMode="all"/>
     </flatVocabParam>
 
     <flatVocabParam name="chromosomeOptionalSnps" includeProjects="CryptoDB,PlasmoDB,ToxoDB,GiardiaDB,FungiDB"
                     prompt="Chromosome"
                     queryRef="SharedVQ.ChromosomeOrderNumSNPs"
                     multiPick="true"
                     quote="true"
                     dependedParamRef="organismParams.organism">
             <help>
                <![CDATA[
                Select chromosome.
                ]]>
              </help>
              <suggest selectMode="all"/>
     </flatVocabParam>

     <flatVocabParam name="chromosomeOptionalSnps" includeProjects="TriTrypDB"
                     prompt="Chromosome"
                     queryRef="SharedVQ.ChromosomeOrderNumHtsSNPs"
                     multiPick="true"
                     quote="true"
                     dependedParamRef="organismParams.organism">
             <help>
                <![CDATA[
                Select chromosome.
                ]]>
              </help>
              <suggest selectMode="all"/>
     </flatVocabParam>

<!-- this is only used by portal the way SNPs by HTS location search page is built, including the Chromosome parameter for Amoeba organism -->
    <enumParam name="chromosomeOptionalSnps"   includeProjects="AmoebaDB"  visible="false" >
             <help>
                 AmoebaDB has not currently defined chromosomes.
             </help>
          <enumList>
           <enumValue>
             <term>No chromosomes defined for organisms in AmoebaDB</term>
             <internal>dummy value</internal>
           </enumValue>
         </enumList>
       </enumParam>

     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <!-- Sequence Id -->  
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <enumParam name="sequenceIdList"
             displayType="typeAhead"
             multiPick="true"
             prompt="Genomic sequence ID">

         <help>
           A dummy param to allow searching for genes by multiple sequence identifiers, only used by GeneDumpQuestions.GenesByLocations.
         </help>
         <enumList>
           <enumValue> <!-- only here so the model validates -->  
             <term>dummy value</term>
             <internal>dummy value</internal>
           </enumValue>
         </enumList>
       </enumParam> 

     <stringParam name="sequenceId"
             prompt="Genomic sequence ID"   number="false">

           <help includeProjects="EuPathDB">
           Enter an identifier for a genomic sequence. The IDs correspond to the accession numbers in the GenBank records supplied by the sequencing centers. Wild cards are permitted in most queries, i.e. use AAEE* to ask for all &lt;i&gt; C.parvum &lt;/i&gt; contigs. Genes By Chromosomal Location does not allow wildcards.
         </help>

         <suggest includeProjects="EuPathDB"
             sample="AAEL010000057, AAEE01000009, BX526834, Pf3D7_04, AABL01000036, VIIa, TGG_994746"
             allowEmpty="true"
             default="(Example: AAEL01000057)"/>

        <help includeProjects="PiroplasmaDB">
           Enter an identifier for a genomic sequence. The IDs correspond to the accession numbers in the GenBank records supplied by the sequencing centers. Wild cards are permitted in most queries, i.e. use AAXT* to ask for all contigs/scaffolds that have identifiers that begin with AAXT. Genes By Chromosomal Location does not allow wildcards.
         </help>
        <help includeProjects="TriTrypDB">
           Enter an identifier for a genomic sequence. The IDs correspond to the accession numbers in the GenBank records supplied by the sequencing centers. Wild cards are permitted in most queries, i.e. use LbrM01* to ask for all contigs that have identifiers that begin with LbrM01. Genes By Chromosomal Location does not allow wildcards.
         </help>
         <help includeProjects="TrichDB">
           Enter an identifier for a genomic sequence. The IDs correspond to the accession numbers in the GenBank records supplied by the sequencing centers. Wild cards are permitted in most queries, i.e. use DS11* to ask for all contigs that have identifiers that begin with DS11. Genes By Chromosomal Location does not allow wildcards.
         </help>
         <help includeProjects="GiardiaDB">
           Enter an identifier for a genomic sequence. The IDs correspond to the accession numbers in the GenBank records supplied by the sequencing centers. Wild cards are permitted in most queries, i.e. use AACB0200* to ask for all contigs/scaffolds that have identifiers that begin with AACB0200. Genes By Chromosomal Location does not allow wildcards.
         </help>
         <help includeProjects="CryptoDB">
             Enter an identifier for a genomic contig. The IDs
             correspond to the accession numbers in the GenBank records
             supplied by the sequencing centers. Contig ID's from
             &lt;i&gt; C. parvum &lt;/i&gt; whole genome sequencing
             project begin with 'AAEE' and contig ID's for &lt;i&gt;
             C. hominis &lt;/i&gt; begin with 'AAEL'. The &lt;i&gt;
             C. parvum &lt;/i&gt; Chromosome 6 independently sequenced
             at MRC-LMB  before the whole genome project was completed
             is 'BX526834 '. Wild cards are permitted  in most queries,
             i.e. use AAEE* to ask for all &lt;i&gt; C. parvum
             &lt;/i&gt; contigs. Genes By Chromosomal Location does not allow wildcards.
         </help>
         <help includeProjects="PlasmoDB">
             Sequence IDs for &#60;i&#62; P. falciparum &#60;/i&#62; chromosomes are 'Pf3D7_01' through 'Pf3D7_14.'  Sequence IDs for &#60;i&#62; P. yoelii &#60;/i&#62; sequences begin with 'AABL'.  Sequence IDs for &#60;i&#62; P. vivax &#60;/i&#62; chromosomes begin with 'CM', while the contigs begin with 'AAK' or 'AY'. Sequence IDs of &#60;i&#62; P. chabaudi &#60;/i&#62; chromosomes start with 'chab', while the contigs begin with 'contig'. &#60;i&#62;P.knowlesi &#60;/i&#62; chromosome sequences start with 'PK' or 'chr'. &#60;i&#62;P. berghei &#60;/i&#62; sequences start with 'PB',  &#60;i&#62;P.reichenowi &#60;/i&#62; sequence start with 'Pr', while those of &#60;i&#62;P.gallinaceum &#60;/i&#62; start with 'Pg'. Wild cards are permitted  in most queries, i.e. use 'AABL*' to ask for all &#60;i&#62; P. yoelii &#60;/i&#62; sequences. Genes By Chromosomal Location does not allow wildcards.
         </help>

        <suggest includeProjects="PiroplasmaDB"
             sample="AAXT01000005,CR940349,AAGK01000001"
             default="(Example: AAXT01000005,CR940349)"
             allowEmpty="true"
             emptyValue="No Match"/>
         <suggest includeProjects="CryptoDB"
             sample="AAEL01000057, AAEE01000009, BX526834"
             default="(Examples: AAEE01000006,AAEE01000009)"
             allowEmpty="true"
             emptyValue="No Match"/>
         <suggest includeProjects="ToxoDB"
             sample="Ia, VIIb, XI, VIIa, TGG_994746"
             default="(Examples: TGME49_chrIa, DS984781)"
             allowEmpty="true"
             emptyValue="No Match"/>
         <suggest includeProjects="PlasmoDB"
             sample="Pf3D7_04, AABL01000036, CM000452, PB_RP2830"
             default="(Examples: Pf3D7_04, PB_RP2830)"
             allowEmpty="true"
             emptyValue="No Match"/>     
         <suggest includeProjects="GiardiaDB"
             sample="GLCHR05"
             default="(Examples: GLCHR05)"
             allowEmpty="true"
             emptyValue="No Match"/>     
         <suggest includeProjects="TrichDB"
             sample="DS113177"
             default="DS113177"/>    
         <suggest includeProjects="TriTrypDB"
             sample="Tb927_02_v4"
             default="(Examples: Tb927_02_v4, Lbr.chr22)"
             allowEmpty="true"
             emptyValue="No Match"/>    
         <suggest includeProjects="AmoebaDB"
             sample="DS571186"
             default="(Examples: DS571186,DS548370)"
             allowEmpty="true"
             emptyValue="No Match"/>    
         <suggest includeProjects="MicrosporidiaDB"
             sample="NC_003230"
             default="(Examples: NC_003230,Ein07)"
             allowEmpty="true"
             emptyValue="No Match"/>    
          <suggest includeProjects="FungiDB"
             sample="PgraCRL75367003__Chr_2.1"
             default="(Examples: PgraCRL75367003__Chr_2.1)"
             allowEmpty="true"
             emptyValue="No Match"/>   
       </stringParam>    

         <stringParam name="start_point"
                      prompt="Start at"
                      number="true">
             <help>Select the distance (in nucleotides) to the start</help>
             <suggest default="1"/>
         </stringParam>

         <stringParam name="end_point"
                      prompt="End Location (0 = end)"
                      number="true">
             <help>Select the nucleotide you would like to end in. Note that 0 equals the end so you can get genes right up to the end of the sequence.  The default settings start = 1 and end = 0 will give you results from the entire sequence.</help>
             <suggest default="0"/>
         </stringParam>

      <stringParam name="end_point_segment"
                      prompt="End Location"
                      number="true">
             <help>Select the nucleotide you would like to end in. Note that the end value has to be greater than the start value.</help>
             <suggest default="100"/>
         </stringParam>

       <flatVocabParam name="libraryId"
                      queryRef="SharedVQ.EstLibraries"
                      prompt="EST Library"
                      multiPick="true"
                      quote="false"
                      displayType="treeBox">
         <help>
              Click the [+] to select specific experiments or use the tree box to select all for the chosen organism.
         </help>
         <suggest selectMode="all" />
       </flatVocabParam>

 <flatVocabParam name="libraryIdAssemblies" excludeProjects="CryptoDB,TrichDB,PiroplasmaDB"
                      queryRef="SharedVQ.EstLibrariesWithAssemblies"
                      prompt="EST Library"
                      multiPick="true"
                      quote="false"
                      displayType="treeBox">
         <help>
              Select a clone library.
         </help>
         <suggest selectMode="all" />
       </flatVocabParam>


       <flatVocabParam name="libraryIdGenes"
                      queryRef="SharedVQ.EstLibrariesGenes"
                      prompt="EST Library"
                      multiPick="true"
                      quote="false"
                      displayType="treeBox">
         <help>
              Select a clone library.
         </help>
         <suggest selectMode="all" />
       </flatVocabParam>

     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <!-- SNPs -->  
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->


       <flatVocabParam name="snp_strain_a"
                      queryRef="SharedVQ.SnpStrainAA"
		      excludeProjects="AmoebaDB,MicrosporidiaDB,TriTrypDB,PiroplasmaDB"
                      prompt="Reference"
                      multiPick="false"
                      dependedParamRef="organismParams.organism">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Choose a reference from the list of strains.
       </help>
       </flatVocabParam>

       <flatVocabParam name="snp_strain_m" 
                      queryRef="SharedVQ.SnpStrainAA"
		      excludeProjects="AmoebaDB,MicrosporidiaDB,TriTrypDB,PiroplasmaDB"
                      prompt="Comparator"
                      multiPick="true"
                      dependedParamRef="organismParams.organism">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Choose comparators from the list of strains. 
       </help>
       </flatVocabParam>



       <flatVocabParam name="htsSnp_strain_a"
                      queryRef="SharedVQ.htsSnpStrainAA"
		      excludeProjects="MicrosporidiaDB,PiroplasmaDB"
                      prompt="Reference"
                      multiPick="false"
                      dependedParamRef="organismParams.organism">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Choose a reference from the list of strains.
       </help>
       </flatVocabParam>

       <flatVocabParam name="htsSnp_strain_m" 
                      queryRef="SharedVQ.htsSnpStrainAA"
		      excludeProjects="MicrosporidiaDB,PiroplasmaDB"
                      prompt="Comparator"
                      multiPick="true"
                      dependedParamRef="organismParams.organism">
      <noTranslation value="true" includeProjects="EuPathDB" />
       <help>
              Choose comparators from the list of strains. 
       </help>
       </flatVocabParam>

         <stringParam name="hts_snps_coverage"
                      prompt="Number of aligned reads >="
                      number="true"
                      includeProjects="ToxoDB,EuPathDB,TriTrypDB,AmoebaDB">
             <help>
               Enter a minimum number of aligned reads at the SNP position before considering this a SNP.  Note that 5 reads is the absolute minimum.
             </help>           
             <suggest default="5"
                allowEmpty="true" emptyValue="5" />
         </stringParam>

         <stringParam name="hts_snps_allele_freq"
                      prompt="Allele frequency >="
                      number="true"
                      includeProjects="ToxoDB,EuPathDB,TriTrypDB,AmoebaDB">
             <help>
               Enter a minimum percentage of reads that match this allele before considering this a SNP.  Note: the minimum for haploid genomes is 50% and for diploid genomes the minimum is 34%.
             </help>           
             <suggest default="80"
                allowEmpty="true" emptyValue="50" />
         </stringParam>

         <stringParam name="hts_snps_pvalue"
                      prompt="P value &lt;="
                      number="true"
                      includeProjects="ToxoDB,EuPathDB,TriTrypDB,AmoebaDB">
             <help>
               Enter a maximum P value to allow for this allele before considering this a SNP.  P values are generated by VarScan which was used to call SNPs. 
             </help>           
             <suggest default="0.01"
                allowEmpty="true" emptyValue="0.01" />
         </stringParam>


   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!-- Motif search -->
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

         <stringParam name="motif_expression"
                      prompt="Pattern" number="false">
             <help>Enter a Perl regular expression describing the desired motif.  Example: 'CC6+RK' searches for two consecutive cysteine residues followed by a stretch of hydrophobic amino acids followed by the aminoacids arginine and lysine.</help>
             <suggest sample="(Example: CC6+RK)"
                      default="CC6+RK"/>
 <noTranslation value="true" excludeProjects="EuPathDB" /> 
         </stringParam>

   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
   <!-- Assembly search -->
   <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <stringParam name="min_ests_in_assembly"
                      prompt="Number of ESTs >="
                      number="true"
                      includeProjects="ToxoDB,CryptoDB,GiardiaDB,EuPathDB,PlasmoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB">
             <help>
               Enter a minimum number of ESTs that is required per EST assembly.
             </help>           
             <suggest default="1"
                allowEmpty="true" emptyValue="1" />
         </stringParam>
         <stringParam name="min_lib_ests_in_assembly"
                      prompt="Number of library ESTs >="
                      number="true"
                      includeProjects="ToxoDB,CryptoDB,GiardiaDB,EuPathDB,PlasmoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB">
             <help>
               Enter a minimum number of ESTs from the selected libraries that is required per EST assembly.
             </help>           
             <suggest default="1"
                allowEmpty="true" emptyValue="1" />
           <regex>\d+</regex>
         </stringParam>

     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <!-- mass spec -->  
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <stringParam name="min_seq_coverage"
                      prompt="Minimum Percent Sequence Coverage"
                      number="true">
             <help>Use this parameter to set a minimum amount of (amino acid) sequence coverage for the mass spec-predicted peptides. For example, setting this parameter to 10 will return only those genes whose proteins are at least 10% covered by mass spec.-predicted peptides. In the current dataset the average percent coverage is about 9%, and the maximum is about 90%. Note that even if this parameter is set to 0%, only genes with at least some mass spec. predictions for the specified stage will be returned. In other words, it never returns proteins with 0% coverage, only those with strictly > 0%.</help>
             <suggest default="0"/>
           <regex>\d+(\.\d+)?</regex>
 <noTranslation value="true"  excludeProjects="EuPathDB"/>
         </stringParam>

         <stringParam name="min_span_count"
                      prompt="Minimum Number of Spans"
                      number="true">
             <help>Use this parameter to set a minimum for the number of nonoverlapping regions (spans) that must be found in the mass spec. data for a gene (and the specified lifecycle stage). Only genes with at least this many spans are returned</help>
            <suggest default="2"/>
           <regex>\d+</regex>
        </stringParam>

        <stringParam name="min_sequence_count"
                     prompt="Minimum Number of&lt;br&gt;Unique Peptide Sequences"
                     number="false">
           <help>Use this parameter to set a minimum for the number of unique peptide sequences found that must match a gene in order for it to be returned by the query. Roughly speaking this parameter provides a measure of the abundance of the protein product in question, at least within a particular experiment.</help>
           <suggest  default="1"/>
           <regex>\d+</regex>
        </stringParam>

        <stringParam name="min_spectrum_count"
                     prompt="Minimum Number of Spectra"
                     number="false">
            <help>Use this parameter to set a minimum for the number of mass spectra found that must match a gene in order for it to be returned by the query. Roughly speaking this parameter provides a measure of the abundance of the protein product in question, at least within a particular experiment.</help>
            <suggest default="1"/>
           <regex>\d+</regex>
        </stringParam>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- History -->  
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <answerParam name="isolateHistoryIdA" includeProjects="PlasmoDB,EuPathDB"
                      prompt="Isolate History ID for Set A">
              <help>The number in the left column of My Query History</help>
              <recordClass ref="IsolateRecordClasses.IsolateRecordClass" />
        </answerParam>

        <answerParam name="isolateHistoryIdB" includeProjects="PlasmoDB,EuPathDB"
                      prompt="Isolate History ID for Set B">
              <help>The number in the left column of My Query History</help>
              <recordClass ref="IsolateRecordClasses.IsolateRecordClass" />
        </answerParam>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- History -->  
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
	 
  <enumParam name="chromosome_with_organelles"
                     prompt="Genomic Sequence"
                     multiPick="false"
                     excludeProjects="EuPathDB,GiardiaDB,TrichDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB,PiroplasmaDB"> 
    <help>
             Results will be sorted ascending or descending orde
    </help>
    <enumList includeProjects="PlasmoDB">   
        <enumValue>
          <term>chromosome 1</term>
          <internal>'Pf3D7_01'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 2</term>
          <internal>'Pf3D7_02'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 3</term>
          <internal>'Pf3D7_03'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 4</term>
          <internal>'Pf3D7_04'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 5</term>
          <internal>'Pf3D7_05'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 6</term>
          <internal>'Pf3D7_06'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 7</term>
          <internal>'Pf3D7_07'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 8</term>
          <internal>'Pf3D7_08'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 9</term>
          <internal>'Pf3D7_09'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 10</term>
          <internal>'Pf3D7_10'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 11</term>
          <internal>'Pf3D7_11'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 12</term>
          <internal>'Pf3D7_12'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 13</term>
          <internal>'Pf3D7_13'</internal>
        </enumValue>
        <enumValue>
          <term>chromosome 14</term>
          <internal>'Pf3D7_14'</internal>
        </enumValue>
        <enumValue>
          <term>mitochondrial genome</term>
          <internal>'AJ276844'</internal>
        </enumValue>
        <enumValue>
          <term>plastid IR-A</term>
          <internal>'X95275'</internal>
        </enumValue>
        <enumValue>
          <term>plastid IR-B</term>
          <internal>'X95276'</internal>
        </enumValue>
     </enumList>   
		
     <enumList includeProjects="ToxoDB">   
         <enumValue>
            <term>T.g. Ia</term>
            <internal>Ia</internal>
          </enumValue>
          <enumValue>
            <term>T.g. Ib</term>
            <internal>Ib</internal>
          </enumValue>
          <enumValue>
            <term>T.g. II</term>
            <internal>II</internal>
          </enumValue>
          <enumValue>
            <term>T.g. III</term>
            <internal>III</internal>
          </enumValue>
          <enumValue>
            <term>T.g. IV</term>
            <internal>IV</internal>
          </enumValue>
          <enumValue>
            <term>V</term>
            <internal>V</internal>
          </enumValue>
          <enumValue>
            <term>VI</term>
            <internal>VI</internal>
          </enumValue>
          <enumValue>
            <term>VIIa</term>
            <internal>VIIa</internal>
          </enumValue>
          <enumValue>
            <term>VIIb</term>
            <internal>VIIb</internal>
          </enumValue>
          <enumValue>
            <term>VIII</term>
            <internal>VIII</internal>
          </enumValue>
          <enumValue>
            <term>T.g. IX</term>
            <internal>IX</internal>
          </enumValue>
          <enumValue>
            <term>T.g. X</term>
            <internal>X</internal>
          </enumValue>
          <enumValue>
            <term>T.g. XI</term>
            <internal>XI</internal>
          </enumValue>
          <enumValue>
            <term>T.g. XII</term>
            <internal>XII</internal>
          </enumValue>
      </enumList>   
		
      <enumList includeProjects="CryptoDB">   
        <enumValue>
          <term>AAEE01000006 (Chromosome 1)</term>
          <internal>AAEE01000006</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000005 (Chromosome 2)</term>
          <internal>AAEE01000005</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000013 (Chromosome 2)</term>
          <internal>AAEE01000013</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000004 (Chromosome 3)</term>
          <internal>AAEE01000004</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000015 (Chromosome 3)</term>
          <internal>AAEE01000015</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000008 (Chromosome 4)</term>
          <internal>AAEE01000008</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000009 (Chromosome 4)</term>
          <internal>AAEE01000009</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000012 (Chromosome 4)</term>
          <internal>AAEE01000012</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000007 (Chromosome 5)</term>
          <internal>AAEE01000007</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000018 (Chromosome 5)</term>
          <internal>AAEE01000018</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000017 (Chromosome 5)</term>
          <internal>AAEE01000017</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000010 (Chromosome 5)</term>
          <internal>AAEE01000010</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000002 (Chromosome 6)</term>
          <internal>AAEE01000002</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000014 (Chromosome 6)</term>
          <internal>AAEE01000014</internal>
        </enumValue>
        <enumValue>
          <term>BX526834 (Chromosome 6)</term>
          <internal>BX526834</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000016 (Chromosome 6)</term>
          <internal>AAEE01000016</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000001 (Chromosome 7)</term>
          <internal>AAEE01000001</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000003 (Chromosome 8)</term>
          <internal>AAEE01000003</internal>
        </enumValue>
        <enumValue>
          <term>AAEE01000011 (Chromosome 8)</term>
          <internal>AAEE01000011</internal>
        </enumValue>
      </enumList>   
    </enumParam>

    <stringParam name="wdk_record_type"
                 visible="false" number="false">
    </stringParam>

    <enumParam name="project_id"
               visible="false">
      <noTranslation value="true" includeProjects="EuPathDB" />
      <enumList>   
        <enumValue>
          <term>CryptoDB</term>
          <internal>CryptoDB</internal>
        </enumValue>
        <enumValue>
          <term>PlasmoDB</term>
          <internal>PlasmoDB</internal>
        </enumValue>
        <enumValue>
          <term>ToxoDB</term>
          <internal>ToxoDB</internal>
        </enumValue>
        <enumValue>
          <term>GiardiaDB</term>
          <internal>GiardiaDB</internal>
        </enumValue>
        <enumValue>
          <term>TrichDB</term>
          <internal>TrichDB</internal>
        </enumValue>
        <enumValue>
          <term>TriTrypDB</term>
          <internal>TriTrypDB</internal>
        </enumValue>
      </enumList>   
    </enumParam>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Text Expression -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <stringParam name="text_expression"
                     prompt="Text term (use * as wildcard)" number="false">
            <help>Enter text you would like to search for. Multiple words may be entered, for example: membrane receptor signal inner. Use an asterisk as a wildcard to match partial words.</help>
            <suggest default="synth*"/>
           <regex>.*[^*].*</regex>
        </stringParam>


    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Timestamp Params -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- the timestampParam will automatically generate a new value every
         user reruns a query from the question page. -->

        <timestampParam name="timestamp"
                     prompt="Time Stamp">
            <help>A new value will be generated automatically every time when user runs/reruns a query from question page</help>
            <suggest allowEmpty="true" emptyValue="0"/>
        </timestampParam>


        
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- wdk weight filter -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        

        <stringParam name="min_weight"
                     prompt="Minimum weight"
                     number="true">
            <help>Enter the minimum weight of the result</help>
            <suggest default="0"/>
        </stringParam>

        <stringParam name="max_weight"
                     prompt="Maximum weight"
                     number="true">
            <help>Enter the maximum weight of the result</help>
            <suggest default="100"/>
        </stringParam>

    <flatVocabParam name="question_popularity"
                    queryRef="SharedVQ.QuestionPopularity" />

  </paramSet>



<!-- Parameters for the SRT Page -->
<paramSet name="SrtParams">
<!-- SrtParams.genes_ids -->
        <stringParam name="genes_ids"
            id="genes_ids"
            prompt="Gene IDs"
            number="false">
            <help>Gene IDs (locus tags) are quite different for each species. We use the gene IDs provided
by the sequence generator.</help>
           <suggest includeProjects="PlasmoDB"
		    sample="PF11_0344, PY01656, Pv092275"
                    default="PF11_0344"/>
           <suggest includeProjects="CryptoDB"
                                        sample="cgd7_230"
                    default="cgd7_230"/>
           <suggest includeProjects="ToxoDB"
                    sample="TGME49_039250, NCLIV_000080"
                    default="TGME49_039250"/>
           <suggest includeProjects="GiardiaDB"
                    sample="GL50803_102438, GL50803_5213, GL50803_6262"
                    default="GL50803_102438"/>
           <suggest includeProjects="TrichDB"
                    sample="TVAG_386080, TVAG_486660"
                    default="TVAG_386080"/>
           <suggest includeProjects="EuPathDB"
		    sample="PF11_0344, cgd7_230, TGME49_039250"
                    default="cgd7_230"/>
           <suggest includeProjects="AmoebaDB"
		    sample="EDI_244000, EIN_020510, EHI_046600"
                    default="EDI_244000"/>
           <suggest includeProjects="MicrosporidiaDB"
		    sample="ECU03_0820i, Ein03_0360, EBI_22793"
                    default="ECU03_0820i"/>
	</stringParam>



<!-- SrtParams.contigs_ids -->
        <stringParam name="contigs_ids"
            id="contigs_ids"
            prompt="Contig IDs" number="false">
 <suggest includeProjects="CryptoDB"
            sample="AAEL01000057, AAEE01000009, BX526834"
            default="AAEE01000006"/>
        <suggest includeProjects="EuPathDB"
            sample="AAEL010000057, AAEE01000009, BX526834, Pf3D7_04, AABL01000036, TGME49_chrVIIa, TGGT1_chrX"
            default="AAEL01000057"/>
        <suggest includeProjects="ToxoDB"
            sample="TGME49_chrIa, TGME49_chrVIIa, TGGT1_chrX, Neo_chrXI"
            default="TGME49_chrIa"
            allowEmpty="true"
            emptyValue="No Match"/>
        <suggest includeProjects="PlasmoDB"
            sample="Pf3D7_04, AABL01000036, CM000452, PB_RP2830"
            default="Pf3D7_04"
            allowEmpty="true"
            emptyValue="No Match"/>
        <suggest includeProjects="GiardiaDB"
            sample="AACB02000002, AACB02000007, GLCHR05"
            default="GLCHR05"/> 
        <suggest includeProjects="TrichDB"
            sample="DS113177"
            default="DS113177"/>
	<suggest includeProjects="AmoebaDB"
		 sample="DS571186,DS548370"
		 default="DS571186"/>
	<suggest includeProjects="MicrosporidiaDB"
		 sample="NC_003230,Ein07"
		 default="NC_003230"/>
</stringParam>



<!-- SrtParams.orfs_ids -->
        <stringParam name="orfs_ids"
            id="orfs_ids"
            prompt="ORFs IDs"
            number="false">
 <suggest includeProjects="GiardiaDB"
                     sample="AACB02000007-6-227160-226945, AACB02000014-2-51002-51532"
                     default="AACB02000007-6-227160-226945"/>
<suggest includeProjects="TrichDB"
                     sample="DS113375-1-114214-114468, DS113534-2-30548-30718"
                     default="DS113375-1-114214-114468"/>
            <suggest includeProjects="PlasmoDB"
                     sample="Pf3D7_01-1-10639-11520, Pf3D7_01-1-105160-105438"
                     default="Pf3D7_01-1-10639-11520"/>
            <suggest includeProjects="ToxoDB"
                     sample="DS984743-6-1410895-1409591, DS984743-1-998278-998571"
                     default="DS984743-6-1410895-1409591"/>
            <suggest includeProjects="CryptoDB"
                     sample="AAEL01000259-5-3339-3085, AAEE01000009*, AAEL*"
                     default="AAEL01000259-5-3339-3085"/>
            <suggest includeProjects="AmoebaDB"
                     sample="DS571186-1-24160-24672, DS549403-4-25617-24766"
                     default="DS571186-1-24160-24672"/>
            <suggest includeProjects="MicrosporidiaDB"
                     sample="Ein06-3-138612-141284, NC_003242-6-163342-160709"
                     default="Ein06-3-138612-141284"/>
            <suggest includeProjects="EuPathDB"
                     sample="AAEL01000259-5-3339-3085, AAEE01000009*, DS984743-6-1410895-1409591, Pf3D7_01-1-105160-105438"
                     default="AAEL01000259-5-3339-3085"/>
        </stringParam>

</paramSet>
<!-- End SRT Parameters -->


  <!--======================================================================-->
  <!-- General Vocab queries  -->
  <!--======================================================================-->

  <querySet name="SharedVQ" queryType="vocab">


        <sqlQuery name="BlastOrganismFiles">
            <paramRef ref="sharedParams.BlastDatabaseType"/>
            <column name="internal" />
            <column name="term" />
            <column name="parentTerm" />
            <sql>
                <![CDATA[
 WITH types as ( 
  -- Standard GENES (RH for toxo is included in the apicoplast)
  select distinct organism, project_id, type 
  from ApidbTuning.GeneAttributes,
       (select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  where organism not in ('Toxoplasma gondii RH')
  UNION
  -- TrichDB Repeat Genes
  select distinct organism || ' (Repeated Genes)', project_id, type 
  from ApidbTuning.GeneAttributes,
       (select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  where project_id = 'TrichDB'
  UNION
  -- GiardiaDB Deprecated Genes
  select 'Giardia Assemblage A isolate WB (deprecated)' as organism, 'GiardiaDB' as project_id, type 
  from dual, (select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  UNION
  -- GiardiaDB Scaffolds
  select 'Giardia Assemblage A isolate WB (scaffolds)' as organism, 'GiardiaDB' as project_id, type 
  from dual, (select 'Genomics' as type from dual)
  UNION
    -- ToxoDB Apicoplast for GENES and GENOMES
  select 'Toxoplasma gondii apicoplast' as organism, 'ToxoDB' as project_id, type
  from dual, (select 'ORF' as type from dual union select 'Genomics' as type from dual union select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  UNION  
  -- Standard GENOME
  select distinct organism, project_id, type 
  from ApidbTuning.SequenceAttributes,
       (select 'ORF' as type from dual union select 'Genomics' as type from dual)
  UNION
  -- Mitochondrial GENES and GENOME
  select distinct organism || ' mitochondrial', project_id, type 
  from ApidbTuning.SequenceAttributes,       
  (select 'ORF' as type from dual union select 'Genomics' as type from dual union select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  where so_id = 'SO:0000819'
  UNION
  -- Plastid GENES and GENOME
  select distinct organism || ' plastid' as organism, project_id, type 
  from ApidbTuning.SequenceAttributes,       
  (select 'ORF' as type from dual union select 'Genomics' as type from dual union select 'Transcripts' as type from dual union select 'Proteins' as type from dual)
  where so_id = 'SO:0001259'
  UNION
   -- CryptoDB has ESTORFs
  select 'Cryptosporidium parvum EST' as organism,  'CryptoDB' as project_id, 'ORF' as type from dual
  UNION 
  select 'Cryptosporidium muris EST' as organism,  'CryptoDB' as project_id, 'ORF' as type from dual
  UNION 
  select 'Cryptosporidium parvum Iowa II' as organism,  'CryptoDB' as project_id, 'EST' as type from dual
  UNION  
  -- Regular ESTs (must exclude specific strains because ests are done at the species level for most databases
  select distinct organism, project_id, 'EST' as type 
  from ApidbTuning.EstAttributes ea 
  where organism not in ('Plasmodium berghei str. ANKA','Plasmodium falciparum 3D7','Plasmodium yoelii yoelii','Plasmodium yoelii yoelii str. 17XNL', 'Toxoplasma gondii RH', 'Cryptosporidium parvum')
  UNION
  select 'Other Apicomplexan ESTs' as organism, 'EuPathDB' as project_id, 'EST' as type from dual
  UNION
  -- Genome Survey sequences
  select 'Genome Survey Sequences' as organism,  'MicrosporidiaDB' as project_id, 'GSS' as type from dual
  UNION 
  -- isolates are hard coded
  select 'Plasmodium Barcode Isolates' as organism, 'PlasmoDB' as project_id, 'Isolates' as type from dual
  UNION
  select 'Plasmodium Popset/Genbank Isolates' as organism, 'PlasmoDB' as project_id, 'Isolates' as type from dual
  UNION
  select 'All Giardia Isolates' as organism, 'GiardiaDB' as project_id, 'Isolates' as type from dual
  UNION
  select 'Cryptosporidium Reference Isolates' as organism, 'CryptoDB' as project_id, 'Isolates' as type from dual
  UNION
  select 'Cryptosporidium Isolates minus Reference' as organism, 'CryptoDB' as project_id, 'Isolates' as type from dual
  UNION
  select 'All Toxoplasma Isolates' as organism, 'ToxoDB' as project_id, 'Isolates' as type from dual
  ) 
select CASE WHEN types.organism = 'Cryptosporidium parvum'
            THEN 'Cryptosporidium parvum'
            ELSE abbrev.parent 
            END as parentTerm,
       CASE WHEN types.organism = 'Cryptosporidium parvum'
            THEN 'Cryptosporidium parvum Chr. 6'
            ELSE abbrev.organism
            END AS term,
            abbreviation as internal
From   ApidbTuning.OrganismAbbreviationBlast abbrev, types,
  (
  select 'FungiDB' as project_id, '@FUNGI_BLAST_PATH@' as macro from dual union
  select 'PiroplasmaDB' as project_id, '@PIRO_BLAST_PATH@' as macro from dual union
  select 'ToxoDB' as project_id, '@TOXO_BLAST_PATH@' as macro from dual union
  select 'CryptoDB' as project_id, '@CRYPTO_BLAST_PATH@' as macro from dual union
  select 'GiardiaDB' as project_id, '@GIARDIA_BLAST_PATH@' as macro from dual union
  select 'TrichDB' as project_id, '@TRICH_BLAST_PATH@' as macro from dual union
  select 'MicrosporidiaDB' as project_id, '@MICRO_BLAST_PATH@' as macro from dual union
  select 'AmoebaDB' as project_id, '@AMOEBA_BLAST_PATH@' as macro from dual union
  select 'PlasmoDB' as project_id, '@PLASMO_BLAST_PATH@' as macro from dual union
  select 'TriTrypDB' as project_id, '@TRYP_BLAST_PATH@' as macro from dual union
  select 'EuPathDB' as project_id, '@API_BLAST_PATH@' as macro from dual
  ) macros
where types.organism = abbrev.organism
and macros.project_id = types.project_id
and types.type = '$$BlastDatabaseType$$'
and (types.project_id = '@PROJECT_ID@' OR 'EuPathDB' = '@PROJECT_ID@')
union
select ot.parentTerm as parentTerm,ot.term as term,'-1'as internal
from ApidbTuning.OrganismTree ot, ApidbTuning.OrganismAbbreviationBlast abbrev, types
where types.organism = abbrev.organism
and types.type = '$$BlastDatabaseType$$'
and ot.term = abbrev.parent
and (ot.project_id = '@PROJECT_ID@' or 'EuPathDB'='@PROJECT_ID@')
union
select ot.parentTerm as parentTerm,ot.term as term,'-1'as internal
from ApidbTuning.OrganismTree ot
where ot.term in (select ot.parentTerm 
               from ApidbTuning.OrganismTree ot, ApidbTuning.OrganismAbbreviationBlast abbrev, types
               where types.organism = abbrev.organism
               and types.type = '$$BlastDatabaseType$$' and ot.term = abbrev.parent
               and (ot.project_id = '@PROJECT_ID@' or '@PROJECT_ID@' = 'EuPathDB'))
union
select ot.parentTerm as parentTerm,ot.term as term,'-1'as internal
from ApidbTuning.OrganismTree ot
where ot.term in (select ot.parentTerm from (select ot.parentTerm from ApidbTuning.OrganismTree ot, ApidbTuning.OrganismAbbreviationBlast abbrev, types
               where types.organism = abbrev.organism
               and types.type = '$$BlastDatabaseType$$' and ot.term = abbrev.parent
               and (ot.project_id = 'EuPathDB' or '@PROJECT_ID@' = 'EuPathDB'))pt,  ApidbTuning.OrganismTree ot
               where pt.parentTerm = ot.term)
                ]]>
            </sql>
        </sqlQuery>


 <processQuery name="chromosomeOptional"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
      <paramRef ref="organismParams.organism" quote="false"/> 
      <wsColumn name="internal" width="32" wsName="internal"/>
      <wsColumn name="term" width="32" wsName="term"/>
      <wsColumn name="parentTerm" width="32" wsName="parentTerm" />
    </processQuery>




        <sqlQuery name="ChromosomeOrderNum" includeProjects="TriTrypDB,MicrosporidiaDB,CryptoDB,PlasmoDB,ToxoDB,PiroplasmaDB,GiardiaDB,FungiDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomes"/> 
            <column name="internal"/>
            <column name="term"/>
            <sql>
             select * from (
               select distinct chromosome as term , chromosome as internal, chromosome_order_num 
               from ApidbTuning.GeneAttributes 
               where species in ($$organism$$)
                and chromosome is not null
               union 
               select 'Choose chromosome' as term, 'Choose chromosome' as internal, -1 as chromosome_order_num from dual)
               order by chromosome_order_num asc
            </sql>
        </sqlQuery>

	<processQuery name="ChromosomeOrderNum"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
	  <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomes"/> 
	  <wsColumn name="internal" width="32" wsName="internal"/>
	  <wsColumn name="term" width="130" wsName="term"/>
	</processQuery>

        <sqlQuery name="ChromosomeOrderNumSNPs" excludeProjects="EuPathDB,MicrosporidiaDB,TriTrypDB,PiroplasmaDB,AmoebaDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesSNPs"/>
            <column name="internal"/>
            <column name="term"/>
            <sql>
             select * from (
               select distinct chromosome as term , chromosome as internal, chromosome_order_num 
               from ApidbTuning.SequenceAttributes
               where organism = $$organism$$
                and chromosome is not null
               order by chromosome_order_num
             )
            </sql>
        </sqlQuery>
        
       <processQuery name="ChromosomeOrderNumSNPs"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
	  <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomesSNPs"/> 
	  <wsColumn name="internal" width="32" wsName="internal"/>
	  <wsColumn name="term" width="32" wsName="term"/>
	</processQuery>

        <sqlQuery name="ChromosomeOrderNumHtsSNPs" includeProjects="TriTrypDB,ToxoDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesHtsSNPs"/> 
            <column name="internal"/>
            <column name="term"/>
            <sql>
             select * from (
               select distinct chromosome as term , chromosome as internal, chromosome_order_num 
               from ApidbTuning.SequenceAttributes
               where organism = $$organism$$
                and chromosome is not null
              order by chromosome_order_num
             )
            </sql>
        </sqlQuery>

        <processQuery name="ChromosomeOrderNumHtsSNPs"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
	  <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomesHtsSNPs"/> 
	  <wsColumn name="internal" width="32" wsName="internal"/>
	  <wsColumn name="term" width="32" wsName="term"/>
	</processQuery>

        <sqlQuery name="ChromosomeOrderNumEstAssem" includeProjects="TriTrypDB,MicrosporidiaDB,CryptoDB,PlasmoDB,ToxoDB,GiardiaDB,FungiDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" queryRef="organismVQ.withChromosomesESTsAssems" quote="false"/> 
            <column name="internal"/>
            <column name="term"/>
            <sql>
             select * from (
               select distinct chromosome as term , chromosome as internal,  chromosome_order_num 
               from ApidbTuning.SequenceAttributes 
               where organism like '$$organism$$%'
                and chromosome is not null
               union 
               select 'Choose chromosome' as term, 'Choose chromosome' as internal, -1 as  chromosome_order_num  from dual)
               order by  chromosome_order_num  asc
            </sql>
        </sqlQuery>


	<processQuery name="ChromosomeOrderNumEstAssem"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
	  <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomesESTsAssems"/> 
	  <wsColumn name="internal" width="32" wsName="internal"/>
	  <wsColumn name="term" width="32" wsName="term"/>
	</processQuery>


        <sqlQuery name="ChromosomeOrderNumOrf" includeProjects="PlasmoDB,CryptoDB,ToxoDB,TriTrypDB,MicrosporidiaDB,PiroplasmaDB,GiardiaDB,FungiDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" queryRef="organismVQ.withChromosomesORFs" quote="false"/> 
            <column name="internal"/>
            <column name="term"/>
            <sql>
             select * from (
               select distinct chromosome as term , chromosome as internal,  chromosome_order_num 
               from ApidbTuning.SequenceAttributes 
               where organism like '$$organism$$%'
                and chromosome is not null
               union 
               select 'Choose chromosome' as term, 'Choose chromosome' as internal, -1 as  chromosome_order_num  from dual)
               order by  chromosome_order_num  asc
            </sql>
        </sqlQuery>


	<processQuery name="ChromosomeOrderNumOrf"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
	  <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomesORFs"/> 
	  <wsColumn name="internal" width="32" wsName="internal"/>
	  <wsColumn name="term" width="32" wsName="term"/>
	</processQuery>


        <sqlQuery name="SnpStrainAA" excludeProjects="EuPathDB,MicrosporidiaDB,TriTrypDB,PiroplasmaDB,AmoebaDB">
          <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withSNPs"/> 
          <column name="internal"/>
          <column name="term"/>
          <sql>
            select * from (
            select distinct substr(st.organism, 1, 1) || substr(st.organism, instr(st.organism, ' ') + 1, 1) || '-' || st.strain as term, st.strain as internal
            from ApiDBTuning.SnpStrains st
            where st.extdb_name in ('Genomic Sequence SNPs','Pf_plasmoDbCombinedSnps_RSRC','Widmer SNPs')
            and st.organism = $$organism$$
            and st.strain != 'Preich'
            and st.strain not like '%-Broad'
            and st.strain not like '%-NIH'    
            union 
            select distinct 'P. reichenowi (vs. 3D7 only)' as term, 'Preich' as internal
            from apidbtuning.SnpStrains
            where strain = 'Preich'
            and organism = $$organism$$
            and extdb_name in ('sangerPReichenowiSnps_RSRC')
            ) order by term
          </sql>
        </sqlQuery>

        <processQuery name="SnpStrainAA" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withSNPs"/> 
            <wsColumn name="internal" width="32" wsName="internal"/>
            <wsColumn name="term" width="32" wsName="term"/>
        </processQuery> 
 

        <sqlQuery name="ChrSnpStrainAA" excludeProjects="EuPathDB,MicrosporidiaDB,TriTrypDB,PiroplasmaDB,AmoebaDB">
          <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesSNPs"/> 
          <column name="internal"/>
          <column name="term"/>
          <sql>
            select distinct substr(st.organism, 1, 1) || substr(st.organism, instr(st.organism, ' ') + 1, 1) || '-' || st.strain as term, st.strain as internal
            from ApiDBTuning.SnpStrains st
            where st.extdb_name in ('Genomic Sequence SNPs','Pf_plasmoDbCombinedSnps_RSRC','Widmer SNPs')
            and st.organism = $$organism$$
            and st.strain != 'Preich'
            union 
            select distinct 'P. reichenowi (vs. 3D7 only)' as term, 'Preich' as internal
            from apidbtuning.SnpStrains
            where strain = 'Preich'
            and organism = $$organism$$
            and extdb_name in ('Genomic Sequence SNPs','Pf_plasmoDbCombinedSnps_RSRC','Widmer SNPs')
            
          </sql>
        </sqlQuery>
        <processQuery name="ChrSnpStrainAA" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesSNPs"/> 
            <wsColumn name="internal" width="32" wsName="internal"/>
            <wsColumn name="term" width="32" wsName="term"/>
        </processQuery> 

        <sqlQuery name="htsSnpStrainAA" excludeProjects="EuPathDB,MicrosporidiaDB,PiroplasmaDB">
          <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withHtsSNPs"/> 
          <column name="internal"/>
          <column name="term"/>
          <sql>
            select distinct substr(st.organism, 1, 1) || substr(st.organism, instr(st.organism, ' ') + 1, 1) || '-' || st.strain as term, st.strain as internal
            from ApiDBTuning.SnpStrains st
            where st.extdb_name = 'InsertSnps.pm NGS SNPs INTERNAL'
            and st.organism in ($$organism$$)
            and st.strain != 'Preich'
            union 
            select distinct 'P. reichenowi (vs. 3D7 only)' as term, 'Preich' as internal
            from apidbtuning.SnpStrains
            where strain = 'Preich'
            and organism in ($$organism$$)
            and extdb_name = 'InsertSnps.pm NGS SNPs INTERNAL'
          </sql>
        </sqlQuery>

        <processQuery name="htsSnpStrainAA" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withHtsSNPs"/> 
            <wsColumn name="internal" width="32" wsName="internal"/>
            <wsColumn name="term" width="32" wsName="term"/>
        </processQuery> 



        <sqlQuery name="htsChrSnpStrainAA" excludeProjects="EuPathDB,MicrosporidiaDB,PiroplasmaDB,AmoebaDB">
          <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesHtsSNPs"/> 
          <column name="internal"/>
          <column name="term"/>
          <sql>
            select distinct substr(st.organism, 1, 1) || substr(st.organism, instr(st.organism, ' ') + 1, 1) || '-' || st.strain as term, st.strain as internal
            from ApiDBTuning.SnpStrains st
            where st.extdb_name = 'InsertSnps.pm NGS SNPs INTERNAL'
            and st.organism in ($$organism$$)
            and st.strain != 'Preich'
            union 
            select distinct 'P. reichenowi (vs. 3D7 only)' as term, 'Preich' as internal
            from apidbtuning.SnpStrains
            where strain = 'Preich'
            and organism in ($$organism$$)
            and extdb_name = 'InsertSnps.pm NGS SNPs INTERNAL'
          </sql>
        </sqlQuery>

        <processQuery name="htsChrSnpStrainAA" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withChromosomesHtsSNPs"/> 
            <wsColumn name="internal" width="32" wsName="internal"/>
            <wsColumn name="term" width="32" wsName="term"/>
        </processQuery> 

        <sqlQuery name="ChromosomeOrderNumSeq" includeProjects="TriTrypDB,MicrosporidiaDB,CryptoDB,PlasmoDB,ToxoDB,PiroplasmaDB" isCacheable="true" doNotTest="true">
            <paramRef ref="organismParams.organism" quote="true" queryRef="organismVQ.withStrainsChromosome"/>
            <column name="display"/>
            <column name="internal"/>
            <column name="term"/>
            <sql>
  SELECT * 
  FROM ((select chromosome as display, 
                apidb.tab_to_string(cast(collect(source_id) as apidb.varchartab), ';') AS term,
                chromosome as internal, chromosome_order_num
         from (SELECT DISTINCT sa.chromosome, sa.source_id, sa.chromosome_order_num
               FROM ApidbTuning.SequenceAttributes sa
               where sa.organism in ($$organism$$)
               and sa.chromosome is not null
              )
         group by chromosome, chromosome_order_num
        )
        union
        (select 'Choose chromosome' as display, 'Choose chromosome' as term, 
                'Choose chromosome' as internal, -1 as chromosome_order_num from dual
        )
       )
  order by chromosome_order_num asc
            </sql>
        </sqlQuery>

        <processQuery name="ChromosomeOrderNumSeq"  processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
          <paramRef ref="organismParams.organism" quote="false" queryRef="organismVQ.withChromosomes"/>
          <wsColumn name="display" width="50"/>
          <wsColumn name="internal" width="50"/>
          <wsColumn name="term" width="500"/>
        </processQuery>

        <sqlQuery name="EstLibraries" excludeProjects="EuPathDB" isCacheable="true">
            <column name="internal"/>
            <column name="term"/>
            <column name="parentTerm"/>
            <sql>
select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@'
            </sql>
        </sqlQuery>

  <processQuery name="EstLibraries" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <wsColumn name="internal" width="100" wsName="internal"/>
            <wsColumn name="term" width="100" wsName="term"/>
            <wsColumn name="parentTerm" width="100" wsName="parentTerm"/>
        </processQuery>


<!--
This query seems to be unused
 <sqlQuery name="EstLibrariesAssemblies" excludeProjects="EuPathDB" isCacheable="true">
            <column name="internal"/>
            <column name="term"/>
            <column name="parentTerm"/>
            <sql>
                SELECT distinct REPLACE(att.dbest_name, ',', ' - ') AS term,
                       l.library_id AS internal
                FROM ApidbTuning.EstAttributes att, dots.library l
                WHERE att.dbest_name = l.dbest_name
                AND att.project_id = '@PROJECT_ID@'
                ORDER BY term
            </sql>
        </sqlQuery>

  <processQuery name="EstLibrariesAssemblies" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <wsColumn name="internal" width="100" wsName="internal"/>
            <wsColumn name="term" width="100" wsName="term"/>
        </processQuery>
-->




        <sqlQuery name="EstLibrariesGenes" excludeProjects="EuPathDB" isCacheable="true">
            <column name="internal"/>
            <column name="term"/>
            <column name="parentTerm"/>
             <sql includeProjects="PlasmoDB,ToxoDB,CryptoDB,TriTrypDB,TrichDB,AmoebaDB,MicrosporidiaDB,PiroplasmaDB,FungiDB,InitDB">
select distinct t.* from
(select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@') t, ApidbTuning.GeneAttributes ga
where t.parentTerm = ga.species
or t.term = ga.species
            </sql>
             <sql includeProjects="GiardiaDB">
select distinct t.* from
(select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+([[:space:]]+[[:alpha:]]+)+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+([[:space:]]+[[:alpha:]]+)+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@') t, ApidbTuning.GeneAttributes ga
where t.parentTerm = ga.species || ' isolate WB'
or t.term = ga.species || ' isolate WB'
            </sql>


        </sqlQuery>

        <processQuery name="EstLibrariesGenes" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <wsColumn name="internal" width="100" wsName="internal"/>
            <wsColumn name="term" width="100" wsName="term"/>
            <wsColumn name="parentTerm" width="100" wsName="parentTerm"/>
        </processQuery>


        <sqlQuery name="EstLibrariesWithAssemblies" excludeProjects="EuPathDB,CryptoDB,TrichDB,PiroplasmaDB" isCacheable="true">
            <column name="internal"/>
            <column name="term"/>
            <column name="parentTerm"/>
             <sql includeProjects="ToxoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB">
select distinct t.* from
(select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@') t, ApidbTuning.GeneAttributes ga
where t.parentTerm = ga.species
or t.term = ga.species
            </sql>
             <sql includeProjects="PlasmoDB">
select distinct t.* from
(select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+[[:space:]]+[[:alpha:]]+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@' and not att.dbest_name like 'VAR%'
) t, ApidbTuning.GeneAttributes ga
where t.parentTerm = ga.species or t.term = ga.species
UNION
select 'VARxxxxx' as term, 0 as internal, 'Plasmodium falciparum' as parentTerm from dual
union
select distinct att.dbest_name as term, att.library_id as internal,  'VARxxxxx'  as parentTerm
from ApidbTuning.EstAttributes att
where att.dbest_name like 'VAR%'
            </sql>
             <sql includeProjects="GiardiaDB">
select distinct t.* from
(select distinct REGEXP_SUBSTR(ORGANISM,'[[:alpha:]]+([[:space:]]+[[:alpha:]]+)+') as term, 0 as internal, '' as parentTerm 
from ApidbTuning.EstAttributes
where PROJECT_ID = '@PROJECT_ID@'
union
select  distinct CASE WHEN att.stage != 'unknown' and att.DBEST_NAME not like '%'||att.stage||'%' 
            THEN  REPLACE(att.dbest_name, ',', ';') || ' (' || REPLACE(att.stage, ',', ';') || ')' ELSE REPLACE(att.dbest_name, ',', ';')  END AS term, 
att.library_id as internal, REGEXP_SUBSTR(att.ORGANISM,'[[:alpha:]]+([[:space:]]+[[:alpha:]]+)+') as parentTerm
from ApidbTuning.EstAttributes att
where att.PROJECT_ID = '@PROJECT_ID@') t, ApidbTuning.GeneAttributes ga
where t.parentTerm = ga.species || ' isolate WB'
or t.term = ga.species || ' isolate WB'
            </sql>


        </sqlQuery>

        <processQuery name="EstLibrariesWithAssemblies" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
            <wsColumn name="internal" width="100" wsName="internal"/>
            <wsColumn name="term" width="100" wsName="term"/>
            <wsColumn name="parentTerm" width="100" wsName="parentTerm"/>
        </processQuery>


        <sqlQuery name="QuestionPopularity" isCacheable="true">
            <column name="internal"/>
            <column name="term"/>
            <column name="display"/>
             <sql>
SELECT term, display, rownum AS internal FROM (
SELECT a.question_name AS term, count(s.step_id) AS display
FROM @WDK_ENGINE_SCHEMA@answers@USER_DBLINK@ a, @USER_SCHEMA@steps@USER_DBLINK@ s
WHERE a.answer_id = s.step_id
GROUP BY a.question_name
)
            </sql>
        </sqlQuery>

  </querySet>

    
    <groupSet name="paramGroups">
        
        <group name="advancedParams" displayName="Advanced Parameters" displayType="ShowHide">
            <description>
                <![CDATA[
                ]]>
            </description>
        </group>
    </groupSet>

</wdkModel>

<wdkModel>

  <!-- notes

  -->

  <querySet name="DataSourceIds" queryType="id">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Source id  -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <sqlQuery name="ByQuestionName" includeProjects="PlasmoDB, TriTrypDB"
         isCacheable="true">
        <paramRef ref="dataSourceParams.question_name"/>
        <column name="data_source_name"/>
        <column name="project_id"/>
        <sql>
          <![CDATA[
            SELECT ds.name as data_source_name, '@PROJECT_ID@' as project_id
            FROM   ApiDB.DataSource ds, ApiDB.DataSourceReference dsr
            WHERE 'question' = dsr.type
              AND $$question_name$$ = dsr.name
              AND dsr.data_source_id = ds.data_source_id  
          ]]>
       </sql>
    </sqlQuery>

    <sqlQuery name="ByRecordTypeAndOrganism" includeProjects="PlasmoDB, TriTrypDB"
         isCacheable="true">
        <paramRef ref="dataSourceParams.record_class"/>
        <paramRef ref="dataSourceParams.organism"/>
        <column name="data_source_name"/>
        <column name="project_id"/>
        <sql>
          <![CDATA[
            SELECT ds.name as data_source_name, '@PROJECT_ID@' as project_id
            FROM   ApiDB.DataSource ds, ApiDB.DataSourceReference dsr
            WHERE dsr.type = 'record'
              AND dsr.name = $$record_class$$
              AND ds.name like  $$organism$$
              AND ds.data_source_id = dsr.data_source_id
          ]]>
       </sql>
    </sqlQuery>


  </querySet>
</wdkModel>

<wdkModel>
  <querySet name="OrganismIds" queryType="id" isCacheable="false" includeProjects="AmoebaDB,CryptoDB,GiardiaDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,ToxoDB,TriTrypDB,EuPathDB">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Get all organism attributes                                  -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <sqlQuery name="AllOrganisms" excludeProjects="EuPathDB" isCacheable="true">
        <column name="source_id"/>
        <column name="project_id"/>
        <column name="genome_source"/>
        <column name="strain"/>
        <column name="genus"/>
        <column name="species"/>
        <column name="organism"/>
        <column name="genecount"/>
        <column name="arraygenecount"/>
        <column name="isOrganellar"/>
        <column name="hasChipChip"/>
        <column name="hasRNASeq"/>
        <column name="hasSageTag"/>
        <column name="hasEST"/>
        <column name="hasSNP"/>
        <sql>
          <![CDATA[
SELECT oa.source_id, '@PROJECT_ID@' as project_id,
       oa.genome_source,
       oa.strain_abbrev as strain,
       regexp_substr(oa.organism_name, '\w{1,}') as genus,
       regexp_substr(oa.organism_name, '\s\w{1,}') as species,
       oa.isOrganellar as isOrganellar,
       oa.organism_name as organism,
       oa.genecount,
       oa.arraygenecount,
       oa.hasChipChip,
       oa.hasRNASeq,
       oa.hasSageTag,
       oa.hasEST,
       oa.hasSNP
FROM apidbtuning.organismattributes oa
            ]]>
         </sql>
    </sqlQuery>

    <processQuery name="AllOrganisms" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
      <wsColumn name="source_id" width="32" wsName="source_id"/>
      <wsColumn name="project_id" width="32" wsName="project_id"/>
      <wsColumn name="genome_source" width="32" wsName="genome_source"/>
      <wsColumn name="is_reference_strain" width="32" wsName="is_reference_strain"/>
    </processQuery>
    </querySet>

</wdkModel>

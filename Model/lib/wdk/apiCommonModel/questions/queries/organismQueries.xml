<wdkModel>
  <querySet name="OrganismIds" queryType="id" isCacheable="false" includeProjects="AmoebaDB,CryptoDB,GiardiaDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,ToxoDB,TriTrypDB,EuPathDB">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Get all organism attributes                                  -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <sqlQuery name="AllOrganisms" excludeProjects="EuPathDB" isCacheable="true">
        <column name="source_id"/>
        <column name="project_id"/>
        <column name="genome_source"/>
        <column name="strain"/>
        <column name="genus"/>
        <column name="species"/>
        <column name="organism"/>
        <column name="genecount"/>
        <column name="arraygenecount"/>
        <column name="isOrganellar"/>
        <column name="hasChipChip"/>
        <column name="hasRNASeq"/>
        <column name="hasSageTag"/>
        <column name="hasEST"/>
        <column name="hasSNP"/>
        <column name="ncbi_tax_id"/>
        <column name="megabps"/>
        <column name="hasIsolate"/>
        <column name="hasHTSIsolate"/>
        <column name="hasProteomics"/>
        <sql>
          <![CDATA[
SELECT oa.source_id, '@PROJECT_ID@' as project_id,
       oa.genome_source,
       oa.strain_abbrev as strain,
       regexp_substr(oa.organism_name, '\w{1,}') as genus,
       regexp_substr(oa.organism_name, '\s\w{1,}') as species,
       oa.isOrganellar as isOrganellar,
       oa.organism_name as organism,
       oa.genecount,
       oa.arraygenecount,
       oa.hasChipChip,
       oa.hasRNASeq,
       oa.hasSageTag,
       oa.hasEST,
       oa.hasSNP,
       oa.ncbi_tax_id,
       oa.megabps,
       oa.hasIsolate,
       oa.hasHTSIsolate,
       oa.hasProteomics
FROM apidbtuning.organismattributes oa
            ]]>
         </sql>
    </sqlQuery>

    <processQuery name="AllOrganisms" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
      <wsColumn name="source_id" width="32" wsName="source_id"/>
      <wsColumn name="project_id" width="32" wsName="project_id"/>
      <wsColumn name="genome_source" width="32" wsName="genome_source"/>
      <wsColumn name="strain" width="32" wsName="strain"/>
      <wsColumn name="genus" width="32" wsName="genus"/>
      <wsColumn name="species" width="32" wsName="species"/>
      <wsColumn name="organism" width="32" wsName="organism"/>
      <wsColumn name="genecount" width="32" wsName="genecount"/>
      <wsColumn name="arraygenecount" width="32" wsName="arraygenecount"/>
      <wsColumn name="isOrganellar" width="32" wsName="isOrganellar"/>
      <wsColumn name="hasChipChip" width="32" wsName="hasChipChip"/>
      <wsColumn name="hasRNASeq" width="32" wsName="hasRNASeq"/>
      <wsColumn name="hasSageTag" width="32" wsName="hasSageTag"/>
      <wsColumn name="hasEST" width="32" wsName="hasEST"/>
      <wsColumn name="hasSNP" width="32" wsName="hasSNP"/> 
      <wsColumn name="ncbi_tax_id" width="32" wsName="ncbi_tax_id"/> 
      <wsColumn name="megabps" width="32" wsName="megabps"/> 
      <wsColumn name="hasIsolate" width="32" wsName="hasIsolates"/> 
      <wsColumn name="hasHTSIsolate" width="32" wsName="hasHTSIsolates"/> 
      <wsColumn name="hasProteomics" width="32" wsName="hasProteomics"/> 
    </processQuery>
    </querySet>

</wdkModel>

<wdkModel>
  <querySet name="OrganismIds" queryType="id" isCacheable="false" includeProjects="AmoebaDB,CryptoDB,GiardiaDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,ToxoDB,TriTrypDB,EuPathDB">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Get all organism attributes                                  -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <sqlQuery name="AllOrganisms" excludeProjects="EuPathDB" isCacheable="true">
        <column name="source_id"/>
        <column name="project_id"/>
        <column name="genome_source"/>
        <column name="strain"/>
        <column name="genus"/>
        <column name="species"/>
        <column name="organism"/>
        <column name="genecount"/>
        <column name="arraygenecount"/>
        <column name="ncbi_tax_id"/>
        <column name="megabps"/>
        <column name="isOrganellar_flag"/>
        <column name="hasChipChip_flag"/>
        <column name="hasRNASeq_flag"/>
        <column name="hasSageTag_flag"/>
        <column name="hasEST_flag"/>
        <column name="hasSNP_flag"/>
        <column name="hasIsolate_flag"/>
        <column name="hasHTSIsolate_flag"/>
        <column name="hasProteomics_flag"/>
        <sql>
          <![CDATA[
SELECT oa.source_id, '@PROJECT_ID@' as project_id,
       oa.genome_source,
       oa.strain_abbrev as strain,
       regexp_substr(oa.organism_name, '\w{1,}') as genus,
       regexp_substr(oa.organism_name, '\s\w{1,}') as species,
       oa.organism_name as organism,
       oa.genecount,
       oa.arraygenecount,
       oa.ncbi_tax_id,
       oa.megabps, 
       decode(oa.isOrganellar, 0, 'none','inline') as isOrganellar_flag, 
       decode(oa.hasChipChip, 0, 'none','inline') as hasChipChip_flag,
       decode(oa.hasRNASeq, 0, 'none','inline') as hasRNASeq_flag,
       decode(oa.hasSageTag, 0, 'none','inline') as hasSageTag_flag,
       decode(oa.hasEST, 0, 'none','inline') as hasEST_flag,
       decode(oa.hasSNP, 0, 'none','inline') as hasSNP_flag,
       decode(oa.hasIsolate, 0, 'none','inline') as hasIsolate_flag,
       decode(oa.hasHTSIsolate, 0, 'none','inline') as hasHTSIsolate_flag,
       decode(oa.hasProteomics, 0, 'none','inline') as hasProteomics_flag
FROM apidbtuning.organismattributes oa
            ]]>
         </sql>
    </sqlQuery>

    <processQuery name="AllOrganisms" processName="org.apidb.apicomplexa.wsfplugin.apifed.ApiFedPlugin" includeProjects="EuPathDB">
      <wsColumn name="source_id" width="32" wsName="source_id"/>
      <wsColumn name="project_id" width="32" wsName="project_id"/>
      <wsColumn name="genome_source" width="32" wsName="genome_source"/>
      <wsColumn name="strain" width="32" wsName="strain"/>
      <wsColumn name="genus" width="32" wsName="genus"/>
      <wsColumn name="species" width="32" wsName="species"/>
      <wsColumn name="organism" width="32" wsName="organism"/>
      <wsColumn name="genecount" width="32" wsName="genecount"/>
      <wsColumn name="arraygenecount" width="32" wsName="arraygenecount"/>
      <wsColumn name="ncbi_tax_id" width="32" wsName="ncbi_tax_id"/> 
      <wsColumn name="megabps" width="32" wsName="megabps"/> 
      <wsColumn name="isOrganellar_flag" width="32" wsName="isOrganellar_flag"/>
      <wsColumn name="hasChipChip_flag" width="32" wsName="hasChipChip_flag"/>
      <wsColumn name="hasRNASeq_flag" width="32" wsName="hasRNASeq_flag"/>
      <wsColumn name="hasSageTag_flag" width="32" wsName="hasSageTag_flag"/>
      <wsColumn name="hasEST_flag" width="32" wsName="hasEST_flag"/>
      <wsColumn name="hasSNP_flag" width="32" wsName="hasSNP_flag"/> 
      <wsColumn name="hasIsolate_flag" width="32" wsName="hasIsolates_flag"/> 
      <wsColumn name="hasHTSIsolate_flag" width="32" wsName="hasHTSIsolates_flag"/> 
      <wsColumn name="hasProteomics_flag" width="32" wsName="hasProteomics_flag"/> 
    </processQuery>
    </querySet>

</wdkModel>

<wdkModel>

  <questionSet name="PathwayQuestions"
               displayName="Search for Pathways" includeProjects="PlasmoDB,EuPathDB">

    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- Id -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="PathwaysByPathwayID" 
              displayName="Pathway Name/ID"
              shortDisplayName="pathway-Id"
              queryRef="PathwayIds.PathwaysByPathwayID" 
              recordClassRef="PathwayRecordClasses.PathwayRecordClass"
              noSummaryOnSingleRecord="true">

             <attributesList 
               summary="description,ext_source"
             />
             <summary>
             Find Pathways by Pathway Name.
             </summary>

	     <description includeProjects="PlasmoDB">
	       <![CDATA[
             Find Pathways by Pathway Name.
	       ]]>
	     </description>
    </question>

    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- By Genes -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="PathwaysByGeneList" 
              displayName="Genes"
              shortDisplayName="by genes"
              queryRef="PathwayIds.PathwaysByGeneList" 
              recordClassRef="PathwayRecordClasses.PathwayRecordClass"
              noSummaryOnSingleRecord="true">

             <attributesList 
               summary="description,ext_source,genes"
               sorting="gene_count desc"
             />
             <summary>
             Find pathways by association to genes.
             </summary>

	     <description includeProjects="PlasmoDB">
	       <![CDATA[
             Find pathways by association to genes.
	       ]]>
	     </description>

            <dynamicAttributes>
              <columnAttribute name="genes" displayName="Associated Genes" align="center"/>
              <columnAttribute name="gene_count" internal="true"/>
            </dynamicAttributes>
    </question>


    <question name="PathwaysByCompounds" 
              displayName="Compounds"
              shortDisplayName="assc comp"
              queryRef="PathwayIds.PathwaysByCompounds" 
              recordClassRef="PathwayRecordClasses.PathwayRecordClass"
              noSummaryOnSingleRecord="true">

             <attributesList 
               summary="description,ext_source"
             />
             <summary>
             Find pathways by presence of compounds.
             </summary>

	     <description>
	       <![CDATA[
             Find pathways by association to compounds.
	       ]]>
	     </description>
    </question>

    <question name="PathwaysByWeightFilter"
              shortDisplayName="Weight"
              displayName="Filter by Weight"
              queryRef="PathwayIds.ByWeightFilter"
              recordClassRef="PathwayRecordClasses.PathwayRecordClass">
        <attributesList
           summary="wdk_weight"
        />
        <description>
           <![CDATA[
            Filter away results that have a weight outside the specified range.  
            (This transform is only useful if the input result sets have used weights)
          ]]>
        </description>
    </question>



    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- By Transform on Genes -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->

   <question name="PathwaysByGeneIds" 
              displayName="Transform to Pathways"
              shortDisplayName="genes->pathways"
              queryRef="PathwayIds.PathwaysByGeneIds" 
              recordClassRef="PathwayRecordClasses.PathwayRecordClass"
              noSummaryOnSingleRecord="true">

             <attributesList includeProjects="PlasmoDB" 
               summary="description,ext_source,gene_count,node_count,pathwayMap"
               sorting="gene_count desc"
             />
             <attributesList includeProjects="EuPathDB"
               summary="description,ext_source,gene_count,node_count"
               sorting="gene_count desc"
             />
             <summary>
             Find pathways by association to genes.
             </summary>

             <description includeProjects="PlasmoDB">
               <![CDATA[
             Find pathways by association to genes.
               ]]>
             </description>

            <dynamicAttributes>
              <columnAttribute name="genes" displayName="Genes Transformed"  internal="true" align="center"/>
              <columnAttribute name="gene_count" displayName="No. of Genes"  internal="true" align="center"/>
             <textAttribute name="pathwayMap" displayName="Map (Painted With Transformed Genes)" excludeProjects="EuPathDB"
                        inReportMaker="false" truncateTo="100000" sortable="false" align="center">
                <text>
                   <![CDATA[
                        <a href="#"
                        onClick="window.open('/plasmo.ganesh/pathway-dynamic-view.jsp?model=@PROJECT_ID@&pathway=$$source_id$$&geneList=$$genes$$','newwindow','toolbar=1,scrollbars=1,location=0,statusbar=1,menubar=0,resizable=1,width=1000,height=500,left=270,top=200')">
                        <img src='/cgi-bin/colorKEGGmap.pl?model=@PROJECT_ID@&pathway=$$source_id$$&geneList=$$genes$$'  height="25%" width="25%"/>
                        </a>
                    ]]>
                </text>
             </textAttribute>

            </dynamicAttributes>
    </question>
    
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->
    <!-- By Transform on Compounds -->
    <!--++++++++++++++++++++++++++++++++++++++++++++++++-->

   <question name="PathwaysByCompoundIds" 
              displayName="Transform to Pathways"
              shortDisplayName="cmpds->pthwys"
              queryRef="PathwayIds.PathwaysByCompoundIds" 
              recordClassRef="PathwayRecordClasses.PathwayRecordClass"
              noSummaryOnSingleRecord="true">

             <attributesList includeProjects="PlasmoDB" 
               summary="description,ext_source,compound_count,node_count,pathwayMap"
               sorting="compound_count desc"
             />
             <attributesList includeProjects="EuPathDB"
               summary="description,ext_source,compound_count,node_count"
               sorting="compound_count desc"
             />
             <summary>
             Find pathways by association to compounds.
             </summary>

             <description includeProjects="PlasmoDB">
               <![CDATA[
             Find pathways by association to compounds.
               ]]>
             </description>

            <dynamicAttributes>
              <columnAttribute name="compounds" displayName="Compounds Transformed"  internal="true" align="center"/>
              <columnAttribute name="compound_count" displayName="No. of Compounds" internal="true" align="center"/>
             <textAttribute name="pathwayMap" displayName="Map (Painted With Transformed Compounds)" excludeProjects="EuPathDB"
                        inReportMaker="false" truncateTo="100000" sortable="false" align="center">
                <text>
                   <![CDATA[
                        <a href="#"
                        onClick="window.open('/plasmo.ganesh/pathway-dynamic-view.jsp?model=@PROJECT_ID@&pathway=$$source_id$$','newwindow','toolbar=1,scrollbars=1,location=0,statusbar=1,menubar=0,resizable=1,width=1000,height=500,left=270,top=200')">
                        <img src='/cgi-bin/colorKEGGmap.pl?model=@PROJECT_ID@&pathway=$$source_id$$'  height="25%" width="25%"/>
                        </a>
                    ]]>
                </text>
             </textAttribute>

            </dynamicAttributes>
    </question>
    
  </questionSet>



</wdkModel>

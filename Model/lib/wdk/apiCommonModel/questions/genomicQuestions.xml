<wdkModel>

  <questionSet name="GenomicSequenceQuestions" displayName="Search for Genomic Sequences">

    <!-- ************************************************************ -->
    <!-- SourceId -->  
    <!-- ************************************************************ -->
    
    <question name="SequenceBySourceId"
      searchCategory="Other Attributes"
      displayName="Genomic Sequence ID(s)"
      shortDisplayName="Gen Seq IDs"
      queryRef="SequenceIds.SequenceBySourceId"
      recordClassRef="SequenceRecordClasses.SequenceRecordClass"
      noSummaryOnSingleRecord="true" excludeProjects="EuPathDB">
         
      <attributesList 
        summary="organism, input_id"
      />
      
      <summary>
        Find genomic sequences by ID.
      </summary>

      <description includeProjects="CryptoDB,GiardiaDB,TrichDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">
        Find genomic sequences (contigs) by ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semicolon, or any white spaces. 
      </description>
      <description includeProjects="ToxoDB">
        Find genomic sequences (chromosomes or scaffolds) by ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semicolon, or any white spaces. 
      </description>
      <description includeProjects="PlasmoDB">
        Find genomic sequences (chromosomes or contigs) by ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semicolon, or any white spaces. 
      </description>

      <dynamicAttributes>
	<columnAttribute name="input_id" displayName="Input ID" inReportMaker="true"/>
      </dynamicAttributes>

    </question>
    
    <question name="SequenceBySourceId"
      searchCategory="Other Attributes"
      displayName="Genomic Sequence ID"
      shortDisplayName="ID"
      queryRef="SequenceIds.SequenceBySourceId"
      recordClassRef="SequenceRecordClasses.SequenceRecordClass"
      noSummaryOnSingleRecord="false" includeProjects="EuPathDB">
         
      <attributesList excludeProjects="GiardiaDB" 
        summary="organism,formatted_length,chromosome"
      />
      
      <attributesList includeProjects="GiardiaDB" 
        summary="organism,formatted_length"
      />
      
      <summary>
        Find genomic sequences by ID.
      </summary>

      <description>
        Find genomic sequences (chromosomes or contigs) by ID. Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semicolon, or any white spaces. Also, the list may contain gene IDs from any of the EuPathDB organisms.  For example, a list can be in the
           following form: "TGME49_chrIa, Pf3D7_04_v3, AAEE01000006"
      </description>
    
    </question>
    
    
    <!-- ************************************************************ -->
    <!-- Species -->  
    <!-- ************************************************************ -->
    
    <question name="SequencesByTaxon"
      searchCategory=""
      displayName="Organism"
      shortDisplayName="Organism"
      queryRef="SequenceIds.SequencesByTaxon"
      recordClassRef="SequenceRecordClasses.SequenceRecordClass">
      
      <attributesList excludeProjects="EuPathDB,GiardiaDB" 
        summary="organism,formatted_length,chromosome"
        sorting="formatted_length desc"
      />
       <attributesList includeProjects="GiardiaDB" 
        summary="organism,formatted_length"
        sorting="organism asc,formatted_length desc"
      />
       <attributesList includeProjects="EuPathDB" 
        summary="organism,formatted_length,chromosome"
        sorting="organism asc,formatted_length desc"
      />
      
      <summary>
        Find genomic sequences of a species.
      </summary>

      <description includeProjects="CryptoDB,GiardiaDB,TrichDB,AmoebaDB,MicrosporidiaDB,FungiDB,HostDB,InitDB,PiroplasmaDB">
        Find genomic sequences (contigs) for one or more species.
      </description>
      <description includeProjects="PlasmoDB,ToxoDB,EuPathDB,TriTrypDB">
        Find genomic sequences (chromosomes or contigs) for one or more species.
      </description>



    </question>
    
    
    <!-- ************************************************************ -->
    <!-- Similarity -->  
    <!-- ************************************************************ -->
  
    <question name="SequencesBySimilarity"
      searchCategory="Similarity/Pattern"
      displayName="BLAST"
      shortDisplayName="BLAST"
      queryRef="SequenceIds.SequencesBySimilarity"
      recordClassRef="SequenceRecordClasses.SequenceRecordClass"
      customJavascript="blast.js"
      fullAnswer="true">
      
      <attributesList 
        summary="primary_key"
        sorting="Counter asc"
      />
      
      <summary>
        Find genomic sequences that have BLAST similarity to your input sequence.
      </summary>
      <description>
        <![CDATA[
        This query finds <b>contigs</b> with BLAST matches to an input sequence. 
        The <a href="http://blast.wustl.edu/" target="_blank">WU BLAST</a> program is used to 
        search against coding nucleotide (CDS) or  protein sequence from annotated gene models.
        ]]>
      </description>
     

         <summaryView name="blast-view" display="BLAST" default="true"
                      jsp="/wdkCustomization/jsp/results/blast-view.jsp" />

         <dynamicAttributes>
             <columnAttribute name="TabularRow" displayName="Blast summary"
                              inReportMaker="false"/>
             <columnAttribute name="Alignment" displayName="Blast alignment"
                              inReportMaker="false"/>
             <columnAttribute name="Header" displayName="Blast header"
                              inReportMaker="false"/>
             <columnAttribute name="Footer" displayName="Blast footer"
                              inReportMaker="false"/>
 <columnAttribute name="Counter" displayName=""
                              inReportMaker="false"/>
         </dynamicAttributes>

	 <propertyList name="websiteProperties">
            <value>hideTitle</value>
        </propertyList>

  
    </question>
    
  


     <question name="SequenceByWeightFilter"
              shortDisplayName="Weight"
              displayName="Filter by Weight"
              queryRef="SequenceIds.ByWeightFilter"
              recordClassRef="SequenceRecordClasses.SequenceRecordClass">
        <attributesList
           summary="wdk_weight"
        />
        <description>
           <![CDATA[
            Filter away results that have a weight outside the specified range.  
            (This transform is only useful if the input result sets have used weights)
          ]]>
        </description>
    </question>

  </questionSet>


  <!--===========================================================================-->
  <!--===========================================================================-->
  <!-- Gene Data Dump questions (internal)  -->
  <!--===========================================================================-->
  <!--===========================================================================-->

  <questionSet name="SequenceDumpQuestions" excludeProjects="EuPathDB"
             displayName="Genomic Sequence Data Dump Questions"
             internal="true">

  <!--===========================================================================-->
  <!-- question that retrieves all genomic sequences by organism  -->
  <!--===========================================================================-->
    <question name="SequenceDumpQuestion" excludeProjects="EuPathDB"
         displayName="Find Sequences to dump"
              shortDisplayName="Seq. to dump"
              queryRef="SequenceIds.SequenceDumpQuery"
              recordClassRef="SequenceRecordClasses.SequenceRecordClass">
        <description>Find all sequences to by organisms</description>
    </question>


  <!--===========================================================================-->
  <!-- question that retrieves all primary genomic sequences  by organism  -->
  <!--===========================================================================-->
    <question name="ExternalSequenceDumpQuery" excludeProjects="EuPathDB"
         displayName="Find Primary Sequences to dump"
              shortDisplayName="Primary Seq. to dump"
              queryRef="SequenceIds.ExternalSequenceDumpQuery"
              recordClassRef="SequenceRecordClasses.SequenceRecordClass">
        <description>Find all primary sequences to by organisms</description>
    </question>




  </questionSet>
</wdkModel>

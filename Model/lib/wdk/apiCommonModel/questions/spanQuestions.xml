<wdkModel>

  <!--===========================================================================-->
  <!-- Dynamic Span   ID questions (public)  -->
  <!--===========================================================================-->

  <questionSet name="SpanQuestions" displayName="Search for Genomic Segments">


  <!-- ************************************************************ -->
    <!-- SourceId                               -->  
    <!-- ************************************************************ -->
    <question name="DynSpansBySourceId" 
      displayName="Genomic Location" 
      shortDisplayName="Segment Loc" 
      queryRef="SpanId.DynSpansBySourceId" 
      recordClassRef="DynSpanRecordClasses.DynSpanRecordClass"  
      noSummaryOnSingleRecord="true"  excludeProjects="EuPathDB">
         
        <attributesList 
         summary="organism"
         sorting="organism asc"
        />

      
      <summary>
        Find genomic segments by genomic locations or segment ids.
      </summary>

      <description>
           Access your favorite genomic segments by ID. A genomic segment ID has the following structure: genomic_sequence_ID:start:end:f. 
	   For eample, a genomic segment in PlasmoDB would be: Pf3D7_04:10000:20000:f.  Either enter the ID list manually, 
           or upload a file that contains the list. IDs can be delimited by a comma, 
           a semi colon, or any white spaces. 
      </description>

    </question>



<!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Location -->  
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<!--
    <question name="DynSpansByLocation"
         displayName="Genomic Location"
         shortDisplayName="Genomic Loc"
         queryRef="SpanId.DynSpansByLocation"
         recordClassRef="DynSpanRecordClasses.DynSpanRecordClass"
         noSummaryOnSingleRecord="false"  excludeProjects="EuPathDB">

       <attributesList 
         summary="organism,geneCount,orfCount,snpCount,sagetagCount,estCount"
         sorting="organism asc"
        />

        <summary>
                 Enter a genomic sequence and coordinates to access a genomic segment.
        </summary>

        <description>
           <![CDATA[
                   Enter a genomic sequence and coordinates to access a genomic segment.
           ]]>
        </description>

 </question>
-->

 <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- DNA Motif search -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="DynSpansByMotifSearch"
         displayName="DNA Motif Pattern"
         shortDisplayName="DNA Motif"
         searchCategory="Similarity/Pattern"
         queryRef="SpanId.DynSpansByMotifSearch"
         recordClassRef="DynSpanRecordClasses.DynSpanRecordClass">

        <attributesList
         summary="organism,location_text,Sequence"
         sorting="organism asc,location_text asc"
        />


          <summary>
             <![CDATA[
              Find genomic segments whose DNA contains a motif pattern that you specify.
              ]]>
         </summary>
         <description>
           <![CDATA[
              Find genomic segments whose DNA contains a motif pattern that you specify.
              <br><br>
             Specify the pattern with a (Perl style) "regular expression".
             For a description of how to create regular expressions,
             please see the <a href="regexp.jsp">Regular Expression Tutorial</a>.
             <br><br>
             <p>Furthermore, we also support IUPAC symbols in the motif pattern:</p>

<TABLE CELLPADDING="3" CELLSPACING="0" BORDER="1"
       style="border: 1px solid #777777; margin: 0px auto 0px auto;">
  <TR>
    <TD COLSPAN="3" ALIGN="CENTER">
      <H4><FONT COLOR="#007300" SIZE="+1" FACE="Arial">IUPAC Nucleotide
      Symbols</FONT></H4>
    </TD>
  </TR>
  <TR>
    <TD>
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">A</FONT></B></CENTER></TD>
    <TD>
      <CENTER><FONT SIZE="+1">A</FONT></CENTER></TD>
    <TD><B><FONT COLOR="#0000ff" SIZE="+1">a</FONT></B><FONT
       SIZE="+1">denine</FONT></TD>
  </TR> 
  <TR>
    <TD>
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">C</FONT></B></CENTER></TD>
    <TD>
      <CENTER><FONT SIZE="+1">C</FONT></CENTER></TD>
    <TD><B><FONT COLOR="#0000ff" SIZE="+1">c</FONT></B><FONT
       SIZE="+1">ytosine</FONT></TD>
  </TR> 
  <TR>
    <TD>
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">G</FONT></B></CENTER></TD>
    <TD>
      <CENTER><FONT SIZE="+1">G</FONT></CENTER></TD>
    <TD><B><FONT COLOR="#0000ff" SIZE="+1">g</FONT></B><FONT
       SIZE="+1">uanine</FONT></TD>
  </TR> 
  <TR>
    <TD>
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">T</FONT></B></CENTER></TD>
    <TD>
      <CENTER><FONT SIZE="+1">T</FONT></CENTER></TD>
    <TD><B><FONT COLOR="#0000ff" SIZE="+1">t</FONT></B><FONT
       SIZE="+1">hymine</FONT></TD>
  </TR> 
  <TR>
    <TD>
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">U</FONT></B></CENTER></TD>
    <TD>
      <CENTER><FONT SIZE="+1">U</FONT></CENTER></TD>
    <TD><B><FONT COLOR="#0000ff" SIZE="+1">u</FONT></B><FONT
       SIZE="+1">racil</FONT></TD>
  </TR> 
  <TR>
    <TD></TD>
    <TD ></TD>
    <TD ></TD>
  </TR>
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">R</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or G</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">pu</FONT><B><FONT
       COLOR="#0000ff" SIZE="+1">r</FONT></B><FONT SIZE="+1">ine</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">Y</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">C or T (U)</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">p</FONT><B><FONT
       COLOR="#0000ff" SIZE="+1">y</FONT></B><FONT SIZE="+1">rimidine</FONT></TD>
  </TR> 
  <TR>
    <TD ></TD>
    <TD ></TD>
    <TD ></TD>
  </TR>
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">M</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or C</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">a</FONT><B><FONT
       COLOR="#0000ff" SIZE="+1">m</FONT></B><FONT SIZE="+1">ino</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">K</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">G or T (U)</FONT></CENTER></TD>
    <TD ><B><FONT COLOR="#0000ff" SIZE="+1">k</FONT></B><FONT
       SIZE="+1">eto</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">S</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">C or G</FONT></CENTER></TD>
    <TD ><B><FONT COLOR="#0000ff" SIZE="+1">s</FONT></B><FONT
       SIZE="+1">trong (3 H bonds)</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">W</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or T (U)</FONT></CENTER></TD>
    <TD ><B><FONT COLOR="#0000ff" SIZE="+1">w</FONT></B><FONT
       SIZE="+1">eak (2 H bonds)</FONT></TD>
  </TR> 
  <TR>
    <TD ></TD>
    <TD ></TD>
    <TD ></TD>
  </TR>
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">B</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">C or G or T (U)</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">not A</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">D</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or G or T (U)</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">not C</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">H</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or C or T (U)</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">not G</FONT></TD>
  </TR> 
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">V</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or C or G</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">not T (U)</FONT></TD>
  </TR> 
  <TR>
    <TD ></TD>
    <TD ></TD>
    <TD ></TD>
  </TR>
  <TR>
    <TD >
      <CENTER><B><FONT COLOR="#0000ff" SIZE="+1">N</FONT></B></CENTER></TD>
    <TD >
      <CENTER><FONT SIZE="+1">A or C or G or T (U)</FONT></CENTER></TD>
    <TD ><FONT SIZE="+1">a</FONT><B><FONT
       COLOR="#0000ff" SIZE="+1">n</FONT></B><FONT SIZE="+1">y nucleotide</FONT></TD>
  </TR> 
</TABLE>


             ]]>
         </description>

         <dynamicAttributes>
  <!--        <columnAttribute name="Locations" displayName="Match Locations" align="center"/>
           <columnAttribute name="MatchCount" displayName="Match Count" align="center"/>         -->
           <columnAttribute name="Sequence" displayName="Motif" inReportMaker="false" truncateTo="4000"/>
         </dynamicAttributes>
 
        <propertyList name="specificAttribution">
        </propertyList>
    </question>
    

 <!--===========================================================================-->
  <!-- SPAN LOGIC  (public)  -->
  <!--===========================================================================-->

 <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Genes   -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="GenesBySpanLogic"
              displayName="Genes by Relative Location"
              shortDisplayName="Genes by Rel Loc"
              queryRef="SpanId.RecordsBySpanLogic"
              recordClassRef="GeneRecordClasses.GeneRecordClass">
        <attributesList
              summary="organism,location_text,product,matched_count,feature_region,matched_regions"
              sorting="organism asc, location_text asc"
        /> 
        <summary>
         Filter genes with span logic operation against other results
        </summary>
        <description>
          <![CDATA[
                Filter genes with span logic operation against other results
          ]]>
        </description>

         <dynamicAttributes>
           <columnAttribute name="matched_count" displayName="Match Count" align="center"/>
           <columnAttribute name="feature_region" displayName="Region" align="center"/>
           <columnAttribute name="matched_regions" displayName="Matched Regions" truncateTo="4000"/>
         </dynamicAttributes>
    </question>
    

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- ORFs   -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="OrfsBySpanLogic"
              displayName="ORFs by Relative Location"
              shortDisplayName="ORFs by Rel Loc"
              queryRef="SpanId.RecordsBySpanLogic"
              recordClassRef="OrfRecordClasses.OrfRecordClass">
        <attributesList
               summary="formatted_organism,orf_location_text,length,matched_count,feature_region,matched_regions"
               sorting="formatted_organism asc, orf_location_text asc"
        /> 
        <summary>
         Filter ORFs with span logic operation against other results
        </summary>
        <description>
          <![CDATA[
                Filter ORFs with span logic operation against other results
          ]]>
        </description>

         <dynamicAttributes>
           <columnAttribute name="matched_count" displayName="Match Count" align="center"/>
           <columnAttribute name="feature_region" displayName="Region" align="center"/>
           <columnAttribute name="matched_regions" displayName="Matched Regions" truncateTo="4000"/>
         </dynamicAttributes>
    </question>



  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- Isolates   -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<!--
    <question name="IsolatesBySpanLogic"
              displayName="Isolates By Relatve Location"
              shortDisplayName="Isolates by Rel Loc"
              queryRef="SpanId.RecordsBySpanLogic"
              recordClassRef="IsolateRecordClasses.IsolateRecordClass"
              includeProjects="CryptoDB,PlasmoDB,ToxoDB,GiardiaDB,EuPathDB">
        <attributesList
               summary="organism, strain, country, data_type, product, length, specific_host,matched_count,feature_region,matched_regions"
        />
        <summary>
         Get isolates with span logic operation against other results
        </summary>
        <description>
          <![CDATA[
                Get isolates with span logic operation against other results
          ]]>
        </description>

         <dynamicAttributes>
           <columnAttribute name="matched_count" displayName="Match Count" align="center"/>
           <columnAttribute name="feature_region" displayName="Region" align="center"/>
           <columnAttribute name="matched_regions" displayName="Matched Regions" truncateTo="4000"/>
         </dynamicAttributes>
    </question>
-->

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- SNPs   -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="SnpsBySpanLogic"
              displayName="SNPs By Relative Location"
              shortDisplayName="SNPs by Rel Loc"
              queryRef="SpanId.RecordsBySpanLogic"
              recordClassRef="SnpRecordClasses.SnpRecordClass"
              includeProjects="PlasmoDB,ToxoDB,CryptoDB,EuPathDB">
        <attributesList
               summary="snp_location,linkedGeneId,position_in_protein,matched_count,feature_region,matched_regions"
               sorting="snp_location asc"
        />
        <summary>
         Get SNPs with span logic operation against other results
        </summary>
        <description>
          <![CDATA[
              Get SNPs with span logic operation against other results
          ]]>
        </description>

         <dynamicAttributes>
           <columnAttribute name="matched_count" displayName="Match Count" align="center"/>
           <columnAttribute name="feature_region" displayName="Region" align="center"/>
           <columnAttribute name="matched_regions" displayName="Matched Regions" truncateTo="4000"/>
         </dynamicAttributes>
    </question>

  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
  <!-- DynSpans   -->
  <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

    <question name="DynSpansBySpanLogic"
              displayName="Genomic Segments By Relative Location"
              shortDisplayName="Segm by Rel Loc"
              queryRef="SpanId.RecordsBySpanLogic"
              recordClassRef="DynSpanRecordClasses.DynSpanRecordClass">
        <attributesList
               summary="matched_count,feature_region,matched_regions"
               sorting="feature_region asc"
        />
        <summary>
         Get Genomic Segments with span logic operation against other results
        </summary>
        <description>
          <![CDATA[
              Get Genomic Segments with span logic operation against other results
          ]]>
        </description>

         <dynamicAttributes>
           <columnAttribute name="matched_count" displayName="Match Count" align="center"/>
           <columnAttribute name="feature_region" displayName="Region" align="center"/>
           <columnAttribute name="matched_regions" displayName="Matched Regions" truncateTo="4000"/>
         </dynamicAttributes>
    </question>
    
    
    <question name="DynSpansByWeightFilter"
              shortDisplayName="Weight"
              displayName="Filter by Weight"
              queryRef="SpanId.ByWeightFilter"
              recordClassRef="DynSpanRecordClasses.DynSpanRecordClass">
        <attributesList
           summary="wdk_weight"
        />
        <description>
           <![CDATA[
            Filter away results that have a weight outside the specified range.  
            (This transform is only useful if the input result sets have used weights)
          ]]>
        </description>
    </question>



    <question name="DynSpansByEQTLtoGenes" includeProjects="PlasmoDB,EuPathDB"
         displayName="P.f. eQTL Hb3-Dd2 cross (Segments that are eQTL to genes)"
         shortDisplayName="P.f. eQTL spans"
         queryRef="SpanId.SpansByeQTLtoGenes"
         recordClassRef="DynSpanRecordClasses.DynSpanRecordClass">


      <attributesList includeProjects="PlasmoDB"
              summary="organism,location_text,lod_score"
              sorting="lod_score asc,organism asc, location_text asc"
        />
        <attributesList includeProjects="EuPathDB"
              summary="organism,location_text,lod_score"
              sorting="lod_score asc, organism asc, location_text asc"
        />


        <summary>
           <![CDATA[
            Find genomic segments that have associations with the entered gene based on eQTL experiments on HB3, DD2 and progeny.
          ]]>
        </summary>

        <description>
           <![CDATA[
            Find genomic segments that have associations with the entered gene based on eQTL experiments on HB3, DD2 and progeny.
          ]]>
       </description>

        <dynamicAttributes>
           <columnAttribute name="lod_score" displayName="LOD Score" align="center"/>
        </dynamicAttributes>

         <propertyList name="specificAttribution">
           <value></value>
         </propertyList>
    </question>



</questionSet>

</wdkModel>




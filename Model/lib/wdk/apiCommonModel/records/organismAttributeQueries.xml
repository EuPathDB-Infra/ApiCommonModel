<wdkModel>
    <querySet name="OrganismAttributes" queryType="attribute" isCacheable="false" includeProjects="AmoebaDB,CryptoDB,GiardiaDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,ToxoDB,TriTrypDB,EuPathDB">

       <sqlQuery name="organismAttrs">
          <column name="project_id" ignoreCase="true"/>
          <column name="source_id" ignoreCase="true"/> 
          <column name="data_source" ignoreCase="true"/>
          <column name="database_version" ignoreCase="true"/>
          <column name="genus" ignoreCase="true"/>
          <column name="species" ignoreCase="true"/>
          <column name="strain" ignoreCase="true"/>
          <column name="megabps" ignoreCase="true"/>
          <column name="genecount" ignoreCase="true"/>
          <column name="pseudogenecount" ignoreCase="true"/>
          <column name="codinggenecount" ignoreCase="true"/>
          <column name="othergenecount" ignoreCase="true"/>
          <column name="arraygenecount" ignoreCase="true"/>
          <column name="ecnumbercount" ignoreCase="true"/>
          <column name="sagetagcount" ignoreCase="true"/>
          <column name="rnaseqcount" ignoreCase="true"/>
          <column name="snpcount" ignoreCase="true"/>
          <column name="estcount" ignoreCase="true"/>
          <column name="chipchipgenecount" ignoreCase="true"/>
          <column name="rtpcrcount" ignoreCase="true"/>
          <column name="orthologcount" ignoreCase="true"/>
          <column name="tfbscount" ignoreCase="true"/>
          <column name="gocount" ignoreCase="true"/>
          <column name="proteomicscount" ignoreCase="true"/>
          <column name="communitycount" ignoreCase="true"/>
          <column name="organism_name" ignoreCase="true"/>
          <sql>
            SELECT source_id,
                   project_id,
									 regexp_substr(oa.organism_name, '\w{1,}') as genus,
									 regexp_substr(oa.organism_name, '\s\w{1,}') as species,
                   organism_name,
									 oa.megabps,
                   genome_source as data_source,
                   database_version,
                   oa.strain_abbrev as strain,
									 decode(oa.genecount, 0, null, oa.genecount) as genecount, 
                   oa.pseudogenecount,
                   oa.codinggenecount,
                   oa.othergenecount,
									 decode(oa.arraygenecount, 0, null, oa.arraygenecount) as arraygenecount, 
                   oa.ecnumbercount,
                   oa.sagetagcount,
                   oa.rnaseqcount,
									 oa.snpcount,
                   oa.chipchipgenecount,
                   oa.rtpcrcount,
									 oa.estcount,
                   oa.orthologcount,
                   oa.gocount,
                   oa.tfbscount,
									 oa.proteomicscount,
                   oa.communitycount

            FROM   apidbtuning.organismAttributes oa 
          </sql>
      </sqlQuery>

    </querySet>
</wdkModel>

<wdkModel>
  <recordClassSet name="CompoundRecordClasses" includeProjects="PlasmoDB,EuPathDB">

    <recordClass name="CompoundRecordClass" type="Compound" displayName="Compound" shortDisplayName="Compound"
		 attributeOrdering="overview" doNotTest="true">

      <!-- primary key definition -->
      <primaryKeyAttribute name="primary_key"
			   displayName="PubChem Compound ID">
	<columnRef>source_id</columnRef>
	<columnRef>project_id</columnRef>
	<text>
	  <![CDATA[
		   $$source_id$$
	  ]]>
	</text>                
      </primaryKeyAttribute>


      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- BFMV attributes -->  
      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

      <attributeQueryRef ref="CompoundAttributes.Bfmv">
	<columnAttribute name="project_id" internal="true" inReportMaker="false"/>
	<columnAttribute name="source_id" internal="true" inReportMaker="false"/>
	<columnAttribute name="compound_id" displayName="Compound ID" />
	<columnAttribute name="substance_id"  displayName="PubChem Substance ID(s)"/>
	<columnAttribute name="mol_wt" displayName="Molecular Weight"/>
	<columnAttribute name="formula" displayName="Formula" />

      </attributeQueryRef>

      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- overview -->  
      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <textAttribute name="overview" displayName="Overview"
		     inReportMaker="false" internal="true">
	<text>
	  <![CDATA[ 
             <table>
	     <tr><td><b>PubChem Compound ID:</b></td>
	     <td><a href="http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?cid=$$compound_id$$">$$source_id$$</a></td></tr>
	     <tr><td><b>PubChem Substance ID(s):</b></td>
             <td>$$substance_id$$</td>
	     <tr><td><b>Synonyms:</b></td> <td>$$synonyms$$</td></tr>
	     <tr><td><b>Molecular Weight:</b></td> <td>$$mol_wt$$</td></tr>
	     <tr><td><b>Molecular Formula:</b></td> <td>$$formula$$</td></tr>
	     </table>
	  ]]>
	</text>
      </textAttribute>


      <!-- =================================================================== -->
      <!-- Compound Attributes -->
      <!-- =================================================================== -->

      <attributeQueryRef ref="CompoundAttributes.Synonyms" >
	<columnAttribute name="synonyms" displayName="Synonyms" internal="true" inReportMaker="false" />
			 
      </attributeQueryRef>   

      <!-- =================================================================== -->
      <!-- Compound Tables -->
      <!-- =================================================================== -->

      <table name="Properties" displayName="Compound Properties"
	     queryRef="CompoundTables.Properties">
	<columnAttribute name="property" displayName="Property "/>
	<columnAttribute name="type" displayName="Type" />
	<columnAttribute name="value" displayName="Value" />
      </table>


      <table name="SubstanceProps" displayName="Substance Properties"
	     queryRef="CompoundTables.SubstanceProps">
	<columnAttribute name="substance_id"  internal="true" inReportMaker="false" />
	<linkAttribute name="substance_link" displayName="Substance ID" inReportMaker="false">
	  <displayText>
	    <![CDATA[
		     $$substance_id$$
	    ]]>
	  </displayText>
	  <url>
	    <![CDATA[
		     http://pubchem.ncbi.nlm.nih.gov/summary/summary.cgi?sid=$$substance_id$$
	    ]]>
	  </url>
	</linkAttribute>
	<columnAttribute name="property" displayName="Property "/>
	<columnAttribute name="value" displayName="Value" />
      </table>

      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- Compounds and Enzymes from Metabolic Pathways table          -->
      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

      <table name="CompoundsMetabolicPathways"
	     displayName="Compounds Associated via Metabolic Pathways"
	     queryRef="CompoundTables.CompoundsFromMetabolicPathways">

	<columnAttribute displayName="Gene ID" name="gene_id" internal="true"/>
	<linkAttribute name="gene_link" displayName="Gene ID" inReportMaker="false">
	  <displayText>
	    <![CDATA[
		     $$gene_id$$
	    ]]>
	  </displayText>
	  <url>
	    <![CDATA[
		     http://@PROJECT_ID@.org/gene/$$gene_id$$
	    ]]>
	  </url>
	</linkAttribute>

	<columnAttribute displayName="Compound" name="compound"/>
	<columnAttribute displayName="EC Number" name="enzyme" internal="true"/>
	<linkAttribute name="enzyme_link" displayName="EC Number" inReportMaker="false">
	  <displayText>
	    <![CDATA[
		     $$enzyme$$
	    ]]>
	  </displayText>
	  <url>
	    <![CDATA[
		processQuestion.do?questionFullName=GeneQuestions.InternalGenesByEcNumber&array%28organism%29=all&array%28ec_number_pattern%29=$$enzyme$$&questionSubmit=Get+Answer
	    ]]>
	  </url>
	</linkAttribute>


	<columnAttribute displayName="Reaction" name="reaction" inReportMaker="true" internal="true"/>
	<columnAttribute displayName="Pathway" name="pathway" inReportMaker="true" internal="true"/>
	<columnAttribute displayName="Name" name="name" inReportMaker="false" internal="true"/>

	<linkAttribute name="reaction_link" displayName="Reaction" inReportMaker="false">
	  <displayText>
	    <![CDATA[
		     $$reaction$$
	    ]]>
	  </displayText>
	  <url>
	    <![CDATA[
		     http://www.genome.jp/dbget-bin/www_bget?$$reaction$$
	    ]]>
	  </url>
	</linkAttribute>
	<linkAttribute name="pathway_link" displayName="Pathway" inReportMaker="false">
	  <displayText>
	    <![CDATA[
		     $$pathway$$
	    ]]>
	  </displayText>
	  <url>
	    <![CDATA[
		     http://www.genome.jp/dbget-bin/www_bget?$$name$$ 
	    ]]>
	  </url>
	</linkAttribute>
      </table>

      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- Related Compounds          -->  
      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

      <table name="RelatedCompounds" displayName="Related Compounds"
	     queryRef="CompoundTables.RelatedCompounds">
	<columnAttribute name="related_id" displayName="Compound" />
	<columnAttribute name="type" displayName="Type" />
	<columnAttribute name="subst_id" displayName="Substance ID "/>
      </table>


      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
      <!-- Mass Spec (Metabolite)  Graphs -->  
      <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

      <table name="MassSpecGraphs"
	     displayName="Internal Mass Spec Graphs"
	     includeProjects="PlasmoDB"
	     queryRef="CompoundTables.MassSpecGraphs" inReportMaker="false">
	<columnAttribute displayName="source_id" name="source_id"/>
	<columnAttribute displayName="project_id" name="project_id"/>
	<columnAttribute displayName="graph_ids" name="graph_ids"/>
	<columnAttribute displayName="module" name="module"/>
	<columnAttribute displayName="mainOpen" name="mainOpen"/>
	<columnAttribute displayName="dataOpen" name="dataOpen"/>
	<columnAttribute displayName="display_name" name="display_name"/>
	<columnAttribute displayName="description" name="description"/>
	<columnAttribute displayName="x_axis" name="x_axis"/>
	<columnAttribute displayName="y_axis" name="y_axis"/>
	<columnAttribute displayName="visible_parts" name="visible_parts"/>
	<columnAttribute displayName="attribution" name="attribution"/>
	<columnAttribute displayName="dataTable" name="dataTable"/>
	<columnAttribute displayName="has_graph_data" name="has_graph_data"/>
	<columnAttribute displayName="profile_name" name="profile_name"/>
	<columnAttribute displayName="species" name="species"/>
	<columnAttribute displayName="graph_species" name="graph_species"/>
	<propertyList name="excludeFromDumper"><value>true</value></propertyList>
      </table>

    </recordClass>
  </recordClassSet>
</wdkModel>

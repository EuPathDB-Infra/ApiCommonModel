<wdkModel>

    <recordClassSet name="DynSpanRecordClasses">

        <recordClass name="DynSpanRecordClass" type="Dynamic Span" displayName="Dynamic Span" shortDisplayName="DynSpan"
          attributeOrdering="overview">

            <!-- primary key definition -->
            <primaryKeyAttribute name="primary_key"
                                 displayName="DynSpan ID">
                <columnRef>source_id</columnRef>
                <columnRef>project_id</columnRef>
                <text>
                    <![CDATA[
                      $$source_id$$
                    ]]>
                </text>                
            </primaryKeyAttribute>

      <!-- =============================================================== -->
      <!--   Reporters -->  
      <!-- =============================================================== -->
<!--
          <reporter name="tabular" displayName="Summary - Tab delimited"
                    implementation="org.gusdb.wdk.model.report.TabularReporter"/>
          <reporter name="fullRecord" displayName="Detailed" excludeProjects="EuPathDB" 
                    implementation="org.gusdb.wdk.model.report.FullRecordReporter"/>
          <reporter name="xml" displayName="Detailed - XML" 
                    implementation="org.gusdb.wdk.model.report.XMLReporter" />
          <reporter name="json" displayName="Detailed - json" 
                    implementation="org.gusdb.wdk.model.report.JSONReporter" />
          <reporter name="srt" displayName="FASTA"
                    implementation=""/>
-->
  

       <!-- =================================================================== -->
       <!--  Attributes  ++++++++-->
       <!-- =================================================================== -->

          <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
          <!-- BFMV attributes -->  
          <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <attributeQueryRef ref="DynSpanAttributes.Bfmv">
            <columnAttribute name="seq_source_id"      displayName="Genomic Sequence"/>
            <columnAttribute name="start_min"      displayName="Start"/>
            <columnAttribute name="end_max"      displayName="End"/>
            <columnAttribute name="strand"      displayName="Strand"/>
            <columnAttribute name="length"      displayName="Length"/>
            <columnAttribute name="organism"    displayName="Organism" />

        </attributeQueryRef>


        <attributeQueryRef ref="DynSpanAttributes.GeneCount">
            <columnAttribute name="geneCount"      displayName="Gene Count"/>
        </attributeQueryRef>

 
      <!-- =================================================================== -->
      <!--  Link Attributes  ++++++++-->
      <!-- =================================================================== -->


      <!-- =================================================================== -->
      <!--  Text Attributes  ++++++++-->
      <!-- =================================================================== -->

        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- overview -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <textAttribute name="overview" displayName="Overview"
                         inReportMaker="false" internal="true">
           <text>
              <![CDATA[ 
                  <table>
                    <tr><td width="30"><b>Organism:</b></td><td>$$organism$$</td></tr>
                    <tr><td width="30"><b>Sequence:</b></td><td>$$seq_source_id$$</td></tr>
                    <tr><td width="30"><b>Begin:</b></td><td>$$start_min$$ </td></tr>
                    <tr><td width="30"><b>End:</b></td><td>$$end_max$$ </td></tr>
                    <tr><td width="30"><b>Length:</b></td><td>$$length$$</td></tr>
                    <tr><td width="30"><b>Strand:</b></td><td>$$strand$$</td></tr>

                 </table>

              ]]>
           </text>

         </textAttribute>

 


        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- Other info -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <textAttribute name="otherInfo" includeProjects="ToxoDB,PlasmoDB,GiardiaDB,TrichDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,InitDB"
            displayName="Retrieve Sequence" inReportMaker="false" truncateTo='1500'>
           <text excludeProjects="ToxoDB">
                <![CDATA[
                    <!-- a href="@GENE_BY_CONTIG_URL@">Lookup Genes on this Contig</a><br -->
                    <form action="/cgi-bin/contigSrt" method="get">
                    <table border="0" cellpadding="5" cellspacing="1">
                      <tr class="secondary3"><td>
                        <table border="0" cellpadding="0">
                        <!-- tr><td colspan="2"><h3>Retrieve this sequence</h3></td></tr -->
                        <tr><td colspan="2"><b>Nucleotide positions:</b>&nbsp;&nbsp;
                                <input name='project_id' value=@PROJECT_ID@ size='20' type='hidden' />
                                <input name='ids' value='$$seq_source_id$$' size='20' type='hidden' />
                                <input type="text" name="start" value='$$start_min$$' maxlength="7" size="8"/>
                             to <input type="text" name="end" value='$$end_max$$' maxlength="7" size="8"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;<br>
                        <input type="checkbox" name="revComp">Reverse & Complement</td></tr>
                           <tr><td align="left"><input type="submit" name='go' value='Get Sequence' /></td></tr>
                    </table>
                    </td></tr></table>
                    </form>
                ]]>
           </text>
           <text includeProjects="ToxoDB">
                <![CDATA[
                    <!-- a href="@GENE_BY_CONTIG_URL@">Lookup Genes on this Contig</a><br -->
                    <form action="/cgi-bin/contigSrt" method="get">
                    <table border="0" cellpadding="5" cellspacing="1">
                      <tr class="secondary3"><td>
                        <table border="0" cellpadding="0">
                        <tr><td colspan="2"><b>Nucleotide positions:</b>&nbsp;&nbsp;
                                <input name='project_id' value=@PROJECT_ID@ size='20' type='hidden' />
                                <input name='ids' value='$$source_id$$' size='20' type='hidden' />
                                <input type="text" name="start" value="1" maxlength="7" size="8"/>
                             to <input type="text" name="end" value="$$length$$" maxlength="7" size="8"/>
                        &nbsp;&nbsp;&nbsp;&nbsp;<br>
                       <input type="checkbox" name="revComp">Reverse & Complement</td></tr>
                           <tr><td align="left"><input type="submit" name='go' value='Get Sequence' /></td></tr>
                    </table>
                    </td></tr></table>
                    </form>
                ]]>
           </text>
        </textAttribute>


      <!-- =================================================================== -->
      <!-- Tables ++++++++-->
      <!-- =================================================================== -->


         <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- genes -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="Genes"
               displayName="Genes"
               queryRef="DynSpanTables.Genes">
            <columnAttribute name="gene_source_id" displayName="Gene ID"/>
            <columnAttribute name="start_min" displayName="Start"/>
            <columnAttribute name="end_max" displayName="End"/>  
            <columnAttribute name="strand" displayName="Strand"/>
            <columnAttribute name="product" displayName="Product Description"/>
        </table>


         <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- ORFs -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="Orfs"
               displayName="ORFs"
               queryRef="DynSpanTables.Orfs">
            <columnAttribute name="orf_source_id" displayName="ORF ID"/>
            <columnAttribute name="start_min" displayName="Start"/>
            <columnAttribute name="end_max" displayName="End"/>  
             <columnAttribute name="is_reversed" displayName="Is reversed?"/>

        </table>



        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
        <!-- sage tags -->  
        <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

        <table name="SageTags"
               displayName="Sage Tags"
               queryRef="DynSpanTables.SageTags">
            <columnAttribute name="stag_source_id" displayName="Sage Tag ID"/>
            <columnAttribute name="start_min" displayName="Start"/>
            <columnAttribute name="end_max" displayName="End"/>  
            <columnAttribute name="is_reversed" displayName="Is reversed?"/>
            <columnAttribute name="sequence" displayName="Sequence"/>
            <columnAttribute name="gene_count" displayName="Gene Count"/>
    <!--        <columnAttribute name="gene_source_id" displayName="Gene ID(s)"/>
            <columnAttribute name="gene_product" displayName="Gene Product Description(s)"/> -->
        </table>
  

       </recordClass>
    </recordClassSet>
</wdkModel>

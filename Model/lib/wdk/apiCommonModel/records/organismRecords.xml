<wdkModel>
  <recordClassSet name="OrganismRecordClasses" includeProjects="AmoebaDB,CryptoDB,GiardiaDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,ToxoDB,TriTrypDB,EuPathDB">

     <recordClass name="OrganismRecordClass" displayName="Organism"> 

        <!-- primary key definition -->
        <primaryKeyAttribute name="primary_key" displayName="Organism">
           <columnRef>source_id</columnRef>
           <columnRef>project_id</columnRef>
           <text>
             <![CDATA[
                $$source_id$$
             ]]>
            </text>
          </primaryKeyAttribute>

     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <!-- Reporter                                                     -->
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <reporter name="xml"  displayName="XML: choose from columns and/or tables" 
               implementation="org.gusdb.wdk.model.report.XMLReporter">
     </reporter>


         <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
         <!-- overview -->
         <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
          <textAttribute name="overview" displayName="Overview"
                          inReportMaker="false" internal="true">
            <text>
               <![CDATA[
                   Organism: $$organism$$<br />
                   Data Source: $$data_source$$<br />
                   Version: $$database_version$$<br />
                   Megabase Pairs: $$megabps$$ <br /> <br />
               ]]>
            </text>
          </textAttribute>

     <attributeQueryRef ref="OrganismAttributes.organismAttrs">
        <columnAttribute name="project_id" displayName="Project" internal="false" inReportMaker="true"/>
        <columnAttribute name="data_source" displayName="Data Source" internal="false" inReportMaker="true"/>
        <columnAttribute name="database_version" displayName="Genome Version" internal="false" inReportMaker="true"/>
        <columnAttribute name="genus" displayName="Genus" internal="false" inReportMaker="true"/>
        <columnAttribute name="species" displayName="Species" internal="false" inReportMaker="true"/>
        <columnAttribute name="strain" displayName="Strain" internal="false" inReportMaker="true"/>

        <columnAttribute name="megabps" displayName="Megabase Pairs" internal="false" inReportMaker="true"/>

        <columnAttribute name="ncbi_tax_id" internal="true"/>
        <linkAttribute name="ncbi_taxon" displayName="Taxon ID" align="center">
          <displayText>
            <![CDATA[
              $$ncbi_tax_id$$
            ]]>
          </displayText>
          <url>
            <![CDATA[
             http://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=$$ncbi_tax_id$$
            ]]>
          </url>
         </linkAttribute>

        <columnAttribute name="genecount" displayName="Total Gene Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="codinggenecount" displayName="Protein Coding Gene Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="pseudogenecount" displayName="Pseudo Gene Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="othergenecount" displayName="Other Gene Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="ecnumbercount" displayName="EC Number Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="gocount" displayName="GO Terms Count" internal="false" inReportMaker="true"/>

        <columnAttribute name="sagetagcount" displayName="Sage Tag Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="rnaseqcount" displayName="RNASeq Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="chipchipgenecount" displayName="ChIP-chip Gene Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="rtpcrcount" displayName="RT-PCR Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="estcount" displayName="ESTs" internal="false" inReportMaker="true"/>
        <columnAttribute name="snpcount" displayName="SNPs" internal="false" inReportMaker="true"/>
        <columnAttribute name="orthologcount" displayName="Ortholog Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="arraygenecount" displayName="Genes w/Microarrays" internal="false" inReportMaker="true"/>
        <columnAttribute name="proteomicscount" displayName="Proteomics" internal="false" inReportMaker="true"/>
        <columnAttribute name="tfbscount" displayName="TF Binding Site Count" internal="false" inReportMaker="true"/>
        <columnAttribute name="communitycount" displayName="Community Entries" internal="false" inReportMaker="true"/>

        <columnAttribute name="organism_name" displayName="Organism (Internal)" internal="true" inReportMaker="false"/>
        <textAttribute name="organism" displayName="Organism" internal="false" inReportMaker="true" 
                                       help="The biological sample used to sequence this genome"> 
             <display><![CDATA[ <i>$$organism_name$$</i>  ]]></display>
             <text><![CDATA[ $$organism_name$$  ]]></text>
        </textAttribute>
        <columnAttribute name="isOrganellar_flag" internal="true"/>
        <linkAttribute name="isOrganellar" displayName="Organellar" align="center">
          <displayText>
            <![CDATA[
             <img width="8" border="0" alt="$$isOrganellar_flag$$" src="/assets/images/reddot.gif" style="display:$$isOrganellar_    flag$$"/>
            ]]>
          </displayText>
          <url>
            <![CDATA[
            getDataset.do?display=detail#Genomes and Annotation:Organellar
            ]]>
          </url>
         </linkAttribute>

         <columnAttribute name="hasChipChip_flag" internal="true"/>
         <linkAttribute name="hasChipChip" displayName="ChIP-chips" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasChipChip_flag$$" src="/assets/images/reddot.gif" style="display:$$hasChipChip_flag$    $"/>
             ]]>
           </displayText>
           <url>
             <![CDATA[
             getDataset.do?display=detail#Transcript Expression
             ]]>
           </url>
          </linkAttribute>

         <columnAttribute name="hasRNASeq_flag" internal="true"/>
         <linkAttribute name="hasRNASeq" displayName="RNA-Seq" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasRNASeq_flag$$" src="/assets/images/reddot.gif" style="display:$$hasRNASeq_flag$$"/>
             ]]>
           </displayText>
           <url>
             <![CDATA[
             getDataset.do?display=detail#Transcript Expression
             ]]>
           </url>
          </linkAttribute>

         <columnAttribute name="hasSageTag_flag" internal="true"/>
         <linkAttribute name="hasSageTag" displayName="Sage Tags" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasSageTag_flag$$" src="/assets/images/reddot.gif" style="display:$$hasSageTag_flag$$"    />
             ]]>
           </displayText>
           <url>
             <![CDATA[
             getDataset.do?display=detail#Transcript Expression
             ]]>
           </url>
          </linkAttribute>

         <columnAttribute name="hasEST_flag" internal="true"/>
         <linkAttribute name="hasEST" displayName="ESTs" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasEST_flag$$" src="/assets/images/reddot.gif" style="display:$$hasEST_flag$$"/>
             ]]>
           </displayText>
           <url>
             <![CDATA[
             getDataset.do?display=detail#Transcript Expression
             ]]>
           </url>
          </linkAttribute>

         <columnAttribute name="hasSNP_flag" internal="true"/>
         <linkAttribute name="hasSNP" displayName="SNPs" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasSNP_flag$$" src="/assets/images/reddot.gif" style="display:$$hasSNP_flag$$"/>
             ]]>
           </displayText>
           <url>
             <![CDATA[
             getDataset.do?display=detail#Population Biology
             ]]>
           </url>
          </linkAttribute>

         <columnAttribute name="hasProteomics_flag" internal="true"/>
         <linkAttribute name="hasProteomics" displayName="Proteomic" align="center">
           <displayText>
             <![CDATA[
              <img width="8" border="0" alt="$$hasProteomics_flag$$" src="/assets/images/reddot.gif" style="display:$$hasProteomics_f    lag$$"/>
             ]]>
           </displayText>
           <url>
              <![CDATA[
              getDataset.do?display=detail#Protein Expression
              ]]>
            </url>
           </linkAttribute>
 
          <columnAttribute name="hasIsolate_flag" internal="true"/>
          <linkAttribute name="hasIsolate" displayName="Isolates" align="center">
            <displayText>
              <![CDATA[
               <img width="8" border="0" alt="$$hasIsolate_flag$$" src="/assets/images/reddot.gif" style="display:$$hasIsolate_flag$$"    />
              ]]>
            </displayText>
            <url>
              <![CDATA[
              getDataset.do?display=detail#Population Biology
              ]]>
            </url>
           </linkAttribute>
 
          <columnAttribute name="hasHTSIsolate_flag" internal="true"/>
          <linkAttribute name="hasHTSIsolate" displayName="HTS Isolates" align="center">
            <displayText>
              <![CDATA[
               <img width="8" border="0" alt="$$hasHTSIsolate_flag$$" src="/assets/images/reddot.gif" style="display:$$hasHTSIsolate_f    lag$$"/>
              ]]>
            </displayText>
            <url>
              <![CDATA[
              getDataset.do?display=detail#Population Biology
              ]]>
            </url>
           </linkAttribute> 

     </attributeQueryRef>
     
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
     <!-- organsim metrics -->
     <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

     <table name="SequenceCounts" 
            displayName="Sequence Types"
            queryRef="OrganismTables.SequenceCounts">
        <columnAttribute name="source_id" internal="true"/>
        <columnAttribute  name="project_id" internal="true"/>
        <columnAttribute  name="sequence_type" displayName="Sequence Type"/>
        <columnAttribute  name="sequence_count" displayName="Count"/>
     </table>


     <table name="GeneCounts" 
            displayName="Gene Types"
            queryRef="OrganismTables.GeneCounts">
        <columnAttribute name="source_id" internal="true"/>
        <columnAttribute  name="project_id" internal="true"/>
        <columnAttribute  name="gene_type" displayName="Gene Type"/>
        <columnAttribute  name="pseudo" displayName="Pseudo Gene"/>
        <columnAttribute  name="gene_count" displayName="Count"/>
     </table>

     </recordClass>
  </recordClassSet>
</wdkModel>

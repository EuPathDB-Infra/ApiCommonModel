<wdkModel>
    <recordClassSet name="OrfRecordClasses" excludeProjects="HostDB">

        <recordClass name="OrfRecordClass" displayName="ORF">

      <testParamValues includeProjects="PlasmoDB">
         <paramValue name="source_id">Pf3D7_08_v3-5-1196699-1193850</paramValue>
         <paramValue name="project_id">PlasmoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="ToxoDB">
         <paramValue name="source_id">tgme49_asmbl.1910-2-1563158-1563775</paramValue>
         <paramValue name="project_id">ToxoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="CryptoDB">
         <paramValue name="source_id">AAEE01000015-4-52922-52668</paramValue>
         <paramValue name="project_id">CryptoDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="GiardiaDB">
         <paramValue name="source_id">AACB02000007-2-49229-49390</paramValue>
         <paramValue name="project_id">GiardiaDB</paramValue>
      </testParamValues>

      <testParamValues includeProjects="TrichDB">
         <paramValue name="source_id">DS164731-2-86-799</paramValue>
         <paramValue name="project_id">TrichDB</paramValue>
      </testParamValues>
      <!-- TODO revisit source ID-->
      <testParamValues includeProjects="TriTrypDB">
         <paramValue name="source_id">LbrM.26-1-798976-799158</paramValue>
         <paramValue name="project_id">TriTrypDB</paramValue>
      </testParamValues>
      <testParamValues includeProjects="AmoebaDB">
         <paramValue name="source_id">DS571186-1-24160-24672</paramValue>
         <paramValue name="project_id">AmoebaDB</paramValue>
      </testParamValues>
      <testParamValues includeProjects="MicrosporidiaDB">
         <paramValue name="source_id">ECII_CH06-3-138630-138959</paramValue>
         <paramValue name="project_id">MicrosporidiaDB</paramValue>
      </testParamValues>
      <testParamValues includeProjects="PiroplasmaDB">
         <paramValue name="source_id">AAGK01000001-4-2100866-2100489</paramValue>
         <paramValue name="project_id">PiroplasmaDB</paramValue>
      </testParamValues>
      <testParamValues includeProjects="FungiDB,InitDB">
         <paramValue name="source_id"></paramValue>
         <paramValue name="project_id"></paramValue>
      </testParamValues>

            <!-- primary key definition -->
            <primaryKeyAttribute name="primary_key"
                                 displayName="ORF Id">
                <columnRef>source_id</columnRef>
                <columnRef>project_id</columnRef>
                <text>
                    <![CDATA[
                    $$source_id$$
                    ]]>
                </text>                
            </primaryKeyAttribute>


          <!-- =============================================================== -->
          <!--   Reporters -->  
          <!-- =============================================================== -->

          <reporter name="tabular" displayName="Tab delimited (Excel): choose from columns"
                      implementation="org.gusdb.wdk.model.report.TabularReporter" />

          <reporter name="fullRecord" displayName="Text: choose from columns and/or tables" excludeProjects="EuPathDB" 
                      implementation="org.gusdb.wdk.model.report.FullRecordReporter" />
           <reporter name="srt" displayName="FASTA (sequence retrieval, configurable)"
                    implementation=""/>
           <reporter name="xml" displayName="XML: choose from columns and/or tables"  excludeProjects="EuPathDB" 
                    implementation="org.gusdb.wdk.model.report.XMLReporter" />
          <reporter name="json" displayName="json: choose from columns and/or tables"  excludeProjects="EuPathDB" 
                    implementation="org.gusdb.wdk.model.report.JSONReporter" />


      <!-- =============================================================== -->
      <!--   Filters -->
      <!-- =============================================================== -->


     <answerFilterLayout name="eupath_project" visible="true"
                            fileName="eupath_project_filter.jsp"
                            displayName="Filter results by component website" includeProjects="EuPathDB">
            <instanceRef ref="all_results" />
            <instanceRef ref="crypto_orfs" />
            <instanceRef ref="giardia_orfs" />
            <instanceRef ref="plasmo_orfs" />
            <instanceRef ref="toxo_orfs" />
            <instanceRef ref="trich_orfs" />
            <instanceRef ref="tritryp_orfs" />
            <instanceRef ref="amoeba_orfs" />
            <instanceRef ref="micro_orfs" />
      </answerFilterLayout>



      <answerFilter queryRef="OrfTables.AllResults"   includeProjects="EuPathDB">
                  <instance name="all_results" displayName="All Results" default="true">
                    <description>
                        <![CDATA[
                            All results
                        ]]>
                    </description>
                </instance>

      </answerFilter>


      <answerFilter queryRef="OrfTables.ApiProjectOrfs"
                          includeProjects="EuPathDB">

               <instance name="crypto_orfs" displayName="CryptoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in CryptoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">CryptoDB</paramValue>
                </instance>
               <instance name="giardia_orfs" displayName="GiardiaDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in GiardiaDB.
                        ]]>
                    </description>
                    <paramValue name="Project">GiardiaDB</paramValue>
                </instance>
               <instance name="plasmo_orfs" displayName="PlasmoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in PlasmoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">PlasmoDB</paramValue>
                </instance>
               <instance name="toxo_orfs" displayName="ToxoDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in ToxoDB.
                        ]]>
                    </description>
                    <paramValue name="Project">ToxoDB</paramValue>
                </instance>
               <instance name="trich_orfs" displayName="TrichDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in TrichDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TrichDB</paramValue>
                </instance>
               <instance name="tritryp_orfs" displayName="TriTrypDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in TriTrypDB.
                        ]]>
                    </description>
                    <paramValue name="Project">TriTrypDB</paramValue>
                </instance>
               <instance name="amoeba_orfs" displayName="AmoebaDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in AmoebaDB.
                        ]]>
                    </description>
                    <paramValue name="Project">AmoebaDB</paramValue>
                </instance>
               <instance name="micro_orfs" displayName="MicrosporidiaDB" >
                    <description>
                        <![CDATA[
                            Number of ORFs in MicrosporidiaDB.
                        ]]>
                    </description>
                    <paramValue name="Project">MicrosporidiaDB</paramValue>
                </instance>
      </answerFilter>


           <!-- =================================================================== -->
           <!--  Attributes  ++++++++-->
           <!-- =================================================================== -->

              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
              <!-- BFMV attributes -->  
              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

            <attributeQueryRef ref="OrfAttributes.Bfmv">
                <columnAttribute name="project_id" internal="true" inReportMaker="false"/>
                <columnAttribute name="source_id" internal="true" inReportMaker="false"/>
                <columnAttribute name="nas_id" displayName="Sequence ID" internal="false"/>
                <columnAttribute name="orf_start" internal="true"/>
                <columnAttribute name="orf_end" internal="true"/>
                <columnAttribute name="orf_start_text" displayName="Start" internal="false" align="center"/>
                <columnAttribute name="orf_end_text" displayName="End" internal="false" align="center"/>
                <columnAttribute name="orf_strand" displayName="Strand" internal="false" align="center"/>
                <columnAttribute name="length" displayName="Length" internal="false" align="center"/>
                <columnAttribute name="organism_text" displayName="Organism" internal="true" inReportMaker="true"/>
                <columnAttribute name="formatted_organism" displayName="Organism" internal="false" inReportMaker="false"/>
            </attributeQueryRef>

           <textAttribute name="organism" displayName="Organism" internal="false" inReportMaker="true" help="The biological sample used to sequence this genome">
                <display><![CDATA[ <i>$$organism_text$$</i>  ]]></display>
                <text><![CDATA[ $$organism_text$$  ]]></text>
            </textAttribute>


              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
              <!-- sequence attributes -->  
              <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->

            <attributeQueryRef ref="OrfAttributes.Sequence">
                <columnAttribute name="sequence" displayName="Sequence" internal="true" />
            </attributeQueryRef>

          <!-- =================================================================== -->
          <!--  Text Attributes  ++++++++-->
          <!-- =================================================================== -->

            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <!-- overview -->  
            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <textAttribute name="orf_location_text" displayName="Location"
                           internal="false" inReportMaker="true">
                <text>
                    <![CDATA[
                       $$nas_id$$: $$orf_start_text$$ - $$orf_end_text$$ ($$orf_strand$$)
                    ]]>
               </text>
           </textAttribute>           

            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <!-- overview -->  
            <!--++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-->
            <textAttribute name="overview" displayName="Overview"
                           internal="true" inReportMaker="false">
               <text>
                    <![CDATA[
                    Open Reading Frame $$source_id$$ from $$nas_id$$.<br>
                    Organism: $$formatted_organism$$
                    ]]>
               </text>
           </textAttribute>

          <textAttribute name="gbrowseTracks" inReportMaker="false" internal="true" 
                         includeProjects="GiardiaDB,CryptoDB,TrichDB,PlasmoDB,ToxoDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB,PiroplasmaDB">
            <text includeProjects="GiardiaDB,AmoebaDB,TrichDB,TriTrypDB">
                <![CDATA[
                  ORF+Gene+BLASTX
                ]]>
            </text>
            <text includeProjects="CryptoDB,ToxoDB,MicrosporidiaDB,PiroplasmaDB,PlasmoDB,FungiDB,InitDB">
                 <![CDATA[
                  ORF+Gene+ProtAlign
                 ]]>
           </text>
          </textAttribute>


        <!-- =================================================================== -->
        <!-- orf Tables++++++++-->
        <!-- =================================================================== -->

        <table name="Locations" includeProjects="PlasmoDB,ToxoDB,CryptoDB,TrichDB,GiardiaDB,TriTrypDB,AmoebaDB,MicrosporidiaDB,FungiDB,InitDB,PiroplasmaDB"
                 displayName="Orf Location"
                 queryRef="OrfTables.Locations">
            <columnAttribute displayName= "Sequence Level" name="is_top_level" internal="false"/>
            <columnAttribute displayName= "Genomic Sequence" name="sequence_source_id" internal="false"/>
            <textAttribute inReportMaker="true" name="location" displayName="Location">
                  <text>
                    <![CDATA[
                      $$start_min$$ - $$end_max$$ ($$is_reversed$$)
                    ]]>
                  </text>
            </textAttribute>
 
            <linkAttribute displayName="Genome Browser" name="view_link" inReportMaker="false" 
                           internal="false" includeProjects="GiardiaDB">
                 <displayText>
                    <![CDATA[ View ]]>
                 </displayText>
                   <url includeProjects="GiardiaDB">
                    <![CDATA[
                      /cgi-bin/gbrowse/giardiadb/?name=$$sequence_source_id$$%3A$$start_context$$-$$end_context$$;width=550;label=ORF;label=Gene;label=DeprecatedGene;h_feat=$$feature_source_id$$
                        ]]>
                   </url>
            </linkAttribute>
            <columnAttribute displayName= "start" name="start_min" internal="true"/>
            <columnAttribute displayName= "end" name="end_max" internal="true"/>
            <columnAttribute displayName= "is_reversed" name="is_reversed" internal="true"/>
            <columnAttribute displayName= "start_context" name="start_context" internal="true"/>
            <columnAttribute displayName= "end_context" name="end_context" internal="true"/>
            <columnAttribute displayName= "Feature ID" name="feature_source_id" internal="true"/>
          </table>

        </recordClass>

    </recordClassSet>
</wdkModel>


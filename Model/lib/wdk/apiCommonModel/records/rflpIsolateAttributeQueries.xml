<wdkModel>

  <querySet name="RflpIsolateAttributes" queryType="attribute" isCacheable="false">

       <testRowCountSql>
	 SELECT count(*) FROM ApidbTuning.RflpGenotypes
       </testRowCountSql>

        <sqlQuery name="Bfmv">
            <column name="name"/>
            <column name="description"/>
            <column name="type"/>
            <column name="type_id"/>
            <column name="age_at_death"/>
            <column name="geographic_location"/>
            <column name="host"/>
            <column name="morbidity"/>
            <column name="organ"/>
            <column name="genotypes"/>
           <sql>
            <![CDATA[
select sa.protocol_app_node_id, sa.name, sa.description, sa.type_id, sa.type,
       sa.c_age_at_death as age_at_death, sa.c_geographic_location as geographic_location,
       sa.c_organism as host, sa.c_morbidity as morbidity, sa.c_organ as organ,
       rg.genotypes, rgn.genotype_number
from ApidbTuning.SampleAttributes sa, ApidbTuning.RflpGenotypes rg,
     (select sd.protocol_app_node_id, RflpGenotypeNumber.genotype_number
      from ApidbTuning.SampleDownstream sd, apidb.RflpGenotypeNumber
      where sd.output_protocol_app_node_id = RflpGenotypeNumber.protocol_app_node_id) rgn
where sa.protocol_app_node_id = rg.protocol_app_node_id
  and sa.protocol_app_node_id = rgn.protocol_app_node_id(+)
	    ]]>
           </sql>
	</sqlQuery>

  </querySet>

</wdkModel>

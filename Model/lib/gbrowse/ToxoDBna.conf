[GENERAL]

initial landmark = TGME49_chrVI:435135..475134 

examples = TGME49_chrVI:435135..475134
           TGVEG_chrTGVEG_chrX:945000..975000
           FR823386:56000..78000
           TGME49_253730

#include "common/common_general.conf"
#include "ToxoDB/ToxoDB_db.conf"
#include "common/unifiedMassSpec.conf"
#include "common/synteny.conf"
#include "common/nrdbBlat.conf"
#include "common/scaffolds.conf"

# Various places where you can insert your own HTML -- see configuration docs
html2 =<p><font color='red'><b>NOTE</b></font>
 <a href="http://ancillary.toxodb.org/cgi-bin/gbrowse/ancillary/" target='new'> 
 <b>Ancillary GBrowse Site for <i>T. gondii</i></b></a>, with additional data sets, including Affymetrix probesets.<br> &nbsp;&nbsp;&nbsp;To view the same region, simply cut and paste the 'Landmark or Region' coordinates from this page to the 'Landmark or Region' box on the Ancillary GBrowse page.</p><p>Click here for <a target="citation" href="/cgi-bin/gbrowse/toxodb/?help=citations"><b>Track Descriptions & Citations</b></a><br>
html3 = <script type="text/javascript" src="/gbrowse/apiGBrowsePopups.js"></script>
html4 = <script type='text/javascript' src='/a/js/newwindow.js'></script>
html5 = <p><font color='red'><b>NOTE</b></font>
 <a href="http://ancillary.toxodb.org/cgi-bin/gbrowse/ancillary/" target='new'> 
 <b>Ancillary GBrowse Site for <i>T. gondii</i></b></a>, with Affymetrix probesets and more.<br> To view the same region, simply cut and paste the 'Landmark or Region' coordinates from this page to the 'Landmark or Region' box on the Ancillary GBrowse page.</p>
html6 = <script type="text/javascript" src="/gbrowse/wz_tooltip.js"></script>

### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

#include "common/common_tracks.conf"

[Centromere:overview]
feature       = Centromere:overview
bgcolor       = blue
glyph         = segments
fgcolor       = black
zheight        = 8
point         = 1
label         = 0
key           = Centromere (ME49 Only)
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
citation     = ChIP-chip using antibodies to Centromeric Histone 3 (CenH3-HA) colocalized with antibodies to H3K9me2. 
  <br>Light blue = CenH3-HA
  <br>Dark blue = H3K9me2
  <p>Brooks CF, Francia ME, Gissot M, Croken MM, Kim K, Striepen B. Toxoplasma gondii sequesters centromeres to a specific nuclear region throughout the cell cycle. <a href="http://www.ncbi.nlm.nih.gov/pubmed/21321216">Proc Natl Acad Sci U S A. 2011 Mar 1;108(9):3767-72.</a>
  <br>Contacts: Kami Kim at kkim@aecom.yu.edu or Boris Striepen striepen@cb.uga.edu

[Scaffolds:overview]
citation =<b>Scaffolds and gaps displayed on the entire chromosome.</b> <br> <i>Forward scaffolds are in orange, reverse ones in green and gaps are in red.</i><br><br> All scaffold assemblies were generated by <a target='new' href="http://www.tigr.org/tdb/e2k1/tga1/seq.shtml">TIGR</a>. Briefly, contigs assembled from approximately 10x whole-genome "double-barrel" shotgun sequencing reads of 2 kb and 10 kb plasmid inserts were further assembled into scaffolds based on 8,000 end-reads from larger (80-100 kb) BAC inserts. <p>The order and orientation of the scaffolds in each chromosome was determined based on the unique locations of both genetically linked markers</a> and <a href="#BACEnds">paired BAC end reads</a>. Note that scaffolds with undetermined orientation are shown by default in the forward orientation (orange).

# [GeneticMarkers:overview]
# feature      = GeneticMarkers:overview
# category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
# glyph        = diamond
# description  = 0
# label        = 0
# fgcolor      = darkslateblue
# bgcolor      = darkslateblue
# key          = Genetic Markers (in Overview)
# label density = 50
# citation = <b>Genetic markers displayed on the entire chromosome.</b> <br><br> PCR/RFLP markers were developed and used to generate a
#   chromosomal linkage map based on two independent crosses (type II x
#   III and I x III strains).  More information is available at <a target='new'
#   href="http://www.toxomap.wustl.edu/">www.toxomap.wustl.edu</a>.

[SNP:overview]
feature      = SNP:density
glyph        = xyplot
graph_type   = boxes
bump density = 1
scale        = right
#scale       = both
bgcolor      = lightslategray
fgcolor      = bgcolor
height       = 60
min_score    = 0
label        = 0
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
key          = SNP Density (in Overview)
citation     = <b>Single nucleotide polymorphism (SNPs) density displayed on the entire chromosome.</b><br><br> SNPs were calculated by counting the number of SNPs in 50,000 base pair (50Kb) intervals. So each bar represents the number of SNPs (y axis = number of SNPs) in that 50Kb region of the chromosome.


[Centromere:region]
feature       = Centromere:overview
bgcolor       = blue
glyph         = segments
fgcolor       = black
zheight        = 8
point         = 1
label         = 0
key           = Centromere (ME49 Only)
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
citation     = ChIP-chip using antibodies to Centromeric Histone 3 (CenH3-HA) colocalized with antibodies to H3K9me2. 
  <br>Light blue = CenH3-HA
  <br>Dark blue = H3K9me2
  <p>Brooks CF, Francia ME, Gissot M, Croken MM, Kim K, Striepen B. Toxoplasma gondii sequesters centromeres to a specific nuclear region throughout the cell cycle. <a href="http://www.ncbi.nlm.nih.gov/pubmed/21321216">Proc Natl Acad Sci U S A. 2011 Mar 1;108(9):3767-72.</a>
  <br>Contacts: Kami Kim at kkim@aecom.yu.edu or Boris Striepen striepen@cb.uga.edu

[Scaffolds:region]
citation =<b>Scaffolds and gaps displayed in the region.</b> <br> <i>Forward scaffolds are in orange, reverse ones in green and gaps are in red.</i><br><br> All scaffold assemblies were generated by <a target='new' href="http://www.tigr.org/tdb/e2k1/tga1/seq.shtml">TIGR</a>. Briefly, contigs assembled from approximately 10x whole-genome "double-barrel" shotgun sequencing reads of 2 kb and 10 kb plasmid inserts were further assembled into scaffolds based on 8,000 end-reads from larger (80-100 kb) BAC inserts. <p>The order and orientation of the scaffolds in each chromosome was determined based on the unique locations of both genetically linked markers</a> and <a href="#BACEnds">paired BAC end reads</a>. Note that scaffolds with undetermined orientation are shown by default in the forward orientation (orange).

# [GeneticMarkers:region]
# feature      = GeneticMarkers:overview
# category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
# glyph        = diamond
# description  = 0
# label        = 0
# fgcolor      = darkslateblue
# bgcolor      = darkslateblue
# key          = Genetic Markers (in Region)
# label density = 50
# citation = <b>Genetic markers displayed on the entire chromosome.</b> <br><br> PCR/RFLP markers were developed and used to generate a
#   chromosomal linkage map based on two independent crosses (type II x
#   III and I x III strains).  More information is available at <a target='new'
#   href="http://www.toxomap.wustl.edu/">www.toxomap.wustl.edu</a>.


[SNP:region]
feature      = SNP:density
glyph        = xyplot
graph_type   = boxes
bump density = 1
scale        = both
bgcolor      = lightslategray
fgcolor      = bgcolor
height       = 60
min_score    = 0
label        = 0
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
key          = SNP Density
citation     = <b>Single nucleotide polymorphism (SNPs) density displayed on the entire chromosome.</b><br><br> SNPs were calculated by counting the number of SNPs in 50,000 base pair (50Kb) intervals. So each bar represents the number of SNPs (y axis = number of SNPs) in that 50Kb region of the chromosome.

[Scaffolds]
citation  = <b>Scaffold(s) and gaps in current view.</b> <br><i>Forward scaffolds are in orange, reverse ones in green and gaps are in red </i>. <br><br> All scaffold assemblies were generated by <a target='new' href="http://www.tigr.org/tdb/e2k1/tga1/seq.shtml">TIGR</a>. Briefly, contigs assembled from approximately 10x whole-genome "double-barrel" shotgun sequencing reads of 2 kb and 10 kb plasmid inserts were further assembled into scaffolds based on 8,000 end-reads from larger (80-100 kb) BAC inserts. <p>The order and orientation of the scaffolds in each chromosome was determined based on the unique locations of both genetically linked markers</a> and <a href="#BACEnds">paired BAC end reads</a>. Note that scaffolds with undetermined orientation are shown by default in the forward orientation (orange).


[Sequences_tgonME49_bld7.3Transcripts_transcript_sequences_RSRC]
feature      = alignment:tgonME49_bld7.3Transcripts_transcript_sequences_RSRC
sqlName      = alignment:sequence
sqlParam     = edName:='tgonME49_bld7.3Transcripts_transcript_sequences_RSRC'
#category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
category      = 1 Gene models : Transcripts
glyph        = processed_transcript_gtu
require_subparts = 1
tkcolor       = #CCCCFF
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'pink') }
font2color   = darkgrey
height       = 6
title        = 1
balloon hover = sub { GBrowse::PopupAndLinks::sequenceTitle(shift) }
balloon sticky  = 1
label        = 1
description  = 1
key          = ToxoDB7.3 Transcripts
citation      = sub { $CFG->citationAndText('tgonME49_bld7.3Transcripts_transcript_sequences_RSRC' ) } 
 



[utr_only.lengths:database]
db_adaptor   = Bio::DB::SeqFeature::Store
db_args      = -adaptor DBI::SQLite
               -dsn /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/predictions_from_RNASeq/utr_only.lengths.sqlite

[utr_only.lengths]
database   = utr_only.lengths
feature    = gene:CRAIG_utr_only
category      = 1 Gene models : Transcripts
glyph      = gene
tkcolor       = #CCCCFF
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'pink') }
font2color   = darkgrey
height       = 6
title        = 1
balloon hover  = sub { GBrowse::PopupAndLinks::oldAnnotationTitle(shift) }
key          = Annotated Transcripts w/ CRAIG UTR Prediction (longest)
citation     = Annotated Transcripts w/ CRAIG UTR Prediction based on longest UTR



[tgonME49_Ralph_nanopore_RNAseq_RSRC]
feature    = summary
database   = tgonME49_Ralph_nanopore_RNAseq_RSRC
glyph      = wiggle_xyplot
graph_type = boxes
fgcolor    = black
bgcolor    = blue
no_grid    = 0
height     = 80
key   	   = RNA-Seq coverage for <i>T. gondii</i> ME49 tachyzoites (Ralph et al.)
min_score  = 0
max_score  = 20
scale      = both
link       = javascript:void(0)
title      = sub{}
category   = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
citation   = sub { $CFG->citationAndText('tgonME49_Ralph_nanopore_RNAseq_RSRC')} 

[tgonME49_Ralph_nanopore_RNAseq_RSRC:database]
db_adaptor   = Bio::DB::BigWig
db_args      = -bigwig /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/tgonME49/rnaSeq/Stuart_Ralph_nanopore/Stuart_Ralph_nanopore_alnT5000.bw


[utr_only.scores:database]
db_adaptor   = Bio::DB::SeqFeature::Store
db_args      = -adaptor DBI::SQLite
               -dsn /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/predictions_from_RNASeq/utr_only.scores.sqlite

[utr_only.scores]
database   = utr_only.scores
feature    = gene:CRAIG_utr_only
category      = 1 Gene models : Transcripts
glyph      = gene
tkcolor       = #CCCCFF
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'pink') }
font2color   = darkgrey
height       = 6
title        = 1
balloon hover  = sub { GBrowse::PopupAndLinks::oldAnnotationTitle(shift) }
key          = Annotated Transcripts w/ CRAIG UTR Prediction (highest score)
citation     = Annotated Transcripts w/ CRAIG UTR Prediction from RNA-Seq based on highest score



[tgonME49annotationUli:database]
db_adaptor   = Bio::DB::SeqFeature::Store
db_args      = -adaptor DBI::SQLite
               -dsn /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/predictions_from_RNASeq/TgondiiME49.noseq.ToxoDB_chromosomes.sqlite

[tgonME49annotationUli]
database   = tgonME49annotationUli
feature    = gene:chado
category      = 1 Gene models : Transcripts
glyph      = gene
tkcolor       = #CCCCFF
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'pink') }
font2color   = darkgrey
height       = 6
title        = 1
balloon hover  = sub { GBrowse::PopupAndLinks::oldAnnotationTitle(shift) }
key          = Annotated Transcripts (CDS with manual curation)
citation     = 




#include "common/gsnapintronunified.conf"


[EST]
citation     = Expressed sequence tags (ESTs) were obtained from <a href="http://www.ncbi.nlm.nih.gov/dbEST/">dbEST</a> and aligned to <i>T. gondii</i> chromosomes.


[CosmidsLorenzi]
feature      = alignment:CosmidsLorenz
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:secondary_identifier&&sourceIdRegex:'(.*)[^_forward|_reverse]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Knoll)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC','<br><b>Note:</b> If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}


[CosmidsLorenzi:overview]
feature      = alignment:CosmidsLorenz
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:secondary_identifier&&sourceIdRegex:'(.*)[^_forward|_reverse]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Knoll) (in Overview)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC','<br><b>Note:</b> If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}


[CosmidsLorenzi:region]
feature      = alignment:CosmidsLorenz
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:secondary_identifier&&sourceIdRegex:'(.*)[^_forward|_reverse]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Knoll) (in Region)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_Lorenzi_CosmidEnds_clonedInsertEnds_RSRC','<br><b>Note:</b> If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}



[CosmidsSibley]
feature      = alignment:Sibley
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^T(V|H)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Sibley)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC','A detailed description of cosmid libararies from the Sibley lab is available <a href="http://toxomap.wustl.edu/cosmid.html">here</a>. <br>Note: If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}


[CosmidsSibley:overview]
feature      = alignment:Sibley
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^T(V|H)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Sibley) (in Overview)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC','A detailed description of cosmid libraries from the Sibley lab is available <a href="http://toxomap.wustl.edu/cosmid.html">here</a>. <br><b>Note:</b> If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}


[CosmidsSibley:region]
feature      = alignment:Sibley
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^T(V|H)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
title        = sub { GBrowse::PopupAndLinks::cosmidTitle(shift) }
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
bump_limit   = 50
connector_color = sub { GBrowse::Display::alignmentConnectColor(shift) }
key          = End-Sequenced Cosmids (Sibley) (in Region)
citation  = sub { $CFG->GBrowse::Configuration::citationAndText('tgonME49_TIGR_Cosmid_ends_clonedInsertEnds_RSRC','A detailed description of cosmid libraries from the Sibley lab is available <a href="http://toxomap.wustl.edu/cosmid.html">here</a>. <br><b>Note:</b> If length of the cosmid is outside 35 to 45 kb, it is shown in red.')}



[Bacs]
feature      = alignment:Bacs
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^(q|p)1c)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::bacsTitle(shift) }
bump_limit   = 50
key      = End-Sequenced BACs
citation  = sub { $CFG->citationFromExtDatabaseNamePattern('tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC')


[Bacs:overview]
feature      = alignment:Bacs
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^(q|p)1c)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::bacsTitle(shift) }
bump_limit   = 50
key      = End-Sequenced BACs (in Overview)
citation  = sub { $CFG->citationFromExtDatabaseNamePattern('tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC')


[Bacs:region]
feature      = alignment:Bacs
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'(.*)[^(q|p)1c)]'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::bacsTitle(shift) }
bump_limit   = 50
key      = End-Sequenced BACs (in Region)
citation  = sub { $CFG->citationFromExtDatabaseNamePattern('tgonME49_Sanger_BAC_ends_clonedInsertEnds_RSRC')



#[TGI]
#feature      = match:TGI
#category     = Transcript Expression Evidence
#glyph        = graded_segments
#draw_target  = 1
#show_mismatch = 1
#canonical_strand = 1
#bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'mediumblue', 'crimson') }
#height       = 8 
#title        = sub { GBrowse::PopupAndLinks::tigrAssemblyTitle(shift) }
#link  = sub { GBrowse::PopupAndLinks::tigrAssemblyLink(shift) }
#key          = TIGR EST Assemblies (TGI)
#citation     = Spliced alignments of consensus EST assemblies, provided by the TIGR Gene Indices project; spliced alignments were performed using <code>megablast</code> and the NCBI <code>Splign</code> algorithm.


# [GeneticMarkers]
# feature       = GeneticMarkers:Sibley
# category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
# glyph         = diamond
# description   = 0
# label         = 1
# key           = Genetic Markers
# label density = 50
# #TODO: This is a very specific subroutine to toxodb ... so leaving for now
# bgcolor  = sub {
#        my $f = shift;
#              my $variants = $f->bulkAttributes();
#              my ($me49) = $f->get_tag_values("RefNA"); 
#              my ($rh, $veg);
#              foreach my $variant (@$variants) {
#                $rh   = $variant->{ALLELE} if ($variant->{STRAIN} eq 'RH');
#                $veg  = $variant->{ALLELE} if ($variant->{STRAIN} eq 'VEG');
#              }
#        my $color;
#        if ($me49 eq $rh && $me49 eq $veg) {
#          $color = 'gray';
#        } elsif ($me49 eq $rh && $me49 ne $veg) {  # type 3 or blue
#        $color = 'blue';
#        } elsif ($rh eq $veg && $me49 ne $rh) {    # type 2 or green
#        $color = 'green';
#        } elsif ($me49 eq $veg && $me49 ne $rh) {  # type 1 or red
#        $color = 'red';
#        } elsif ($me49 ne $rh && $me49 ne $veg) {
#        $color = 'black';
#        }
#        return $color;
#       }
# fgcolor  = bgcolor
# title    = sub { GBrowse::PopupAndLinks::geneticMarkersTitle(shift) }
# balloon sticky  = 1
# citation     = <b>Genetic markers displayed on the entire chromosome.</b> <br><br> PCR/RFLP markers were developed and used to generate a
#   chromosomal linkage map based on two independent crosses (type II x
#   III and I x III strains).  More information is available at <a target='new'
#   href="http://www.toxomap.wustl.edu/">www.toxomap.wustl.edu</a>.


[HtsAlignmentSNPsByClass]
feature  = SNP:HTSSnps
sqlName  = SNP:Population
sqlParam = edname:'tgonME49_NGS_SNPsAndVariations'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
#category      = Population Biology: SNPs [show < 60k for details]
glyph    = diamond
key      = SNPs by coding potential
bgcolor   = sub { GBrowse::Display::snpBgFromIsCodingAndNonSyn(shift) }
fgcolor  = bgcolor
title = sub{}
balloon hover= sub { GBrowse::PopupAndLinks::snpTitleQuick(shift) }
balloon sticky  = 1
label density = 2
bump density = 1000
height = sub { GBrowse::Display::snpHeight(shift) }
citation = SNPs identified by alignment of HTS reads and VarScan SNP calling
  <p><table width="50%">
  <tr><th align="left" width="60">Color</th><th align="left">Class</th></th></tr>
  <tr><td bgcolor='black'><font color="whitesmoke"><b>White</b></font></td><td>&nbsp;Non-Coding</td></tr>
  <tr><td><font color="blue"><b>Blue</b></font></td><td>&nbsp;Coding (non-synonymous)</td></tr>
  <tr><td><font color="lightblue"><b>LightBlue</b></font></td><td>&nbsp;Coding (synonymous)</td></tr>
  </table>
  Please note: pop-up box will show details if viewing region is less than 60 kbp.


[AffymetrixExpressionNuclearCoding]
feature  = MicroArrayProbes:NuclearCoding
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_NuclearCoding_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, '3prime-biased Probes for Coding Genes') }
key      = Expression profiling probes (11 per gene; 3' biased)
citation = Eleven 3' biased probes per gene using a perfect match only design. Draft 3 gene models were used for designing these probes.
stranded = 1

[AffymetrixExpressionResequencing]
feature  = MicroArrayProbes:Resequencing
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_Resequencing_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Resequencing Probes') }
key      = Tiled probes (selected genes only)
citation = Tiling probes were designed against selected genes:<br> TGME49_027280, TGME49_075440, TGME49_066960, TGME49_107570, TGME49_104870, TGME49_095600, TGME49_108020, TGME49_109590, TGME49_112480, TGME49_116400, TGME49_062730, TGME49_059020, TGME49_055260, TGME49_120190, TGME49_120180, TGME49_080570, TGME49_003310, TGME49_001780, TGME49_033450, TGME49_033460, TGME49_033480, TGME49_071050

[AffymetrixExpressionIntrons]
feature  = MicroArrayProbes:Introns
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_IbIntron_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Ib Intron Probes') }
key      = Intron probes (chromosome Ib only)
citation = Five for each predicted intron on chromosome Ib (Draft 3 annotation).

[AffymetrixExpressionExons]
feature  = MicroArrayProbes:Exons
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_ExonIb_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Ib Exon Probes') }
key      = Exon probes (chromosome Ib only)
citation = Six probes for each exon on chromosome Ib (Draft 3 annotation).

[AffymetrixExpressionNuclearCodingAS]
feature  = MicroArrayProbes:NuclearCodingAS
sqlName  = MicroArrayProbes:expressionD
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Ib Antisense Probes') }
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_Antisense_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
key      = Antisense probes (chromosome Ib only)
citation = Probes to assess antisense transcription (20 probes from 227 genes on Chromosome Ib; Draft 3 annotation).

[AffymetrixExpressionChIP]
feature  = MicroArrayProbes:ChIP
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_ChIP_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix ChIP Probes') }
key      = ChIP probes (selected promoters only)
citation = Titled probes (10nt resolution) across a ~1000 nt region upstream of some genes.<br> Genes with such probes: TGME49_059020, TGME49_032350, TGME49_033460, TGME49_071050, TGME49_066960, TGME49_091040, TGME49_007160, TGME49_007150.

[AffymetrixExpressionESTSNPs]
feature  = MicroArrayProbes:GenotypingEstSNPs
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_estSNPs_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'EST-based SNP Probes') }
label    = 0
key      = Genotyping probes (4 or 40 per SNP)  
citation = Probes were designed against 3,490 SNPs inferred from <i>T. gondii</i> EST data (4 probes/SNP).

[AffymetrixExpressionGenotypingMarkers]
feature  = MicroArrayProbes:GenotypingMarkers
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_Markers_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Genetic Marker Probes') }
label    = 0
key      = Genotyping probes (Genetic Markers)
citation = Probes designed based on SNPs within recognized type I, II and III RFLPs (228 SNPs, 40 probes/SNP).

[AffymetrixExpressionBlastxTranscriptDiscovery]
feature  = MicroArrayProbes:BlastxTranscriptDiscovery
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_BLASTX-TranscriptDiscovery_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Transcript Discovery (BLASTX) Probes') }
label    = 0
key      = Transcript Discovery (BLASTX to nr) probes
citation = Microarray probe sequences from the Toxo Gene Chip that were designed using ORF sequences, that had BLASTX hits to the non-redundant database.

[AffymetrixExpressionTblastnTranscriptDiscovery]
feature  = MicroArrayProbes:TBlastnTranscriptDiscovery
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_TBLASTN-TranscriptDiscovery_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Transcript Discovery (TBLASTN)  Probes') }
label    = 0
key      = Transcript Discovery (TBLASTN to OrthoMCL)  probes
citation = Microarray probe sequences from the Toxo Gene Chip that were designed using ORF sequences that had TBLASTN hits from OrthoMCL.

[AffymetrixExpressionEstTranscriptDiscovery]
feature  = MicroArrayProbes:EstTranscriptDiscovery
sqlName  = MicroArrayProbes:expressionD
sqlParam = edname:'tgonME49_microarrayPlatform_Affy-Amit_EST-TranscriptDiscovery_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments 
bgcolor      = darkgrey
height       = 10
label        = 0
description  = 0
bump density = 5000
balloon hover  = sub { GBrowse::PopupAndLinks::ArrayElementTitle(shift, 'Affymetrix Transcript Discovery (EST)  Probes') }
label    = 0
key      = Transcript Discovery (EST)  probes
citation  = Microarray probe sequences from the Toxo Gene Chip that were designed based on EST sequences that did not align to gene models.




[RiteshDB:database]
db_adaptor   = Bio::DB::SeqFeature::Store
db_args      = -adaptor DBI::SQLite
               -dsn /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/Ritesh/Ritesh_Krishna_Peptide.gff3.sqlite

[RiteshPeptide]
database   = RiteshDB
feature    = peptide:Ritesh
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph      = segments
fgcolor    = sub { GBrowse::Display::riteshMSFgcolor(shift) }
bgcolor    = sub { GBrowse::Display::riteshMSBgcolor(shift) }
balloon hover  = sub { GBrowse::PopupAndLinks::riteshMassSpec(shift) }
key        = Intron-spanning peptides (Krishna)
citation   = MassSpec peptides data from Ritesh Krishna 

[denovo_union]
feature   = gene:CRAIG_denovo
database  = ME49_denovo
#category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
category      = 1 Gene models : Transcripts
glyph     = gene
label     = 1
key       = CRAIG denovo Gene Model Prediction

[utr_only_union]
feature   = gene:CRAIG_utr_only
database  = ME49_utr_only_union
#category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
category      = 1 Gene models : Transcripts
glyph     = gene
label     = 1
key       = Annotated Transcripts w/ CRAIG UTR Prediction

[craig12SamplesUtrOnly]
feature   = gff:CRAIG_utr_only_new
sqlName      = gff:processedTranscript
sqlParam     = edName:'tgonME49_craig_UTR_GFF_topLevel_RSRC'
category      = 1 Gene models : Transcripts
glyph         = processed_transcript_gtu
fgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red') }
bgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red') }
balloon hover = sub { GBrowse::PopupAndLinks::geneTitleGff(shift) }
thin_utr      = 1  
height        = 6  
tkcolor       = lavender
label     = 1
stranded  = 1
connector = solid
key          = Annotated Transcripts w/ CRAIG UTR Predictions from 12 samples

[craig12SamplesDeNovo]
feature   = gff:CRAIG_denovo_new
sqlName      = gff:processedTranscript
sqlParam     = edName:'tgonME49_craig_denovo_GFF_topLevel_RSRC'
category      = 1 Gene models : Transcripts
glyph         = processed_transcript_gtu
fgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red') }
bgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red') }
balloon hover = sub { GBrowse::PopupAndLinks::geneTitleGff(shift) }
thin_utr      = 1  
height        = 6  
tkcolor       = aliceblue
label     = 1
stranded  = 1
connector = solid
key          = CRAIG De Novo Predictions from 12 samples

[FosmidEndStriepen]
feature      = alignment:FosmidEndStriepen
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'([a-zA-Z0-9]*)'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::fosmidTitle(shift) }
bump_limit   = 50
key      = End-Sequenced Fosmids
#citation     = <b>Sequence from Fosmid ends mapped against <i>T. gondii</i> scaffolds.<br>
citation  = sub { $CFG->GBrowse::Configuration::citationFromExtDatabaseNamePattern('tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC') }

[FosmidEndStriepen:overview]
feature      = alignment:FosmidEndStriepen
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'([a-zA-Z0-9]*)'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::fosmidTitle(shift) }
bump_limit   = 50
key      = End-Sequenced Fosmids (in Overview)
citation  = sub { $CFG->GBrowse::Configuration::citationFromExtDatabaseNamePattern('tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC') }

[FosmidEndStriepen:region]
feature      = alignment:FosmidEndStriepen
sqlName      = alignment:GenericEndFeature
sqlParam     = edName:'tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC'&&sourceIdField:source_id&&sourceIdRegex:'([a-zA-Z0-9]*)'&&spanLengthCutoff:5000&&includeMultipleSpans:'true'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
glyph        = segments
bgcolor      = yellow
description  = 0
height       = 10
stranded     = 0
title        = sub { GBrowse::PopupAndLinks::fosmidTitle(shift) }
bump_limit   = 50
key      = End-Sequenced Fosmids (in Region)
citation  = sub { $CFG->GBrowse::Configuration::citationFromExtDatabaseNamePattern('tgonME49_Vinayak_FosmidEnds_clonedInsertEnds_RSRC') }


[CrisprPhenotypeGuideRNA]
feature  = gff:crisprguiderna
sqlName      = gff:basic
sqlParam     = edName:'tgonGT1_CrisprScreen_GFF_topLevel_RSRC'
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_,'gRNA') }
glyph        = generic 
fgcolor       = black
bgcolor       = black
height=9
key          = T.g. GT1 CRISPR Screen gRNAs
citation     =  sub { $CFG->GBrowse::Configuration::citationFromExtDatabaseNamePattern('tgonGT1_CrisprScreen_GFF_topLevel_RSRC') }




#[sneuSN3:database]
#db_adaptor = Bio::DB::SeqFeature::Store
#db_args    = -adaptor DBI::SQLite
#             -dsn /var/www/Common/apiSiteFilesMirror/auxiliary/ToxoDB/sneuSN3_contig_supercontig_jkissinger.gff3.sqlite
#
#[sneuSN3]
#feature       = gene:maker
#database      = sneuSN3
#glyph         = gene
#fgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red')     }
#bgcolor       = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'blue', 'red')     }
#thin_utr      = 1
#draw_dna      = 1
#font2color    = darkgrey
#height        = 6
#label         = 1
#description   = 1
#bump density  = 100
#label density = 100
#balloon hover = sub { GBrowse::PopupAndLinks::geneTitleGB2(shift) }
#key           = sneuSN3 supercontigs and contigs (Kissinger)

# TEMPLATE_ANCHOR proteinExpressionMassSpecGBrowseTrack
# TEMPLATE_ANCHOR rnaSeqCoverageTrack
# TEMPLATE_ANCHOR rnaSeqCoverageTrackUnlogged
# TEMPLATE_ANCHOR rnaSeqJunctionsTrack
# TEMPLATE_ANCHOR ncRNASeqCoverageTrack

# TEMPLATE_ANCHOR htsSnpSampleDatabase
# TEMPLATE_ANCHOR htsSnpSampleCoverageXYTrack
# TEMPLATE_ANCHOR smallNcRnaSampleDatabase
# TEMPLATE_ANCHOR smallNcRnaSampleTrack
# TEMPLATE_ANCHOR copyNumberVariationsDatabase
# TEMPLATE_ANCHOR copyNumberVariationsTrack
# TEMPLATE_ANCHOR chipChipSmoothed
# TEMPLATE_ANCHOR chipChipPeaks
# TEMPLATE_ANCHOR chipSeqCoverageTrackUnlogged

[GENERAL]

initial landmark = GLCHR01:198,951..231,656
examples = GLCHR01:198,951..231,656
           CH991778:15,568..26,071
           AACB02000007:225400..227800
           GL50803_102438

#include "common/common_general.conf"

### TRACK CONFIGURATION ####

#include "common/common_tracks.conf"
#include "common/unifiedMassSpec.conf"
#include "common/synteny.conf"
#include "common/nrdbBlat.conf"
#include "common/scaffolds.conf"


[GSNAPUnifiedIntronJunctionInclusive]
feature       = gsnap:unifiedintronjunctioninclusive
sqlName       = gsnap:unifiedintronjunction
#sqlParam     = intronSizeLimit:5000&&minIntronPercent:.001&&minNonContainedRatio:.0001&&minContainedRatio:.0001&&minContainedScore:2&&minNonContainedScore:4&&maxIsrpmMult:20&&isrpmRatio:0.2&&externalDatabaseName:ALL&&minReadsMaxSample:1
sqlParam     = intronSizeLimit:5000&&minIntronPercent:.00001&&minNonContainedRatio:.000001&&minContainedRatio:.000001&&minContainedScore:2&&minNonContainedScore:4&&maxIsrpmMult:50&&isrpmRatio:0.01&&externalDatabaseName:ALL&&minReadsMaxSample:1
glyph         = anchored_arrow 
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
fgcolor       = sub { GBrowse::Display::gsnapIntronColorFromStrandAndScore(shift) }
height        = sub { GBrowse::Display::gsnapIntronHeightFromPercent(shift) }
description   = 0  
#description   = This shows the distinct untron junctions from the union of all RNASeq experiments.  ISRPM is Intron Spanning Reads Per Million unique intron spanning reads and thus represents a normalized count of unique reads.  Percent of max is the percentage (Unique Reads this junction / Unique Reads of maximum junction for this gene) of this junction over the maximum for this gene. Highest Sample is the sample that has the highest ISRPM.  Best ISRPM / FPKM is the ratio of the ISRPM / FPKM (normalized expression) for the highest sample.  The table shows all experiments and samples that provide evidence for this intron junction.
linewidth     = sub { GBrowse::Display::gsnapIntronWidthFromIsAnnotated(shift) }  
balloon hover   = sub { GBrowse::PopupAndLinks::gsnapUnifiedIntronJunctionTitle(shift) }
balloon sticky  = 1  
bump density  = 1000 
label         = 0  
key           = RNASeq Unified Splice Site Junctions (inclusive)
citation      = sub { GBrowse::Display::gsnapIntronCitation() }

[GSNAPUnifiedIntronJunctionRefined]
feature       = gsnap:unifiedintronjunctionrefined
sqlName       = gsnap:unifiedintronjunction
sqlParam     = intronSizeLimit:5000&&minIntronPercent:.05&&minNonContainedRatio:.02&&minContainedRatio:.2&&minContainedScore:2&&minNonContainedScore:10&&maxIsrpmMult:50&&isrpmRatio:0.01&&externalDatabaseName:ALL&&minReadsMaxSample:3
glyph         = anchored_arrow 
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
fgcolor       = sub { GBrowse::Display::gsnapIntronColorFromStrandAndScore(shift) }
#description   = 0  
description   = This shows the distinct untron junctions from the union of all RNASeq experiments.  ISRPM is Intron Spanning Reads Per Million unique intron spanning reads and thus represents a normalized count of unique reads.  Percent of max is the percentage (Unique Reads this junction / Unique Reads of maximum junction for this gene) of this junction over the maximum for this gene. Highest Sample is the sample that has the highest ISRPM.  Best ISRPM / FPKM is the ratio of the ISRPM / FPKM (normalized expression) for the highest sample.  The table shows all experiments and samples that provide evidence for this intron junction.
height        = sub { GBrowse::Display::gsnapIntronHeightFromPercent(shift) }
description   = 0  
linewidth     = sub { GBrowse::Display::gsnapIntronWidthFromIsAnnotated(shift) }  
balloon hover   = sub { GBrowse::PopupAndLinks::gsnapUnifiedIntronJunctionTitle(shift) }
balloon sticky  = 1  
bump density  = 1000 
label         = 0  
key           = RNASeq Unified Splice Site Junctions (filtered)
citation      = sub { GBrowse::Display::gsnapIntronCitation() }include "common/gsnapintronunified.conf"

[EST_10]
feature     = alignment:BLAT
glyph       = segments
bgcolor      = lightskyblue
fgcolor      = blue
description = 0
height      = 6
label       = 0
link        = sub { GBrowse::PopupAndLinks::estLink(shift) }
balloon hover = sub { GBrowse::PopupAndLinks::estTitle(shift) } 
category     = sub { GBrowse::Configuration::getOntologyCategoryFromTrackName(@_) }
preset     = Annotation
key        = EST Alignments - Top 10


########### the following is a test for bigwig data set #######

#[BigWigWB2:database]
#db_adaptor    = Bio::DB::BigWigSetEuPath
#db_args       = -index metadata.giardiadb
#                -bigwigdir /var/www/Common/apiSiteFilesMirror/auxiliary/GiardiaDB/bigwigtest2

#[BigWigWB2:database]
#db_adaptor    = Bio::DB::BigWigSetEuPath
#db_args       = sub { { -index => $CFG->bigwig_file_path. '/gassAWB_Svard_rnaSeq_RSRC/metadata' } }

#[BigWigWB2Intervals]
#feature = Coverage
#database = BigWigWB2
#glyph    = wiggle_xyplot
#no_grid  = 1
#height   = 40
#key      = RNA Seq GS/P15/WB Samples 
#bgcolor      = sub { GBrowse::Display::rnaseqColorFromBigWigFiles(shift) }
#scale        = both
#autoscale    = local
#link         = javascript:void(0)
#title        = sub{}
#category    = Transcript Expression Evidence: B. RNA-seq
#group_label  = 1
#group_label_position = top

# TEMPLATE_ANCHOR proteinExpressionMassSpecGBrowseTrack
# TEMPLATE_ANCHOR rnaSeqCoverageTrack
# TEMPLATE_ANCHOR rnaSeqCoverageTrackUnlogged
# TEMPLATE_ANCHOR htsSnpSampleDatabase
# TEMPLATE_ANCHOR htsSnpSampleCoverageXYTrack
# TEMPLATE_ANCHOR smallNcRnaSampleDatabase
# TEMPLATE_ANCHOR smallNcRnaSampleTrack


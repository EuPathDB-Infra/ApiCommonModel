[GENERAL]

initial landmark = CM000433:106357-116356

examples = CM000433:106357-116356 CM000436:10000-35000 cgd6_780 CMU_011540

#include "common/common_general.conf"

#include "common/unifiedMassSpec.conf"
#include "common/synteny.conf"
#include "common/nrdbBlat.conf"
#include "common/common_tracks.conf"

[Synteny]
subtrack table  = :"Chom contig" 'Cryptosporidium hominis TU502' contig =chom_span ;
                  :"Chom genes" 'Cryptosporidium hominis TU502' genes =chom_gene ;
                  :"Cmur contig" 'Cryptosporidium muris RN66' contig =cmur_span ;
                  :"Cmur genes" 'Cryptosporidium muris RN66' genes =cmur_gene ;
                  :"Cpar contig" 'Cryptosporidium parvum Iowa II' contig =cpar_span ;
                  :"Cpar genes" 'Cryptosporidium parvum Iowa II' genes =cpar_gene ;

[HtsAlignmentSNPsByClass]
feature  = SNP:HTSSnps
sqlName  = SNP:Population
sqlParam = edname:'cparIowaII_NGS_SNPsAndVariations'
category = Population Biology: SNPs (show < 61k for details)
glyph    = diamond
key      = SNPs by coding potential
bgcolor   = sub { GBrowse::Display::snpBgFromIsCodingAndNonSyn(shift) }
fgcolor  = bgcolor
title = sub{}
balloon hover= sub { GBrowse::PopupAndLinks::snpTitleQuick(shift) }
balloon sticky  = 1
label density = 2
height = sub { GBrowse::Display::snpHeight(shift) }
citation = HTS SNPs identified by alignment of HTS reads and VarScan SNP calling
  <p><table width="50%">
  <tr><th align="left" width="60">Color</th><th align="left">Class</th></th></tr>
  <tr><td bgcolor='black'><font color="whitesmoke"><b>White</b></font></td><td>&nbsp;Non-Coding</td></tr>
  <tr><td><font color="blue"><b>Blue</b></font></td><td>&nbsp;Coding (non-synonymous)</td></tr>
  <tr><td><font color="lightblue"><b>LightBlue</b></font></td><td>&nbsp;Coding (synonymous)</td></tr>
  </table>
  Please note: pop-up box will show details if viewing region is less than 60 kbp.

[UnifiedMassSpecPeptides]
category     = Protein Expression Evidence 



#filterOrganism=C. hominis,C. muris,C. parvum
[IsolatePopset]
feature      = match:IsolatePopset
glyph        = segments
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'red') }
bgcolor      = sub { GBrowse::Display::simpleFgColorFromStrand(shift, 'blue', 'darkred') }
bump_limit  = 20
font2color   = grey
stranded     = 1
height       = 6
description  = 0
label        = 0
# TODO
balloon hover = sub { my $f = shift;
                      my $name = $f->name;
                      my ($evalue) = $f->get_tag_values('Expect');
                      my ($qstart) = $f->get_tag_values('QStart');
                      my ($qend) = $f->get_tag_values('QStop');
                      my ($desc) = $f->get_tag_values('Note');
                      my ($matchlen) = $f->get_tag_values('MatchLen');
                      my @data;
                      push @data, [ 'Name:'   => $name ];
                      push @data, [ 'Score:'  => $f->score ];
                      push @data, [ 'Expect:' => $evalue ];
                      push @data, [ 'Match:'  => "$matchlen nt" ];
                      push @data, [ 'Note:'   => $desc ];
                      hover( "$name", \@data);
              }
link     = sub { my $f = shift; 
                 my $name = $f->name; 
             return "showRecord.do?name=IsolateRecordClasses.IsolateRecordClass&project_id=CryptoDB&primary_key=$name";
           }
citation     = Cryptosporidium isolates data
category = Population Biology: PopSet
key          = Isolate Sequences Aligned to C. muris, C. hominis and C. parvum Genomes


[Chr6mapping]
feature      = alignment:chr6mapping
sqlName      = alignment:sequence
sqlParam     = edName:='cparIowaII_cparvumChr6Transcripts_transcript_sequences_RSRC'
category      = Gene Models : A. Annotated
glyph        = processed_transcript_gtu
require_subparts = 1
tkcolor       = #CCCCFF
bgcolor      = sub { GBrowse::Display::simpleBgColorFromStrand(shift, 'lightblue', 'pink') }
font2color   = darkgrey
height       = 6
title        = 1
balloon hover = sub { GBrowse::PopupAndLinks::sequenceAlignmentTitle(shift) }
balloon sticky  = 1
label        = 1
description  = 1
key          = Transcripts from alternate Chr6 annotation
citation     = 


# TEMPLATE_ANCHOR rnaSeqCoverageTrack
# TEMPLATE_ANCHOR rnaSeqCoverageTrackUnlogged
# TEMPLATE_ANCHOR rnaSeqJunctionsTrack

# TEMPLATE_ANCHOR proteinExpressionMassSpecGBrowseTrack

# TEMPLATE_ANCHOR htsSnpSampleDatabase
# TEMPLATE_ANCHOR htsSnpSampleCoverageXYTrack
# TEMPLATE_ANCHOR smallNcRnaSampleDatabase
# TEMPLATE_ANCHOR smallNcRnaSampleTrack
